(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function J_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bf={exports:{}},Sl={},zf={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function ES(){if(Z0)return De;Z0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=w&&B[w]||B["@@iterator"],typeof B=="function"?B:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,D={};function N(B,X,we){this.props=B,this.context=X,this.refs=D,this.updater=we||C}N.prototype.isReactComponent={},N.prototype.setState=function(B,X){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,X,"setState")},N.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function z(){}z.prototype=N.prototype;function G(B,X,we){this.props=B,this.context=X,this.refs=D,this.updater=we||C}var M=G.prototype=new z;M.constructor=G,V(M,N.prototype),M.isPureReactComponent=!0;var Y=Array.isArray,Z=Object.prototype.hasOwnProperty,re={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function I(B,X,we){var be,Ve={},Le=null,Ue=null;if(X!=null)for(be in X.ref!==void 0&&(Ue=X.ref),X.key!==void 0&&(Le=""+X.key),X)Z.call(X,be)&&!R.hasOwnProperty(be)&&(Ve[be]=X[be]);var q=arguments.length-2;if(q===1)Ve.children=we;else if(1<q){for(var le=Array(q),ie=0;ie<q;ie++)le[ie]=arguments[ie+2];Ve.children=le}if(B&&B.defaultProps)for(be in q=B.defaultProps,q)Ve[be]===void 0&&(Ve[be]=q[be]);return{$$typeof:n,type:B,key:Le,ref:Ue,props:Ve,_owner:re.current}}function A(B,X){return{$$typeof:n,type:B.type,key:X,ref:B.ref,props:B.props,_owner:B._owner}}function b(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function O(B){var X={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(we){return X[we]})}var F=/\/+/g;function k(B,X){return typeof B=="object"&&B!==null&&B.key!=null?O(""+B.key):X.toString(36)}function We(B,X,we,be,Ve){var Le=typeof B;(Le==="undefined"||Le==="boolean")&&(B=null);var Ue=!1;if(B===null)Ue=!0;else switch(Le){case"string":case"number":Ue=!0;break;case"object":switch(B.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=B,Ve=Ve(Ue),B=be===""?"."+k(Ue,0):be,Y(Ve)?(we="",B!=null&&(we=B.replace(F,"$&/")+"/"),We(Ve,X,we,"",function(ie){return ie})):Ve!=null&&(b(Ve)&&(Ve=A(Ve,we+(!Ve.key||Ue&&Ue.key===Ve.key?"":(""+Ve.key).replace(F,"$&/")+"/")+B)),X.push(Ve)),1;if(Ue=0,be=be===""?".":be+":",Y(B))for(var q=0;q<B.length;q++){Le=B[q];var le=be+k(Le,q);Ue+=We(Le,X,we,le,Ve)}else if(le=x(B),typeof le=="function")for(B=le.call(B),q=0;!(Le=B.next()).done;)Le=Le.value,le=be+k(Le,q++),Ue+=We(Le,X,we,le,Ve);else if(Le==="object")throw X=String(B),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Ue}function ft(B,X,we){if(B==null)return B;var be=[],Ve=0;return We(B,be,"","",function(Le){return X.call(we,Le,Ve++)}),be}function St(B){if(B._status===-1){var X=B._result;X=X(),X.then(function(we){(B._status===0||B._status===-1)&&(B._status=1,B._result=we)},function(we){(B._status===0||B._status===-1)&&(B._status=2,B._result=we)}),B._status===-1&&(B._status=0,B._result=X)}if(B._status===1)return B._result.default;throw B._result}var Ce={current:null},oe={transition:null},ge={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:oe,ReactCurrentOwner:re};function he(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:ft,forEach:function(B,X,we){ft(B,function(){X.apply(this,arguments)},we)},count:function(B){var X=0;return ft(B,function(){X++}),X},toArray:function(B){return ft(B,function(X){return X})||[]},only:function(B){if(!b(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},De.Component=N,De.Fragment=t,De.Profiler=o,De.PureComponent=G,De.StrictMode=r,De.Suspense=f,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,De.act=he,De.cloneElement=function(B,X,we){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var be=V({},B.props),Ve=B.key,Le=B.ref,Ue=B._owner;if(X!=null){if(X.ref!==void 0&&(Le=X.ref,Ue=re.current),X.key!==void 0&&(Ve=""+X.key),B.type&&B.type.defaultProps)var q=B.type.defaultProps;for(le in X)Z.call(X,le)&&!R.hasOwnProperty(le)&&(be[le]=X[le]===void 0&&q!==void 0?q[le]:X[le])}var le=arguments.length-2;if(le===1)be.children=we;else if(1<le){q=Array(le);for(var ie=0;ie<le;ie++)q[ie]=arguments[ie+2];be.children=q}return{$$typeof:n,type:B.type,key:Ve,ref:Le,props:be,_owner:Ue}},De.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},De.createElement=I,De.createFactory=function(B){var X=I.bind(null,B);return X.type=B,X},De.createRef=function(){return{current:null}},De.forwardRef=function(B){return{$$typeof:d,render:B}},De.isValidElement=b,De.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:St}},De.memo=function(B,X){return{$$typeof:p,type:B,compare:X===void 0?null:X}},De.startTransition=function(B){var X=oe.transition;oe.transition={};try{B()}finally{oe.transition=X}},De.unstable_act=he,De.useCallback=function(B,X){return Ce.current.useCallback(B,X)},De.useContext=function(B){return Ce.current.useContext(B)},De.useDebugValue=function(){},De.useDeferredValue=function(B){return Ce.current.useDeferredValue(B)},De.useEffect=function(B,X){return Ce.current.useEffect(B,X)},De.useId=function(){return Ce.current.useId()},De.useImperativeHandle=function(B,X,we){return Ce.current.useImperativeHandle(B,X,we)},De.useInsertionEffect=function(B,X){return Ce.current.useInsertionEffect(B,X)},De.useLayoutEffect=function(B,X){return Ce.current.useLayoutEffect(B,X)},De.useMemo=function(B,X){return Ce.current.useMemo(B,X)},De.useReducer=function(B,X,we){return Ce.current.useReducer(B,X,we)},De.useRef=function(B){return Ce.current.useRef(B)},De.useState=function(B){return Ce.current.useState(B)},De.useSyncExternalStore=function(B,X,we){return Ce.current.useSyncExternalStore(B,X,we)},De.useTransition=function(){return Ce.current.useTransition()},De.version="18.3.1",De}var ev;function vm(){return ev||(ev=1,zf.exports=ES()),zf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function xS(){if(tv)return Sl;tv=1;var n=vm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var g,w={},x=null,C=null;p!==void 0&&(x=""+p),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(C=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(w[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)w[g]===void 0&&(w[g]=f[g]);return{$$typeof:e,type:d,key:x,ref:C,props:w,_owner:o.current}}return Sl.Fragment=t,Sl.jsx=u,Sl.jsxs=u,Sl}var nv;function TS(){return nv||(nv=1,Bf.exports=xS()),Bf.exports}var _=TS(),U=vm();const SS=J_(U);var Fc={},$f={exports:{}},yn={},Hf={exports:{}},Wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function IS(){return rv||(rv=1,(function(n){function e(oe,ge){var he=oe.length;oe.push(ge);e:for(;0<he;){var B=he-1>>>1,X=oe[B];if(0<o(X,ge))oe[B]=ge,oe[he]=X,he=B;else break e}}function t(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var ge=oe[0],he=oe.pop();if(he!==ge){oe[0]=he;e:for(var B=0,X=oe.length,we=X>>>1;B<we;){var be=2*(B+1)-1,Ve=oe[be],Le=be+1,Ue=oe[Le];if(0>o(Ve,he))Le<X&&0>o(Ue,Ve)?(oe[B]=Ue,oe[Le]=he,B=Le):(oe[B]=Ve,oe[be]=he,B=be);else if(Le<X&&0>o(Ue,he))oe[B]=Ue,oe[Le]=he,B=Le;else break e}}return ge}function o(oe,ge){var he=oe.sortIndex-ge.sortIndex;return he!==0?he:oe.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],p=[],g=1,w=null,x=3,C=!1,V=!1,D=!1,N=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(oe){for(var ge=t(p);ge!==null;){if(ge.callback===null)r(p);else if(ge.startTime<=oe)r(p),ge.sortIndex=ge.expirationTime,e(f,ge);else break;ge=t(p)}}function Y(oe){if(D=!1,M(oe),!V)if(t(f)!==null)V=!0,St(Z);else{var ge=t(p);ge!==null&&Ce(Y,ge.startTime-oe)}}function Z(oe,ge){V=!1,D&&(D=!1,z(I),I=-1),C=!0;var he=x;try{for(M(ge),w=t(f);w!==null&&(!(w.expirationTime>ge)||oe&&!O());){var B=w.callback;if(typeof B=="function"){w.callback=null,x=w.priorityLevel;var X=B(w.expirationTime<=ge);ge=n.unstable_now(),typeof X=="function"?w.callback=X:w===t(f)&&r(f),M(ge)}else r(f);w=t(f)}if(w!==null)var we=!0;else{var be=t(p);be!==null&&Ce(Y,be.startTime-ge),we=!1}return we}finally{w=null,x=he,C=!1}}var re=!1,R=null,I=-1,A=5,b=-1;function O(){return!(n.unstable_now()-b<A)}function F(){if(R!==null){var oe=n.unstable_now();b=oe;var ge=!0;try{ge=R(!0,oe)}finally{ge?k():(re=!1,R=null)}}else re=!1}var k;if(typeof G=="function")k=function(){G(F)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,ft=We.port2;We.port1.onmessage=F,k=function(){ft.postMessage(null)}}else k=function(){N(F,0)};function St(oe){R=oe,re||(re=!0,k())}function Ce(oe,ge){I=N(function(){oe(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){V||C||(V=!0,St(Z))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(oe){switch(x){case 1:case 2:case 3:var ge=3;break;default:ge=x}var he=x;x=ge;try{return oe()}finally{x=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,ge){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var he=x;x=oe;try{return ge()}finally{x=he}},n.unstable_scheduleCallback=function(oe,ge,he){var B=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?B+he:B):he=B,oe){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=he+X,oe={id:g++,callback:ge,priorityLevel:oe,startTime:he,expirationTime:X,sortIndex:-1},he>B?(oe.sortIndex=he,e(p,oe),t(f)===null&&oe===t(p)&&(D?(z(I),I=-1):D=!0,Ce(Y,he-B))):(oe.sortIndex=X,e(f,oe),V||C||(V=!0,St(Z))),oe},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(oe){var ge=x;return function(){var he=x;x=ge;try{return oe.apply(this,arguments)}finally{x=he}}}})(Wf)),Wf}var iv;function CS(){return iv||(iv=1,Hf.exports=IS()),Hf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function AS(){if(sv)return yn;sv=1;var n=vm(),e=CS();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function x(i){return f.call(w,i)?!0:f.call(g,i)?!1:p.test(i)?w[i]=!0:(g[i]=!0,!1)}function C(i,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function V(i,s,l,h){if(s===null||typeof s>"u"||C(i,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function D(i,s,l,h,m,v,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=v,this.removeEmptyString=T}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){N[i]=new D(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];N[s]=new D(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){N[i]=new D(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){N[i]=new D(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){N[i]=new D(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){N[i]=new D(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){N[i]=new D(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){N[i]=new D(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){N[i]=new D(i,5,!1,i.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function G(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(z,G);N[s]=new D(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(z,G);N[s]=new D(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(z,G);N[s]=new D(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){N[i]=new D(i,1,!1,i.toLowerCase(),null,!1,!1)}),N.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){N[i]=new D(i,1,!1,i.toLowerCase(),null,!0,!0)});function M(i,s,l,h){var m=N.hasOwnProperty(s)?N[s]:null;(m!==null?m.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(V(s,l,m,h)&&(l=null),h||m===null?x(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(s=m.attributeName,h=m.attributeNamespace,l===null?i.removeAttribute(s):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?i.setAttributeNS(h,s,l):i.setAttribute(s,l))))}var Y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),re=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),O=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),We=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),oe=Symbol.iterator;function ge(i){return i===null||typeof i!="object"?null:(i=oe&&i[oe]||i["@@iterator"],typeof i=="function"?i:null)}var he=Object.assign,B;function X(i){if(B===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);B=s&&s[1]||""}return`
`+B+i}var we=!1;function be(i,s){if(!i||we)return"";we=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(K){var h=K}Reflect.construct(i,[],s)}else{try{s.call()}catch(K){h=K}i.call(s.prototype)}else{try{throw Error()}catch(K){h=K}i()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),v=h.stack.split(`
`),T=m.length-1,P=v.length-1;1<=T&&0<=P&&m[T]!==v[P];)P--;for(;1<=T&&0<=P;T--,P--)if(m[T]!==v[P]){if(T!==1||P!==1)do if(T--,P--,0>P||m[T]!==v[P]){var L=`
`+m[T].replace(" at new "," at ");return i.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",i.displayName)),L}while(1<=T&&0<=P);break}}}finally{we=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?X(i):""}function Ve(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=be(i.type,!1),i;case 11:return i=be(i.type.render,!1),i;case 1:return i=be(i.type,!0),i;default:return""}}function Le(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case re:return"Portal";case A:return"Profiler";case I:return"StrictMode";case k:return"Suspense";case We:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case b:return(i._context.displayName||"Context")+".Provider";case F:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ft:return s=i.displayName||null,s!==null?s:Le(i.type)||"Memo";case St:s=i._payload,i=i._init;try{return Le(i(s))}catch{}}return null}function Ue(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function q(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function le(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ie(i){var s=le(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(T){h=""+T,v.call(this,T)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ne(i){i._valueTracker||(i._valueTracker=ie(i))}function Xe(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=le(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function It(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ct(i,s){var l=s.checked;return he({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Ys(i,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=q(s.value!=null?s.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ra(i,s){s=s.checked,s!=null&&M(i,"checked",s,!1)}function ba(i,s){Ra(i,s);var l=q(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Xs(i,s.type,l):s.hasOwnProperty("defaultValue")&&Xs(i,s.type,q(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function Su(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Xs(i,s,l){(s!=="number"||It(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Mr=Array.isArray;function Or(i,s,l,h){if(i=i.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=s.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&h&&(i[l].defaultSelected=!0)}else{for(l=""+q(l),s=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function Na(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return he({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Js(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Mr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:q(l)}}function Zs(i,s){var l=q(s.value),h=q(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function Va(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function Ct(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function At(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?Ct(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var jr,Da=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,m){MSApp.execUnsafeLocalFunction(function(){return i(s,l,h,m)})}:i})(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(jr=jr||document.createElement("div"),jr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=jr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ci(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},as=["Webkit","ms","Moz","O"];Object.keys(os).forEach(function(i){as.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),os[s]=os[i]})});function La(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||os.hasOwnProperty(i)&&os[i]?(""+s).trim():s+"px"}function Ma(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=La(l,s[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,m):i[l]=m}}var Oa=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ja(i,s){if(s){if(Oa[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Fa(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ls=null;function eo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var to=null,Pn=null,cr=null;function no(i){if(i=ul(i)){if(typeof to!="function")throw Error(t(280));var s=i.stateNode;s&&(s=ec(s),to(i.stateNode,i.type,s))}}function hr(i){Pn?cr?cr.push(i):cr=[i]:Pn=i}function Ua(){if(Pn){var i=Pn,s=cr;if(cr=Pn=null,no(i),s)for(i=0;i<s.length;i++)no(s[i])}}function us(i,s){return i(s)}function Ba(){}var Fr=!1;function za(i,s,l){if(Fr)return i(s,l);Fr=!0;try{return us(i,s,l)}finally{Fr=!1,(Pn!==null||cr!==null)&&(Ba(),Ua())}}function pt(i,s){var l=i.stateNode;if(l===null)return null;var h=ec(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var ro=!1;if(d)try{var $n={};Object.defineProperty($n,"passive",{get:function(){ro=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{ro=!1}function cs(i,s,l,h,m,v,T,P,L){var K=Array.prototype.slice.call(arguments,3);try{s.apply(l,K)}catch(ne){this.onError(ne)}}var hs=!1,io=null,Hn=!1,$a=null,pd={onError:function(i){hs=!0,io=i}};function so(i,s,l,h,m,v,T,P,L){hs=!1,io=null,cs.apply(pd,arguments)}function Iu(i,s,l,h,m,v,T,P,L){if(so.apply(this,arguments),hs){if(hs){var K=io;hs=!1,io=null}else throw Error(t(198));Hn||(Hn=!0,$a=K)}}function Wn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function ds(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function qn(i){if(Wn(i)!==i)throw Error(t(188))}function Cu(i){var s=i.alternate;if(!s){if(s=Wn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,h=s;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return qn(m),i;if(v===h)return qn(m),s;v=v.sibling}throw Error(t(188))}if(l.return!==h.return)l=m,h=v;else{for(var T=!1,P=m.child;P;){if(P===l){T=!0,l=m,h=v;break}if(P===h){T=!0,h=m,l=v;break}P=P.sibling}if(!T){for(P=v.child;P;){if(P===l){T=!0,l=v,h=m;break}if(P===h){T=!0,h=v,l=m;break}P=P.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function Ha(i){return i=Cu(i),i!==null?oo(i):null}function oo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=oo(i);if(s!==null)return s;i=i.sibling}return null}var ao=e.unstable_scheduleCallback,Wa=e.unstable_cancelCallback,Au=e.unstable_shouldYield,md=e.unstable_requestPaint,Qe=e.unstable_now,ku=e.unstable_getCurrentPriorityLevel,fs=e.unstable_ImmediatePriority,hi=e.unstable_UserBlockingPriority,Rn=e.unstable_NormalPriority,qa=e.unstable_LowPriority,Pu=e.unstable_IdlePriority,ps=null,En=null;function Ru(i){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(ps,i,void 0,(i.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:Nu,Ka=Math.log,bu=Math.LN2;function Nu(i){return i>>>=0,i===0?32:31-(Ka(i)/bu|0)|0}var lo=64,uo=4194304;function di(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ms(i,s){var l=i.pendingLanes;if(l===0)return 0;var h=0,m=i.suspendedLanes,v=i.pingedLanes,T=l&268435455;if(T!==0){var P=T&~m;P!==0?h=di(P):(v&=T,v!==0&&(h=di(v)))}else T=l&~m,T!==0?h=di(T):v!==0&&(h=di(v));if(h===0)return 0;if(s!==0&&s!==h&&(s&m)===0&&(m=h&-h,v=s&-s,m>=v||m===16&&(v&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)l=31-nn(s),m=1<<l,h|=i[l],s&=~m;return h}function gd(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ur(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var T=31-nn(v),P=1<<T,L=m[T];L===-1?((P&l)===0||(P&h)!==0)&&(m[T]=gd(P,s)):L<=s&&(i.expiredLanes|=P),v&=~P}}function xn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function gs(){var i=lo;return lo<<=1,(lo&4194240)===0&&(lo=64),i}function fi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function pi(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-nn(s),i[s]=l}function Ge(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-nn(l),v=1<<m;s[m]=0,h[m]=-1,i[m]=-1,l&=~v}}function mi(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-nn(l),m=1<<h;m&s|i[h]&s&&(i[h]|=s),l&=~m}}var Fe=0;function gi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Vu,co,Du,Lu,Mu,Ga=!1,dr=[],jt=null,Kn=null,Gn=null,yi=new Map,bn=new Map,fr=[],yd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ou(i,s){switch(i){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":yi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":bn.delete(s.pointerId)}}function cn(i,s,l,h,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},s!==null&&(s=ul(s),s!==null&&co(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function vd(i,s,l,h,m){switch(s){case"focusin":return jt=cn(jt,i,s,l,h,m),!0;case"dragenter":return Kn=cn(Kn,i,s,l,h,m),!0;case"mouseover":return Gn=cn(Gn,i,s,l,h,m),!0;case"pointerover":var v=m.pointerId;return yi.set(v,cn(yi.get(v)||null,i,s,l,h,m)),!0;case"gotpointercapture":return v=m.pointerId,bn.set(v,cn(bn.get(v)||null,i,s,l,h,m)),!0}return!1}function ju(i){var s=Es(i.target);if(s!==null){var l=Wn(s);if(l!==null){if(s=l.tag,s===13){if(s=ds(l),s!==null){i.blockedOn=s,Mu(i.priority,function(){Du(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Br(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=ho(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);ls=h,l.target.dispatchEvent(h),ls=null}else return s=ul(l),s!==null&&co(s),i.blockedOn=l,!1;s.shift()}return!0}function ys(i,s,l){Br(i)&&l.delete(s)}function Fu(){Ga=!1,jt!==null&&Br(jt)&&(jt=null),Kn!==null&&Br(Kn)&&(Kn=null),Gn!==null&&Br(Gn)&&(Gn=null),yi.forEach(ys),bn.forEach(ys)}function Qn(i,s){i.blockedOn===s&&(i.blockedOn=null,Ga||(Ga=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fu)))}function Yn(i){function s(m){return Qn(m,i)}if(0<dr.length){Qn(dr[0],i);for(var l=1;l<dr.length;l++){var h=dr[l];h.blockedOn===i&&(h.blockedOn=null)}}for(jt!==null&&Qn(jt,i),Kn!==null&&Qn(Kn,i),Gn!==null&&Qn(Gn,i),yi.forEach(s),bn.forEach(s),l=0;l<fr.length;l++)h=fr[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<fr.length&&(l=fr[0],l.blockedOn===null);)ju(l),l.blockedOn===null&&fr.shift()}var zr=Y.ReactCurrentBatchConfig,vi=!0;function tt(i,s,l,h){var m=Fe,v=zr.transition;zr.transition=null;try{Fe=1,Qa(i,s,l,h)}finally{Fe=m,zr.transition=v}}function _d(i,s,l,h){var m=Fe,v=zr.transition;zr.transition=null;try{Fe=4,Qa(i,s,l,h)}finally{Fe=m,zr.transition=v}}function Qa(i,s,l,h){if(vi){var m=ho(i,s,l,h);if(m===null)Rd(i,s,h,vs,l),Ou(i,h);else if(vd(m,i,s,l,h))h.stopPropagation();else if(Ou(i,h),s&4&&-1<yd.indexOf(i)){for(;m!==null;){var v=ul(m);if(v!==null&&Vu(v),v=ho(i,s,l,h),v===null&&Rd(i,s,h,vs,l),v===m)break;m=v}m!==null&&h.stopPropagation()}else Rd(i,s,h,null,l)}}var vs=null;function ho(i,s,l,h){if(vs=null,i=eo(h),i=Es(i),i!==null)if(s=Wn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=ds(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return vs=i,null}function Ya(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ku()){case fs:return 1;case hi:return 4;case Rn:case qa:return 16;case Pu:return 536870912;default:return 16}default:return 16}}var Tn=null,fo=null,hn=null;function Xa(){if(hn)return hn;var i,s=fo,l=s.length,h,m="value"in Tn?Tn.value:Tn.textContent,v=m.length;for(i=0;i<l&&s[i]===m[i];i++);var T=l-i;for(h=1;h<=T&&s[l-h]===m[v-h];h++);return hn=m.slice(i,1<h?1-h:void 0)}function po(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function pr(){return!0}function Ja(){return!1}function Ft(i){function s(l,h,m,v,T){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(l=i[P],this[P]=l?l(v):v[P]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?pr:Ja,this.isPropagationStopped=Ja,this}return he(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),s}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=Ft(Xn),mr=he({},Xn,{view:0,detail:0}),wd=Ft(mr),go,$r,_i,_s=he({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_i&&(_i&&i.type==="mousemove"?(go=i.screenX-_i.screenX,$r=i.screenY-_i.screenY):$r=go=0,_i=i),go)},movementY:function(i){return"movementY"in i?i.movementY:$r}}),yo=Ft(_s),Za=he({},_s,{dataTransfer:0}),Uu=Ft(Za),vo=he({},mr,{relatedTarget:0}),_o=Ft(vo),Bu=he({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),Hr=Ft(Bu),zu=he({},Xn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$u=Ft(zu),Hu=he({},Xn,{data:0}),el=Ft(Hu),wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Wu[i])?!!s[i]:!1}function gr(){return qu}var c=he({},mr,{key:function(i){if(i.key){var s=wo[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=po(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(i){return i.type==="keypress"?po(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?po(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Ft(c),E=he({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Ft(E),$=he({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),Q=Ft($),ue=he({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ke=Ft(ue),kt=he({},_s,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=Ft(kt),Vt=[9,13,27,32],vt=d&&"CompositionEvent"in window,Nn=null;d&&"documentMode"in document&&(Nn=document.documentMode);var Sn=d&&"TextEvent"in window&&!Nn,ws=d&&(!vt||Nn&&8<Nn&&11>=Nn),Eo=" ",Kg=!1;function Gg(i,s){switch(i){case"keyup":return Vt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var xo=!1;function v2(i,s){switch(i){case"compositionend":return Qg(s);case"keypress":return s.which!==32?null:(Kg=!0,Eo);case"textInput":return i=s.data,i===Eo&&Kg?null:i;default:return null}}function _2(i,s){if(xo)return i==="compositionend"||!vt&&Gg(i,s)?(i=Xa(),hn=fo=Tn=null,xo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ws&&s.locale!=="ko"?null:s.data;default:return null}}var w2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!w2[i.type]:s==="textarea"}function Xg(i,s,l,h){hr(h),s=Xu(s,"onChange"),0<s.length&&(l=new mo("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var tl=null,nl=null;function E2(i){my(i,0)}function Ku(i){var s=Ao(i);if(Xe(s))return i}function x2(i,s){if(i==="change")return s}var Jg=!1;if(d){var Ed;if(d){var xd="oninput"in document;if(!xd){var Zg=document.createElement("div");Zg.setAttribute("oninput","return;"),xd=typeof Zg.oninput=="function"}Ed=xd}else Ed=!1;Jg=Ed&&(!document.documentMode||9<document.documentMode)}function ey(){tl&&(tl.detachEvent("onpropertychange",ty),nl=tl=null)}function ty(i){if(i.propertyName==="value"&&Ku(nl)){var s=[];Xg(s,nl,i,eo(i)),za(E2,s)}}function T2(i,s,l){i==="focusin"?(ey(),tl=s,nl=l,tl.attachEvent("onpropertychange",ty)):i==="focusout"&&ey()}function S2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ku(nl)}function I2(i,s){if(i==="click")return Ku(s)}function C2(i,s){if(i==="input"||i==="change")return Ku(s)}function A2(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Jn=typeof Object.is=="function"?Object.is:A2;function rl(i,s){if(Jn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!f.call(s,m)||!Jn(i[m],s[m]))return!1}return!0}function ny(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ry(i,s){var l=ny(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ny(l)}}function iy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?iy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function sy(){for(var i=window,s=It();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=It(i.document)}return s}function Td(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function k2(i){var s=sy(),l=i.focusedElem,h=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&iy(l.ownerDocument.documentElement,l)){if(h!==null&&Td(l)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,v=Math.min(h.start,m);h=h.end===void 0?v:Math.min(h.end,m),!i.extend&&v>h&&(m=h,h=v,v=m),m=ry(l,v);var T=ry(l,h);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),i.removeAllRanges(),v>h?(i.addRange(s),i.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var P2=d&&"documentMode"in document&&11>=document.documentMode,To=null,Sd=null,il=null,Id=!1;function oy(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Id||To==null||To!==It(h)||(h=To,"selectionStart"in h&&Td(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),il&&rl(il,h)||(il=h,h=Xu(Sd,"onSelect"),0<h.length&&(s=new mo("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=To)))}function Gu(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var So={animationend:Gu("Animation","AnimationEnd"),animationiteration:Gu("Animation","AnimationIteration"),animationstart:Gu("Animation","AnimationStart"),transitionend:Gu("Transition","TransitionEnd")},Cd={},ay={};d&&(ay=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Qu(i){if(Cd[i])return Cd[i];if(!So[i])return i;var s=So[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in ay)return Cd[i]=s[l];return i}var ly=Qu("animationend"),uy=Qu("animationiteration"),cy=Qu("animationstart"),hy=Qu("transitionend"),dy=new Map,fy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(i,s){dy.set(i,s),a(s,[i])}for(var Ad=0;Ad<fy.length;Ad++){var kd=fy[Ad],R2=kd.toLowerCase(),b2=kd[0].toUpperCase()+kd.slice(1);wi(R2,"on"+b2)}wi(ly,"onAnimationEnd"),wi(uy,"onAnimationIteration"),wi(cy,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(hy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N2=new Set("cancel close invalid load scroll toggle".split(" ").concat(sl));function py(i,s,l){var h=i.type||"unknown-event";i.currentTarget=l,Iu(h,s,void 0,i),i.currentTarget=null}function my(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],m=h.event;h=h.listeners;e:{var v=void 0;if(s)for(var T=h.length-1;0<=T;T--){var P=h[T],L=P.instance,K=P.currentTarget;if(P=P.listener,L!==v&&m.isPropagationStopped())break e;py(m,P,K),v=L}else for(T=0;T<h.length;T++){if(P=h[T],L=P.instance,K=P.currentTarget,P=P.listener,L!==v&&m.isPropagationStopped())break e;py(m,P,K),v=L}}}if(Hn)throw i=$a,Hn=!1,$a=null,i}function Je(i,s){var l=s[Md];l===void 0&&(l=s[Md]=new Set);var h=i+"__bubble";l.has(h)||(gy(s,i,2,!1),l.add(h))}function Pd(i,s,l){var h=0;s&&(h|=4),gy(l,i,h,s)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function ol(i){if(!i[Yu]){i[Yu]=!0,r.forEach(function(l){l!=="selectionchange"&&(N2.has(l)||Pd(l,!1,i),Pd(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Yu]||(s[Yu]=!0,Pd("selectionchange",!1,s))}}function gy(i,s,l,h){switch(Ya(s)){case 1:var m=tt;break;case 4:m=_d;break;default:m=Qa}l=m.bind(null,s,l,i),m=void 0,!ro||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(s,l,{capture:!0,passive:m}):i.addEventListener(s,l,!0):m!==void 0?i.addEventListener(s,l,{passive:m}):i.addEventListener(s,l,!1)}function Rd(i,s,l,h,m){var v=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var P=h.stateNode.containerInfo;if(P===m||P.nodeType===8&&P.parentNode===m)break;if(T===4)for(T=h.return;T!==null;){var L=T.tag;if((L===3||L===4)&&(L=T.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;T=T.return}for(;P!==null;){if(T=Es(P),T===null)return;if(L=T.tag,L===5||L===6){h=v=T;continue e}P=P.parentNode}}h=h.return}za(function(){var K=v,ne=eo(l),se=[];e:{var ee=dy.get(i);if(ee!==void 0){var de=mo,me=i;switch(i){case"keypress":if(po(l)===0)break e;case"keydown":case"keyup":de=y;break;case"focusin":me="focus",de=_o;break;case"focusout":me="blur",de=_o;break;case"beforeblur":case"afterblur":de=_o;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Q;break;case ly:case uy:case cy:de=Hr;break;case hy:de=Ke;break;case"scroll":de=wd;break;case"wheel":de=Be;break;case"copy":case"cut":case"paste":de=$u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=S}var ye=(s&4)!==0,mt=!ye&&i==="scroll",H=ye?ee!==null?ee+"Capture":null:ee;ye=[];for(var j=K,W;j!==null;){W=j;var ae=W.stateNode;if(W.tag===5&&ae!==null&&(W=ae,H!==null&&(ae=pt(j,H),ae!=null&&ye.push(al(j,ae,W)))),mt)break;j=j.return}0<ye.length&&(ee=new de(ee,me,null,l,ne),se.push({event:ee,listeners:ye}))}}if((s&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",ee&&l!==ls&&(me=l.relatedTarget||l.fromElement)&&(Es(me)||me[Wr]))break e;if((de||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,de?(me=l.relatedTarget||l.toElement,de=K,me=me?Es(me):null,me!==null&&(mt=Wn(me),me!==mt||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=K),de!==me)){if(ye=yo,ae="onMouseLeave",H="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(ye=S,ae="onPointerLeave",H="onPointerEnter",j="pointer"),mt=de==null?ee:Ao(de),W=me==null?ee:Ao(me),ee=new ye(ae,j+"leave",de,l,ne),ee.target=mt,ee.relatedTarget=W,ae=null,Es(ne)===K&&(ye=new ye(H,j+"enter",me,l,ne),ye.target=W,ye.relatedTarget=mt,ae=ye),mt=ae,de&&me)t:{for(ye=de,H=me,j=0,W=ye;W;W=Io(W))j++;for(W=0,ae=H;ae;ae=Io(ae))W++;for(;0<j-W;)ye=Io(ye),j--;for(;0<W-j;)H=Io(H),W--;for(;j--;){if(ye===H||H!==null&&ye===H.alternate)break t;ye=Io(ye),H=Io(H)}ye=null}else ye=null;de!==null&&yy(se,ee,de,ye,!1),me!==null&&mt!==null&&yy(se,mt,me,ye,!0)}}e:{if(ee=K?Ao(K):window,de=ee.nodeName&&ee.nodeName.toLowerCase(),de==="select"||de==="input"&&ee.type==="file")var ve=x2;else if(Yg(ee))if(Jg)ve=C2;else{ve=S2;var Ee=T2}else(de=ee.nodeName)&&de.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ve=I2);if(ve&&(ve=ve(i,K))){Xg(se,ve,l,ne);break e}Ee&&Ee(i,ee,K),i==="focusout"&&(Ee=ee._wrapperState)&&Ee.controlled&&ee.type==="number"&&Xs(ee,"number",ee.value)}switch(Ee=K?Ao(K):window,i){case"focusin":(Yg(Ee)||Ee.contentEditable==="true")&&(To=Ee,Sd=K,il=null);break;case"focusout":il=Sd=To=null;break;case"mousedown":Id=!0;break;case"contextmenu":case"mouseup":case"dragend":Id=!1,oy(se,l,ne);break;case"selectionchange":if(P2)break;case"keydown":case"keyup":oy(se,l,ne)}var xe;if(vt)e:{switch(i){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else xo?Gg(i,l)&&(ke="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(ws&&l.locale!=="ko"&&(xo||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&xo&&(xe=Xa()):(Tn=ne,fo="value"in Tn?Tn.value:Tn.textContent,xo=!0)),Ee=Xu(K,ke),0<Ee.length&&(ke=new el(ke,i,null,l,ne),se.push({event:ke,listeners:Ee}),xe?ke.data=xe:(xe=Qg(l),xe!==null&&(ke.data=xe)))),(xe=Sn?v2(i,l):_2(i,l))&&(K=Xu(K,"onBeforeInput"),0<K.length&&(ne=new el("onBeforeInput","beforeinput",null,l,ne),se.push({event:ne,listeners:K}),ne.data=xe))}my(se,s)})}function al(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Xu(i,s){for(var l=s+"Capture",h=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=pt(i,l),v!=null&&h.unshift(al(i,v,m)),v=pt(i,s),v!=null&&h.push(al(i,v,m))),i=i.return}return h}function Io(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function yy(i,s,l,h,m){for(var v=s._reactName,T=[];l!==null&&l!==h;){var P=l,L=P.alternate,K=P.stateNode;if(L!==null&&L===h)break;P.tag===5&&K!==null&&(P=K,m?(L=pt(l,v),L!=null&&T.unshift(al(l,L,P))):m||(L=pt(l,v),L!=null&&T.push(al(l,L,P)))),l=l.return}T.length!==0&&i.push({event:s,listeners:T})}var V2=/\r\n?/g,D2=/\u0000|\uFFFD/g;function vy(i){return(typeof i=="string"?i:""+i).replace(V2,`
`).replace(D2,"")}function Ju(i,s,l){if(s=vy(s),vy(i)!==s&&l)throw Error(t(425))}function Zu(){}var bd=null,Nd=null;function Vd(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Dd=typeof setTimeout=="function"?setTimeout:void 0,L2=typeof clearTimeout=="function"?clearTimeout:void 0,_y=typeof Promise=="function"?Promise:void 0,M2=typeof queueMicrotask=="function"?queueMicrotask:typeof _y<"u"?function(i){return _y.resolve(null).then(i).catch(O2)}:Dd;function O2(i){setTimeout(function(){throw i})}function Ld(i,s){var l=s,h=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){i.removeChild(m),Yn(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);Yn(s)}function Ei(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function wy(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var Co=Math.random().toString(36).slice(2),yr="__reactFiber$"+Co,ll="__reactProps$"+Co,Wr="__reactContainer$"+Co,Md="__reactEvents$"+Co,j2="__reactListeners$"+Co,F2="__reactHandles$"+Co;function Es(i){var s=i[yr];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Wr]||l[yr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=wy(i);i!==null;){if(l=i[yr])return l;i=wy(i)}return s}i=l,l=i.parentNode}return null}function ul(i){return i=i[yr]||i[Wr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ao(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function ec(i){return i[ll]||null}var Od=[],ko=-1;function xi(i){return{current:i}}function Ze(i){0>ko||(i.current=Od[ko],Od[ko]=null,ko--)}function Ye(i,s){ko++,Od[ko]=i.current,i.current=s}var Ti={},Kt=xi(Ti),dn=xi(!1),xs=Ti;function Po(i,s){var l=i.type.contextTypes;if(!l)return Ti;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=s[v];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=m),m}function fn(i){return i=i.childContextTypes,i!=null}function tc(){Ze(dn),Ze(Kt)}function Ey(i,s,l){if(Kt.current!==Ti)throw Error(t(168));Ye(Kt,s),Ye(dn,l)}function xy(i,s,l){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in s))throw Error(t(108,Ue(i)||"Unknown",m));return he({},l,h)}function nc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ti,xs=Kt.current,Ye(Kt,i),Ye(dn,dn.current),!0}function Ty(i,s,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=xy(i,s,xs),h.__reactInternalMemoizedMergedChildContext=i,Ze(dn),Ze(Kt),Ye(Kt,i)):Ze(dn),Ye(dn,l)}var qr=null,rc=!1,jd=!1;function Sy(i){qr===null?qr=[i]:qr.push(i)}function U2(i){rc=!0,Sy(i)}function Si(){if(!jd&&qr!==null){jd=!0;var i=0,s=Fe;try{var l=qr;for(Fe=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}qr=null,rc=!1}catch(m){throw qr!==null&&(qr=qr.slice(i+1)),ao(fs,Si),m}finally{Fe=s,jd=!1}}return null}var Ro=[],bo=0,ic=null,sc=0,Vn=[],Dn=0,Ts=null,Kr=1,Gr="";function Ss(i,s){Ro[bo++]=sc,Ro[bo++]=ic,ic=i,sc=s}function Iy(i,s,l){Vn[Dn++]=Kr,Vn[Dn++]=Gr,Vn[Dn++]=Ts,Ts=i;var h=Kr;i=Gr;var m=32-nn(h)-1;h&=~(1<<m),l+=1;var v=32-nn(s)+m;if(30<v){var T=m-m%5;v=(h&(1<<T)-1).toString(32),h>>=T,m-=T,Kr=1<<32-nn(s)+m|l<<m|h,Gr=v+i}else Kr=1<<v|l<<m|h,Gr=i}function Fd(i){i.return!==null&&(Ss(i,1),Iy(i,1,0))}function Ud(i){for(;i===ic;)ic=Ro[--bo],Ro[bo]=null,sc=Ro[--bo],Ro[bo]=null;for(;i===Ts;)Ts=Vn[--Dn],Vn[Dn]=null,Gr=Vn[--Dn],Vn[Dn]=null,Kr=Vn[--Dn],Vn[Dn]=null}var In=null,Cn=null,nt=!1,Zn=null;function Cy(i,s){var l=jn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Ay(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,In=i,Cn=Ei(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,In=i,Cn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ts!==null?{id:Kr,overflow:Gr}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=jn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,In=i,Cn=null,!0):!1;default:return!1}}function Bd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function zd(i){if(nt){var s=Cn;if(s){var l=s;if(!Ay(i,s)){if(Bd(i))throw Error(t(418));s=Ei(l.nextSibling);var h=In;s&&Ay(i,s)?Cy(h,l):(i.flags=i.flags&-4097|2,nt=!1,In=i)}}else{if(Bd(i))throw Error(t(418));i.flags=i.flags&-4097|2,nt=!1,In=i}}}function ky(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;In=i}function oc(i){if(i!==In)return!1;if(!nt)return ky(i),nt=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Vd(i.type,i.memoizedProps)),s&&(s=Cn)){if(Bd(i))throw Py(),Error(t(418));for(;s;)Cy(i,s),s=Ei(s.nextSibling)}if(ky(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){Cn=Ei(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}Cn=null}}else Cn=In?Ei(i.stateNode.nextSibling):null;return!0}function Py(){for(var i=Cn;i;)i=Ei(i.nextSibling)}function No(){Cn=In=null,nt=!1}function $d(i){Zn===null?Zn=[i]:Zn.push(i)}var B2=Y.ReactCurrentBatchConfig;function cl(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var m=h,v=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(T){var P=m.refs;T===null?delete P[v]:P[v]=T},s._stringRef=v,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function ac(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Ry(i){var s=i._init;return s(i._payload)}function by(i){function s(H,j){if(i){var W=H.deletions;W===null?(H.deletions=[j],H.flags|=16):W.push(j)}}function l(H,j){if(!i)return null;for(;j!==null;)s(H,j),j=j.sibling;return null}function h(H,j){for(H=new Map;j!==null;)j.key!==null?H.set(j.key,j):H.set(j.index,j),j=j.sibling;return H}function m(H,j){return H=Ni(H,j),H.index=0,H.sibling=null,H}function v(H,j,W){return H.index=W,i?(W=H.alternate,W!==null?(W=W.index,W<j?(H.flags|=2,j):W):(H.flags|=2,j)):(H.flags|=1048576,j)}function T(H){return i&&H.alternate===null&&(H.flags|=2),H}function P(H,j,W,ae){return j===null||j.tag!==6?(j=Lf(W,H.mode,ae),j.return=H,j):(j=m(j,W),j.return=H,j)}function L(H,j,W,ae){var ve=W.type;return ve===R?ne(H,j,W.props.children,ae,W.key):j!==null&&(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===St&&Ry(ve)===j.type)?(ae=m(j,W.props),ae.ref=cl(H,j,W),ae.return=H,ae):(ae=bc(W.type,W.key,W.props,null,H.mode,ae),ae.ref=cl(H,j,W),ae.return=H,ae)}function K(H,j,W,ae){return j===null||j.tag!==4||j.stateNode.containerInfo!==W.containerInfo||j.stateNode.implementation!==W.implementation?(j=Mf(W,H.mode,ae),j.return=H,j):(j=m(j,W.children||[]),j.return=H,j)}function ne(H,j,W,ae,ve){return j===null||j.tag!==7?(j=Ns(W,H.mode,ae,ve),j.return=H,j):(j=m(j,W),j.return=H,j)}function se(H,j,W){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Lf(""+j,H.mode,W),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Z:return W=bc(j.type,j.key,j.props,null,H.mode,W),W.ref=cl(H,null,j),W.return=H,W;case re:return j=Mf(j,H.mode,W),j.return=H,j;case St:var ae=j._init;return se(H,ae(j._payload),W)}if(Mr(j)||ge(j))return j=Ns(j,H.mode,W,null),j.return=H,j;ac(H,j)}return null}function ee(H,j,W,ae){var ve=j!==null?j.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return ve!==null?null:P(H,j,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Z:return W.key===ve?L(H,j,W,ae):null;case re:return W.key===ve?K(H,j,W,ae):null;case St:return ve=W._init,ee(H,j,ve(W._payload),ae)}if(Mr(W)||ge(W))return ve!==null?null:ne(H,j,W,ae,null);ac(H,W)}return null}function de(H,j,W,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return H=H.get(W)||null,P(j,H,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case Z:return H=H.get(ae.key===null?W:ae.key)||null,L(j,H,ae,ve);case re:return H=H.get(ae.key===null?W:ae.key)||null,K(j,H,ae,ve);case St:var Ee=ae._init;return de(H,j,W,Ee(ae._payload),ve)}if(Mr(ae)||ge(ae))return H=H.get(W)||null,ne(j,H,ae,ve,null);ac(j,ae)}return null}function me(H,j,W,ae){for(var ve=null,Ee=null,xe=j,ke=j=0,Mt=null;xe!==null&&ke<W.length;ke++){xe.index>ke?(Mt=xe,xe=null):Mt=xe.sibling;var He=ee(H,xe,W[ke],ae);if(He===null){xe===null&&(xe=Mt);break}i&&xe&&He.alternate===null&&s(H,xe),j=v(He,j,ke),Ee===null?ve=He:Ee.sibling=He,Ee=He,xe=Mt}if(ke===W.length)return l(H,xe),nt&&Ss(H,ke),ve;if(xe===null){for(;ke<W.length;ke++)xe=se(H,W[ke],ae),xe!==null&&(j=v(xe,j,ke),Ee===null?ve=xe:Ee.sibling=xe,Ee=xe);return nt&&Ss(H,ke),ve}for(xe=h(H,xe);ke<W.length;ke++)Mt=de(xe,H,ke,W[ke],ae),Mt!==null&&(i&&Mt.alternate!==null&&xe.delete(Mt.key===null?ke:Mt.key),j=v(Mt,j,ke),Ee===null?ve=Mt:Ee.sibling=Mt,Ee=Mt);return i&&xe.forEach(function(Vi){return s(H,Vi)}),nt&&Ss(H,ke),ve}function ye(H,j,W,ae){var ve=ge(W);if(typeof ve!="function")throw Error(t(150));if(W=ve.call(W),W==null)throw Error(t(151));for(var Ee=ve=null,xe=j,ke=j=0,Mt=null,He=W.next();xe!==null&&!He.done;ke++,He=W.next()){xe.index>ke?(Mt=xe,xe=null):Mt=xe.sibling;var Vi=ee(H,xe,He.value,ae);if(Vi===null){xe===null&&(xe=Mt);break}i&&xe&&Vi.alternate===null&&s(H,xe),j=v(Vi,j,ke),Ee===null?ve=Vi:Ee.sibling=Vi,Ee=Vi,xe=Mt}if(He.done)return l(H,xe),nt&&Ss(H,ke),ve;if(xe===null){for(;!He.done;ke++,He=W.next())He=se(H,He.value,ae),He!==null&&(j=v(He,j,ke),Ee===null?ve=He:Ee.sibling=He,Ee=He);return nt&&Ss(H,ke),ve}for(xe=h(H,xe);!He.done;ke++,He=W.next())He=de(xe,H,ke,He.value,ae),He!==null&&(i&&He.alternate!==null&&xe.delete(He.key===null?ke:He.key),j=v(He,j,ke),Ee===null?ve=He:Ee.sibling=He,Ee=He);return i&&xe.forEach(function(wS){return s(H,wS)}),nt&&Ss(H,ke),ve}function mt(H,j,W,ae){if(typeof W=="object"&&W!==null&&W.type===R&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case Z:e:{for(var ve=W.key,Ee=j;Ee!==null;){if(Ee.key===ve){if(ve=W.type,ve===R){if(Ee.tag===7){l(H,Ee.sibling),j=m(Ee,W.props.children),j.return=H,H=j;break e}}else if(Ee.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===St&&Ry(ve)===Ee.type){l(H,Ee.sibling),j=m(Ee,W.props),j.ref=cl(H,Ee,W),j.return=H,H=j;break e}l(H,Ee);break}else s(H,Ee);Ee=Ee.sibling}W.type===R?(j=Ns(W.props.children,H.mode,ae,W.key),j.return=H,H=j):(ae=bc(W.type,W.key,W.props,null,H.mode,ae),ae.ref=cl(H,j,W),ae.return=H,H=ae)}return T(H);case re:e:{for(Ee=W.key;j!==null;){if(j.key===Ee)if(j.tag===4&&j.stateNode.containerInfo===W.containerInfo&&j.stateNode.implementation===W.implementation){l(H,j.sibling),j=m(j,W.children||[]),j.return=H,H=j;break e}else{l(H,j);break}else s(H,j);j=j.sibling}j=Mf(W,H.mode,ae),j.return=H,H=j}return T(H);case St:return Ee=W._init,mt(H,j,Ee(W._payload),ae)}if(Mr(W))return me(H,j,W,ae);if(ge(W))return ye(H,j,W,ae);ac(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,j!==null&&j.tag===6?(l(H,j.sibling),j=m(j,W),j.return=H,H=j):(l(H,j),j=Lf(W,H.mode,ae),j.return=H,H=j),T(H)):l(H,j)}return mt}var Vo=by(!0),Ny=by(!1),lc=xi(null),uc=null,Do=null,Hd=null;function Wd(){Hd=Do=uc=null}function qd(i){var s=lc.current;Ze(lc),i._currentValue=s}function Kd(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function Lo(i,s){uc=i,Hd=Do=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(pn=!0),i.firstContext=null)}function Ln(i){var s=i._currentValue;if(Hd!==i)if(i={context:i,memoizedValue:s,next:null},Do===null){if(uc===null)throw Error(t(308));Do=i,uc.dependencies={lanes:0,firstContext:i}}else Do=Do.next=i;return s}var Is=null;function Gd(i){Is===null?Is=[i]:Is.push(i)}function Vy(i,s,l,h){var m=s.interleaved;return m===null?(l.next=l,Gd(s)):(l.next=m.next,m.next=l),s.interleaved=l,Qr(i,h)}function Qr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ii=!1;function Qd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dy(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Yr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Ci(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,($e&2)!==0){var m=h.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),h.pending=s,Qr(i,l)}return m=h.interleaved,m===null?(s.next=s,Gd(h)):(s.next=m.next,m.next=s),h.interleaved=s,Qr(i,l)}function cc(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,mi(i,l)}}function Ly(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=T:v=v.next=T,l=l.next}while(l!==null);v===null?m=v=s:v=v.next=s}else m=v=s;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function hc(i,s,l,h){var m=i.updateQueue;Ii=!1;var v=m.firstBaseUpdate,T=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var L=P,K=L.next;L.next=null,T===null?v=K:T.next=K,T=L;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,P=ne.lastBaseUpdate,P!==T&&(P===null?ne.firstBaseUpdate=K:P.next=K,ne.lastBaseUpdate=L))}if(v!==null){var se=m.baseState;T=0,ne=K=L=null,P=v;do{var ee=P.lane,de=P.eventTime;if((h&ee)===ee){ne!==null&&(ne=ne.next={eventTime:de,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var me=i,ye=P;switch(ee=s,de=l,ye.tag){case 1:if(me=ye.payload,typeof me=="function"){se=me.call(de,se,ee);break e}se=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ye.payload,ee=typeof me=="function"?me.call(de,se,ee):me,ee==null)break e;se=he({},se,ee);break e;case 2:Ii=!0}}P.callback!==null&&P.lane!==0&&(i.flags|=64,ee=m.effects,ee===null?m.effects=[P]:ee.push(P))}else de={eventTime:de,lane:ee,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ne===null?(K=ne=de,L=se):ne=ne.next=de,T|=ee;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;ee=P,P=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(ne===null&&(L=se),m.baseState=L,m.firstBaseUpdate=K,m.lastBaseUpdate=ne,s=m.shared.interleaved,s!==null){m=s;do T|=m.lane,m=m.next;while(m!==s)}else v===null&&(m.shared.lanes=0);ks|=T,i.lanes=T,i.memoizedState=se}}function My(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var hl={},vr=xi(hl),dl=xi(hl),fl=xi(hl);function Cs(i){if(i===hl)throw Error(t(174));return i}function Yd(i,s){switch(Ye(fl,s),Ye(dl,i),Ye(vr,hl),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:At(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=At(s,i)}Ze(vr),Ye(vr,s)}function Mo(){Ze(vr),Ze(dl),Ze(fl)}function Oy(i){Cs(fl.current);var s=Cs(vr.current),l=At(s,i.type);s!==l&&(Ye(dl,i),Ye(vr,l))}function Xd(i){dl.current===i&&(Ze(vr),Ze(dl))}var st=xi(0);function dc(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Jd=[];function Zd(){for(var i=0;i<Jd.length;i++)Jd[i]._workInProgressVersionPrimary=null;Jd.length=0}var fc=Y.ReactCurrentDispatcher,ef=Y.ReactCurrentBatchConfig,As=0,ot=null,Pt=null,Dt=null,pc=!1,pl=!1,ml=0,z2=0;function Gt(){throw Error(t(321))}function tf(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Jn(i[l],s[l]))return!1;return!0}function nf(i,s,l,h,m,v){if(As=v,ot=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,fc.current=i===null||i.memoizedState===null?q2:K2,i=l(h,m),pl){v=0;do{if(pl=!1,ml=0,25<=v)throw Error(t(301));v+=1,Dt=Pt=null,s.updateQueue=null,fc.current=G2,i=l(h,m)}while(pl)}if(fc.current=yc,s=Pt!==null&&Pt.next!==null,As=0,Dt=Pt=ot=null,pc=!1,s)throw Error(t(300));return i}function rf(){var i=ml!==0;return ml=0,i}function _r(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ot.memoizedState=Dt=i:Dt=Dt.next=i,Dt}function Mn(){if(Pt===null){var i=ot.alternate;i=i!==null?i.memoizedState:null}else i=Pt.next;var s=Dt===null?ot.memoizedState:Dt.next;if(s!==null)Dt=s,Pt=i;else{if(i===null)throw Error(t(310));Pt=i,i={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Dt===null?ot.memoizedState=Dt=i:Dt=Dt.next=i}return Dt}function gl(i,s){return typeof s=="function"?s(i):s}function sf(i){var s=Mn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=Pt,m=h.baseQueue,v=l.pending;if(v!==null){if(m!==null){var T=m.next;m.next=v.next,v.next=T}h.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,h=h.baseState;var P=T=null,L=null,K=v;do{var ne=K.lane;if((As&ne)===ne)L!==null&&(L=L.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:i(h,K.action);else{var se={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};L===null?(P=L=se,T=h):L=L.next=se,ot.lanes|=ne,ks|=ne}K=K.next}while(K!==null&&K!==v);L===null?T=h:L.next=P,Jn(h,s.memoizedState)||(pn=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=L,l.lastRenderedState=h}if(i=l.interleaved,i!==null){m=i;do v=m.lane,ot.lanes|=v,ks|=v,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function of(i){var s=Mn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,m=l.pending,v=s.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do v=i(v,T.action),T=T.next;while(T!==m);Jn(v,s.memoizedState)||(pn=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,h]}function jy(){}function Fy(i,s){var l=ot,h=Mn(),m=s(),v=!Jn(h.memoizedState,m);if(v&&(h.memoizedState=m,pn=!0),h=h.queue,af(zy.bind(null,l,h,i),[i]),h.getSnapshot!==s||v||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,yl(9,By.bind(null,l,h,m,s),void 0,null),Lt===null)throw Error(t(349));(As&30)!==0||Uy(l,s,m)}return m}function Uy(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=ot.updateQueue,s===null?(s={lastEffect:null,stores:null},ot.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function By(i,s,l,h){s.value=l,s.getSnapshot=h,$y(s)&&Hy(i)}function zy(i,s,l){return l(function(){$y(s)&&Hy(i)})}function $y(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Jn(i,l)}catch{return!0}}function Hy(i){var s=Qr(i,1);s!==null&&rr(s,i,1,-1)}function Wy(i){var s=_r();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:i},s.queue=i,i=i.dispatch=W2.bind(null,ot,i),[s.memoizedState,i]}function yl(i,s,l,h){return i={tag:i,create:s,destroy:l,deps:h,next:null},s=ot.updateQueue,s===null?(s={lastEffect:null,stores:null},ot.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i)),i}function qy(){return Mn().memoizedState}function mc(i,s,l,h){var m=_r();ot.flags|=i,m.memoizedState=yl(1|s,l,void 0,h===void 0?null:h)}function gc(i,s,l,h){var m=Mn();h=h===void 0?null:h;var v=void 0;if(Pt!==null){var T=Pt.memoizedState;if(v=T.destroy,h!==null&&tf(h,T.deps)){m.memoizedState=yl(s,l,v,h);return}}ot.flags|=i,m.memoizedState=yl(1|s,l,v,h)}function Ky(i,s){return mc(8390656,8,i,s)}function af(i,s){return gc(2048,8,i,s)}function Gy(i,s){return gc(4,2,i,s)}function Qy(i,s){return gc(4,4,i,s)}function Yy(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Xy(i,s,l){return l=l!=null?l.concat([i]):null,gc(4,4,Yy.bind(null,s,i),l)}function lf(){}function Jy(i,s){var l=Mn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&tf(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function Zy(i,s){var l=Mn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&tf(s,h[1])?h[0]:(i=i(),l.memoizedState=[i,s],i)}function e0(i,s,l){return(As&21)===0?(i.baseState&&(i.baseState=!1,pn=!0),i.memoizedState=l):(Jn(l,s)||(l=gs(),ot.lanes|=l,ks|=l,i.baseState=!0),s)}function $2(i,s){var l=Fe;Fe=l!==0&&4>l?l:4,i(!0);var h=ef.transition;ef.transition={};try{i(!1),s()}finally{Fe=l,ef.transition=h}}function t0(){return Mn().memoizedState}function H2(i,s,l){var h=Ri(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},n0(i))r0(s,l);else if(l=Vy(i,s,l,h),l!==null){var m=on();rr(l,i,h,m),i0(l,s,h)}}function W2(i,s,l){var h=Ri(i),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(n0(i))r0(s,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var T=s.lastRenderedState,P=v(T,l);if(m.hasEagerState=!0,m.eagerState=P,Jn(P,T)){var L=s.interleaved;L===null?(m.next=m,Gd(s)):(m.next=L.next,L.next=m),s.interleaved=m;return}}catch{}finally{}l=Vy(i,s,m,h),l!==null&&(m=on(),rr(l,i,h,m),i0(l,s,h))}}function n0(i){var s=i.alternate;return i===ot||s!==null&&s===ot}function r0(i,s){pl=pc=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function i0(i,s,l){if((l&4194240)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,mi(i,l)}}var yc={readContext:Ln,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},q2={readContext:Ln,useCallback:function(i,s){return _r().memoizedState=[i,s===void 0?null:s],i},useContext:Ln,useEffect:Ky,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,mc(4194308,4,Yy.bind(null,s,i),l)},useLayoutEffect:function(i,s){return mc(4194308,4,i,s)},useInsertionEffect:function(i,s){return mc(4,2,i,s)},useMemo:function(i,s){var l=_r();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var h=_r();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=H2.bind(null,ot,i),[h.memoizedState,i]},useRef:function(i){var s=_r();return i={current:i},s.memoizedState=i},useState:Wy,useDebugValue:lf,useDeferredValue:function(i){return _r().memoizedState=i},useTransition:function(){var i=Wy(!1),s=i[0];return i=$2.bind(null,i[1]),_r().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var h=ot,m=_r();if(nt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Lt===null)throw Error(t(349));(As&30)!==0||Uy(h,s,l)}m.memoizedState=l;var v={value:l,getSnapshot:s};return m.queue=v,Ky(zy.bind(null,h,v,i),[i]),h.flags|=2048,yl(9,By.bind(null,h,v,l,s),void 0,null),l},useId:function(){var i=_r(),s=Lt.identifierPrefix;if(nt){var l=Gr,h=Kr;l=(h&~(1<<32-nn(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=ml++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=z2++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},K2={readContext:Ln,useCallback:Jy,useContext:Ln,useEffect:af,useImperativeHandle:Xy,useInsertionEffect:Gy,useLayoutEffect:Qy,useMemo:Zy,useReducer:sf,useRef:qy,useState:function(){return sf(gl)},useDebugValue:lf,useDeferredValue:function(i){var s=Mn();return e0(s,Pt.memoizedState,i)},useTransition:function(){var i=sf(gl)[0],s=Mn().memoizedState;return[i,s]},useMutableSource:jy,useSyncExternalStore:Fy,useId:t0,unstable_isNewReconciler:!1},G2={readContext:Ln,useCallback:Jy,useContext:Ln,useEffect:af,useImperativeHandle:Xy,useInsertionEffect:Gy,useLayoutEffect:Qy,useMemo:Zy,useReducer:of,useRef:qy,useState:function(){return of(gl)},useDebugValue:lf,useDeferredValue:function(i){var s=Mn();return Pt===null?s.memoizedState=i:e0(s,Pt.memoizedState,i)},useTransition:function(){var i=of(gl)[0],s=Mn().memoizedState;return[i,s]},useMutableSource:jy,useSyncExternalStore:Fy,useId:t0,unstable_isNewReconciler:!1};function er(i,s){if(i&&i.defaultProps){s=he({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function uf(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:he({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var vc={isMounted:function(i){return(i=i._reactInternals)?Wn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var h=on(),m=Ri(i),v=Yr(h,m);v.payload=s,l!=null&&(v.callback=l),s=Ci(i,v,m),s!==null&&(rr(s,i,m,h),cc(s,i,m))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=on(),m=Ri(i),v=Yr(h,m);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=Ci(i,v,m),s!==null&&(rr(s,i,m,h),cc(s,i,m))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=on(),h=Ri(i),m=Yr(l,h);m.tag=2,s!=null&&(m.callback=s),s=Ci(i,m,h),s!==null&&(rr(s,i,h,l),cc(s,i,h))}};function s0(i,s,l,h,m,v,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,T):s.prototype&&s.prototype.isPureReactComponent?!rl(l,h)||!rl(m,v):!0}function o0(i,s,l){var h=!1,m=Ti,v=s.contextType;return typeof v=="object"&&v!==null?v=Ln(v):(m=fn(s)?xs:Kt.current,h=s.contextTypes,v=(h=h!=null)?Po(i,m):Ti),s=new s(l,v),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=vc,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),s}function a0(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&vc.enqueueReplaceState(s,s.state,null)}function cf(i,s,l,h){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Qd(i);var v=s.contextType;typeof v=="object"&&v!==null?m.context=Ln(v):(v=fn(s)?xs:Kt.current,m.context=Po(i,v)),m.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(uf(i,s,v,l),m.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&vc.enqueueReplaceState(m,m.state,null),hc(i,l,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Oo(i,s){try{var l="",h=s;do l+=Ve(h),h=h.return;while(h);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:s,stack:m,digest:null}}function hf(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function df(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var Q2=typeof WeakMap=="function"?WeakMap:Map;function l0(i,s,l){l=Yr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){Ic||(Ic=!0,Af=h),df(i,s)},l}function u0(i,s,l){l=Yr(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=s.value;l.payload=function(){return h(m)},l.callback=function(){df(i,s)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){df(i,s),typeof h!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function c0(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new Q2;var m=new Set;h.set(s,m)}else m=h.get(s),m===void 0&&(m=new Set,h.set(s,m));m.has(l)||(m.add(l),i=uS.bind(null,i,s,l),s.then(i,i))}function h0(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function d0(i,s,l,h,m){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Yr(-1,1),s.tag=2,Ci(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var Y2=Y.ReactCurrentOwner,pn=!1;function sn(i,s,l,h){s.child=i===null?Ny(s,null,l,h):Vo(s,i.child,l,h)}function f0(i,s,l,h,m){l=l.render;var v=s.ref;return Lo(s,m),h=nf(i,s,l,h,v,m),l=rf(),i!==null&&!pn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~m,Xr(i,s,m)):(nt&&l&&Fd(s),s.flags|=1,sn(i,s,h,m),s.child)}function p0(i,s,l,h,m){if(i===null){var v=l.type;return typeof v=="function"&&!Df(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=v,m0(i,s,v,h,m)):(i=bc(l.type,null,h,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,(i.lanes&m)===0){var T=v.memoizedProps;if(l=l.compare,l=l!==null?l:rl,l(T,h)&&i.ref===s.ref)return Xr(i,s,m)}return s.flags|=1,i=Ni(v,h),i.ref=s.ref,i.return=s,s.child=i}function m0(i,s,l,h,m){if(i!==null){var v=i.memoizedProps;if(rl(v,h)&&i.ref===s.ref)if(pn=!1,s.pendingProps=h=v,(i.lanes&m)!==0)(i.flags&131072)!==0&&(pn=!0);else return s.lanes=i.lanes,Xr(i,s,m)}return ff(i,s,l,h,m)}function g0(i,s,l){var h=s.pendingProps,m=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Fo,An),An|=l;else{if((l&1073741824)===0)return i=v!==null?v.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Ye(Fo,An),An|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:l,Ye(Fo,An),An|=h}else v!==null?(h=v.baseLanes|l,s.memoizedState=null):h=l,Ye(Fo,An),An|=h;return sn(i,s,m,l),s.child}function y0(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function ff(i,s,l,h,m){var v=fn(l)?xs:Kt.current;return v=Po(s,v),Lo(s,m),l=nf(i,s,l,h,v,m),h=rf(),i!==null&&!pn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~m,Xr(i,s,m)):(nt&&h&&Fd(s),s.flags|=1,sn(i,s,l,m),s.child)}function v0(i,s,l,h,m){if(fn(l)){var v=!0;nc(s)}else v=!1;if(Lo(s,m),s.stateNode===null)wc(i,s),o0(s,l,h),cf(s,l,h,m),h=!0;else if(i===null){var T=s.stateNode,P=s.memoizedProps;T.props=P;var L=T.context,K=l.contextType;typeof K=="object"&&K!==null?K=Ln(K):(K=fn(l)?xs:Kt.current,K=Po(s,K));var ne=l.getDerivedStateFromProps,se=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";se||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==h||L!==K)&&a0(s,T,h,K),Ii=!1;var ee=s.memoizedState;T.state=ee,hc(s,h,T,m),L=s.memoizedState,P!==h||ee!==L||dn.current||Ii?(typeof ne=="function"&&(uf(s,l,ne,h),L=s.memoizedState),(P=Ii||s0(s,l,P,h,ee,L,K))?(se||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=L),T.props=h,T.state=L,T.context=K,h=P):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,Dy(i,s),P=s.memoizedProps,K=s.type===s.elementType?P:er(s.type,P),T.props=K,se=s.pendingProps,ee=T.context,L=l.contextType,typeof L=="object"&&L!==null?L=Ln(L):(L=fn(l)?xs:Kt.current,L=Po(s,L));var de=l.getDerivedStateFromProps;(ne=typeof de=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==se||ee!==L)&&a0(s,T,h,L),Ii=!1,ee=s.memoizedState,T.state=ee,hc(s,h,T,m);var me=s.memoizedState;P!==se||ee!==me||dn.current||Ii?(typeof de=="function"&&(uf(s,l,de,h),me=s.memoizedState),(K=Ii||s0(s,l,K,h,ee,me,L)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,me,L),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,me,L)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||P===i.memoizedProps&&ee===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&ee===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=me),T.props=h,T.state=me,T.context=L,h=K):(typeof T.componentDidUpdate!="function"||P===i.memoizedProps&&ee===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&ee===i.memoizedState||(s.flags|=1024),h=!1)}return pf(i,s,l,h,v,m)}function pf(i,s,l,h,m,v){y0(i,s);var T=(s.flags&128)!==0;if(!h&&!T)return m&&Ty(s,l,!1),Xr(i,s,v);h=s.stateNode,Y2.current=s;var P=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&T?(s.child=Vo(s,i.child,null,v),s.child=Vo(s,null,P,v)):sn(i,s,P,v),s.memoizedState=h.state,m&&Ty(s,l,!0),s.child}function _0(i){var s=i.stateNode;s.pendingContext?Ey(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Ey(i,s.context,!1),Yd(i,s.containerInfo)}function w0(i,s,l,h,m){return No(),$d(m),s.flags|=256,sn(i,s,l,h),s.child}var mf={dehydrated:null,treeContext:null,retryLane:0};function gf(i){return{baseLanes:i,cachePool:null,transitions:null}}function E0(i,s,l){var h=s.pendingProps,m=st.current,v=!1,T=(s.flags&128)!==0,P;if((P=T)||(P=i!==null&&i.memoizedState===null?!1:(m&2)!==0),P?(v=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ye(st,m&1),i===null)return zd(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,i=h.fallback,v?(h=s.mode,v=s.child,T={mode:"hidden",children:T},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=Nc(T,h,0,null),i=Ns(i,h,l,null),v.return=s,i.return=s,v.sibling=i,s.child=v,s.child.memoizedState=gf(l),s.memoizedState=mf,i):yf(s,T));if(m=i.memoizedState,m!==null&&(P=m.dehydrated,P!==null))return X2(i,s,T,h,P,m,l);if(v){v=h.fallback,T=s.mode,m=i.child,P=m.sibling;var L={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==m?(h=s.child,h.childLanes=0,h.pendingProps=L,s.deletions=null):(h=Ni(m,L),h.subtreeFlags=m.subtreeFlags&14680064),P!==null?v=Ni(P,v):(v=Ns(v,T,l,null),v.flags|=2),v.return=s,h.return=s,h.sibling=v,s.child=h,h=v,v=s.child,T=i.child.memoizedState,T=T===null?gf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=i.childLanes&~l,s.memoizedState=mf,h}return v=i.child,i=v.sibling,h=Ni(v,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=h,s.memoizedState=null,h}function yf(i,s){return s=Nc({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function _c(i,s,l,h){return h!==null&&$d(h),Vo(s,i.child,null,l),i=yf(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function X2(i,s,l,h,m,v,T){if(l)return s.flags&256?(s.flags&=-257,h=hf(Error(t(422))),_c(i,s,T,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(v=h.fallback,m=s.mode,h=Nc({mode:"visible",children:h.children},m,0,null),v=Ns(v,m,T,null),v.flags|=2,h.return=s,v.return=s,h.sibling=v,s.child=h,(s.mode&1)!==0&&Vo(s,i.child,null,T),s.child.memoizedState=gf(T),s.memoizedState=mf,v);if((s.mode&1)===0)return _c(i,s,T,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var P=h.dgst;return h=P,v=Error(t(419)),h=hf(v,h,void 0),_c(i,s,T,h)}if(P=(T&i.childLanes)!==0,pn||P){if(h=Lt,h!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|T))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Qr(i,m),rr(h,i,m,-1))}return Vf(),h=hf(Error(t(421))),_c(i,s,T,h)}return m.data==="$?"?(s.flags|=128,s.child=i.child,s=cS.bind(null,i),m._reactRetry=s,null):(i=v.treeContext,Cn=Ei(m.nextSibling),In=s,nt=!0,Zn=null,i!==null&&(Vn[Dn++]=Kr,Vn[Dn++]=Gr,Vn[Dn++]=Ts,Kr=i.id,Gr=i.overflow,Ts=s),s=yf(s,h.children),s.flags|=4096,s)}function x0(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Kd(i.return,s,l)}function vf(i,s,l,h,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=m)}function T0(i,s,l){var h=s.pendingProps,m=h.revealOrder,v=h.tail;if(sn(i,s,h.children,l),h=st.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&x0(i,l,s);else if(i.tag===19)x0(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Ye(st,h),(s.mode&1)===0)s.memoizedState=null;else switch(m){case"forwards":for(l=s.child,m=null;l!==null;)i=l.alternate,i!==null&&dc(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),vf(s,!1,m,l,v);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&dc(i)===null){s.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}vf(s,!0,l,null,v);break;case"together":vf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function wc(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Xr(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ks|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Ni(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ni(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function J2(i,s,l){switch(s.tag){case 3:_0(s),No();break;case 5:Oy(s);break;case 1:fn(s.type)&&nc(s);break;case 4:Yd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,m=s.memoizedProps.value;Ye(lc,h._currentValue),h._currentValue=m;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ye(st,st.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?E0(i,s,l):(Ye(st,st.current&1),i=Xr(i,s,l),i!==null?i.sibling:null);Ye(st,st.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(i.flags&128)!==0){if(h)return T0(i,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ye(st,st.current),h)break;return null;case 22:case 23:return s.lanes=0,g0(i,s,l)}return Xr(i,s,l)}var S0,_f,I0,C0;S0=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},_f=function(){},I0=function(i,s,l,h){var m=i.memoizedProps;if(m!==h){i=s.stateNode,Cs(vr.current);var v=null;switch(l){case"input":m=ct(i,m),h=ct(i,h),v=[];break;case"select":m=he({},m,{value:void 0}),h=he({},h,{value:void 0}),v=[];break;case"textarea":m=Na(i,m),h=Na(i,h),v=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Zu)}ja(l,h);var T;l=null;for(K in m)if(!h.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var P=m[K];for(T in P)P.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?v||(v=[]):(v=v||[]).push(K,null));for(K in h){var L=h[K];if(P=m!=null?m[K]:void 0,h.hasOwnProperty(K)&&L!==P&&(L!=null||P!=null))if(K==="style")if(P){for(T in P)!P.hasOwnProperty(T)||L&&L.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in L)L.hasOwnProperty(T)&&P[T]!==L[T]&&(l||(l={}),l[T]=L[T])}else l||(v||(v=[]),v.push(K,l)),l=L;else K==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,P=P?P.__html:void 0,L!=null&&P!==L&&(v=v||[]).push(K,L)):K==="children"?typeof L!="string"&&typeof L!="number"||(v=v||[]).push(K,""+L):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(L!=null&&K==="onScroll"&&Je("scroll",i),v||P===L||(v=[])):(v=v||[]).push(K,L))}l&&(v=v||[]).push("style",l);var K=v;(s.updateQueue=K)&&(s.flags|=4)}},C0=function(i,s,l,h){l!==h&&(s.flags|=4)};function vl(i,s){if(!nt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Qt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function Z2(i,s,l){var h=s.pendingProps;switch(Ud(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(s),null;case 1:return fn(s.type)&&tc(),Qt(s),null;case 3:return h=s.stateNode,Mo(),Ze(dn),Ze(Kt),Zd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(oc(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zn!==null&&(Rf(Zn),Zn=null))),_f(i,s),Qt(s),null;case 5:Xd(s);var m=Cs(fl.current);if(l=s.type,i!==null&&s.stateNode!=null)I0(i,s,l,h,m),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Qt(s),null}if(i=Cs(vr.current),oc(s)){h=s.stateNode,l=s.type;var v=s.memoizedProps;switch(h[yr]=s,h[ll]=v,i=(s.mode&1)!==0,l){case"dialog":Je("cancel",h),Je("close",h);break;case"iframe":case"object":case"embed":Je("load",h);break;case"video":case"audio":for(m=0;m<sl.length;m++)Je(sl[m],h);break;case"source":Je("error",h);break;case"img":case"image":case"link":Je("error",h),Je("load",h);break;case"details":Je("toggle",h);break;case"input":Ys(h,v),Je("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Je("invalid",h);break;case"textarea":Js(h,v),Je("invalid",h)}ja(l,v),m=null;for(var T in v)if(v.hasOwnProperty(T)){var P=v[T];T==="children"?typeof P=="string"?h.textContent!==P&&(v.suppressHydrationWarning!==!0&&Ju(h.textContent,P,i),m=["children",P]):typeof P=="number"&&h.textContent!==""+P&&(v.suppressHydrationWarning!==!0&&Ju(h.textContent,P,i),m=["children",""+P]):o.hasOwnProperty(T)&&P!=null&&T==="onScroll"&&Je("scroll",h)}switch(l){case"input":Ne(h),Su(h,v,!0);break;case"textarea":Ne(h),Va(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Zu)}h=m,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Ct(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(l,{is:h.is}):(i=T.createElement(l),l==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,l),i[yr]=s,i[ll]=h,S0(i,s,!1,!1),s.stateNode=i;e:{switch(T=Fa(l,h),l){case"dialog":Je("cancel",i),Je("close",i),m=h;break;case"iframe":case"object":case"embed":Je("load",i),m=h;break;case"video":case"audio":for(m=0;m<sl.length;m++)Je(sl[m],i);m=h;break;case"source":Je("error",i),m=h;break;case"img":case"image":case"link":Je("error",i),Je("load",i),m=h;break;case"details":Je("toggle",i),m=h;break;case"input":Ys(i,h),m=ct(i,h),Je("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=he({},h,{value:void 0}),Je("invalid",i);break;case"textarea":Js(i,h),m=Na(i,h),Je("invalid",i);break;default:m=h}ja(l,m),P=m;for(v in P)if(P.hasOwnProperty(v)){var L=P[v];v==="style"?Ma(i,L):v==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Da(i,L)):v==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&ci(i,L):typeof L=="number"&&ci(i,""+L):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?L!=null&&v==="onScroll"&&Je("scroll",i):L!=null&&M(i,v,L,T))}switch(l){case"input":Ne(i),Su(i,h,!1);break;case"textarea":Ne(i),Va(i);break;case"option":h.value!=null&&i.setAttribute("value",""+q(h.value));break;case"select":i.multiple=!!h.multiple,v=h.value,v!=null?Or(i,!!h.multiple,v,!1):h.defaultValue!=null&&Or(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Zu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Qt(s),null;case 6:if(i&&s.stateNode!=null)C0(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=Cs(fl.current),Cs(vr.current),oc(s)){if(h=s.stateNode,l=s.memoizedProps,h[yr]=s,(v=h.nodeValue!==l)&&(i=In,i!==null))switch(i.tag){case 3:Ju(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ju(h.nodeValue,l,(i.mode&1)!==0)}v&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[yr]=s,s.stateNode=h}return Qt(s),null;case 13:if(Ze(st),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(nt&&Cn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Py(),No(),s.flags|=98560,v=!1;else if(v=oc(s),h!==null&&h.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[yr]=s}else No(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Qt(s),v=!1}else Zn!==null&&(Rf(Zn),Zn=null),v=!0;if(!v)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(st.current&1)!==0?Rt===0&&(Rt=3):Vf())),s.updateQueue!==null&&(s.flags|=4),Qt(s),null);case 4:return Mo(),_f(i,s),i===null&&ol(s.stateNode.containerInfo),Qt(s),null;case 10:return qd(s.type._context),Qt(s),null;case 17:return fn(s.type)&&tc(),Qt(s),null;case 19:if(Ze(st),v=s.memoizedState,v===null)return Qt(s),null;if(h=(s.flags&128)!==0,T=v.rendering,T===null)if(h)vl(v,!1);else{if(Rt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(T=dc(i),T!==null){for(s.flags|=128,vl(v,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)v=l,i=h,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,i=T.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ye(st,st.current&1|2),s.child}i=i.sibling}v.tail!==null&&Qe()>Uo&&(s.flags|=128,h=!0,vl(v,!1),s.lanes=4194304)}else{if(!h)if(i=dc(T),i!==null){if(s.flags|=128,h=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),vl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!nt)return Qt(s),null}else 2*Qe()-v.renderingStartTime>Uo&&l!==1073741824&&(s.flags|=128,h=!0,vl(v,!1),s.lanes=4194304);v.isBackwards?(T.sibling=s.child,s.child=T):(l=v.last,l!==null?l.sibling=T:s.child=T,v.last=T)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Qe(),s.sibling=null,l=st.current,Ye(st,h?l&1|2:l&1),s):(Qt(s),null);case 22:case 23:return Nf(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(An&1073741824)!==0&&(Qt(s),s.subtreeFlags&6&&(s.flags|=8192)):Qt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function eS(i,s){switch(Ud(s),s.tag){case 1:return fn(s.type)&&tc(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Mo(),Ze(dn),Ze(Kt),Zd(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Xd(s),null;case 13:if(Ze(st),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));No()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Ze(st),null;case 4:return Mo(),null;case 10:return qd(s.type._context),null;case 22:case 23:return Nf(),null;case 24:return null;default:return null}}var Ec=!1,Yt=!1,tS=typeof WeakSet=="function"?WeakSet:Set,pe=null;function jo(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ht(i,s,h)}else l.current=null}function wf(i,s,l){try{l()}catch(h){ht(i,s,h)}}var A0=!1;function nS(i,s){if(bd=vi,i=sy(),Td(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var T=0,P=-1,L=-1,K=0,ne=0,se=i,ee=null;t:for(;;){for(var de;se!==l||m!==0&&se.nodeType!==3||(P=T+m),se!==v||h!==0&&se.nodeType!==3||(L=T+h),se.nodeType===3&&(T+=se.nodeValue.length),(de=se.firstChild)!==null;)ee=se,se=de;for(;;){if(se===i)break t;if(ee===l&&++K===m&&(P=T),ee===v&&++ne===h&&(L=T),(de=se.nextSibling)!==null)break;se=ee,ee=se.parentNode}se=de}l=P===-1||L===-1?null:{start:P,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Nd={focusedElem:i,selectionRange:l},vi=!1,pe=s;pe!==null;)if(s=pe,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,pe=i;else for(;pe!==null;){s=pe;try{var me=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ye=me.memoizedProps,mt=me.memoizedState,H=s.stateNode,j=H.getSnapshotBeforeUpdate(s.elementType===s.type?ye:er(s.type,ye),mt);H.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var W=s.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){ht(s,s.return,ae)}if(i=s.sibling,i!==null){i.return=s.return,pe=i;break}pe=s.return}return me=A0,A0=!1,me}function _l(i,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&wf(s,l,v)}m=m.next}while(m!==h)}}function xc(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Ef(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function k0(i){var s=i.alternate;s!==null&&(i.alternate=null,k0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[yr],delete s[ll],delete s[Md],delete s[j2],delete s[F2])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function P0(i){return i.tag===5||i.tag===3||i.tag===4}function R0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||P0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function xf(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Zu));else if(h!==4&&(i=i.child,i!==null))for(xf(i,s,l),i=i.sibling;i!==null;)xf(i,s,l),i=i.sibling}function Tf(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Tf(i,s,l),i=i.sibling;i!==null;)Tf(i,s,l),i=i.sibling}var Ut=null,tr=!1;function Ai(i,s,l){for(l=l.child;l!==null;)b0(i,s,l),l=l.sibling}function b0(i,s,l){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(ps,l)}catch{}switch(l.tag){case 5:Yt||jo(l,s);case 6:var h=Ut,m=tr;Ut=null,Ai(i,s,l),Ut=h,tr=m,Ut!==null&&(tr?(i=Ut,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Ut.removeChild(l.stateNode));break;case 18:Ut!==null&&(tr?(i=Ut,l=l.stateNode,i.nodeType===8?Ld(i.parentNode,l):i.nodeType===1&&Ld(i,l),Yn(i)):Ld(Ut,l.stateNode));break;case 4:h=Ut,m=tr,Ut=l.stateNode.containerInfo,tr=!0,Ai(i,s,l),Ut=h,tr=m;break;case 0:case 11:case 14:case 15:if(!Yt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var v=m,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&wf(l,s,T),m=m.next}while(m!==h)}Ai(i,s,l);break;case 1:if(!Yt&&(jo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(P){ht(l,s,P)}Ai(i,s,l);break;case 21:Ai(i,s,l);break;case 22:l.mode&1?(Yt=(h=Yt)||l.memoizedState!==null,Ai(i,s,l),Yt=h):Ai(i,s,l);break;default:Ai(i,s,l)}}function N0(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new tS),s.forEach(function(h){var m=hS.bind(null,i,h);l.has(h)||(l.add(h),h.then(m,m))})}}function nr(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var v=i,T=s,P=T;e:for(;P!==null;){switch(P.tag){case 5:Ut=P.stateNode,tr=!1;break e;case 3:Ut=P.stateNode.containerInfo,tr=!0;break e;case 4:Ut=P.stateNode.containerInfo,tr=!0;break e}P=P.return}if(Ut===null)throw Error(t(160));b0(v,T,m),Ut=null,tr=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(K){ht(m,s,K)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)V0(s,i),s=s.sibling}function V0(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(nr(s,i),wr(i),h&4){try{_l(3,i,i.return),xc(3,i)}catch(ye){ht(i,i.return,ye)}try{_l(5,i,i.return)}catch(ye){ht(i,i.return,ye)}}break;case 1:nr(s,i),wr(i),h&512&&l!==null&&jo(l,l.return);break;case 5:if(nr(s,i),wr(i),h&512&&l!==null&&jo(l,l.return),i.flags&32){var m=i.stateNode;try{ci(m,"")}catch(ye){ht(i,i.return,ye)}}if(h&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,T=l!==null?l.memoizedProps:v,P=i.type,L=i.updateQueue;if(i.updateQueue=null,L!==null)try{P==="input"&&v.type==="radio"&&v.name!=null&&Ra(m,v),Fa(P,T);var K=Fa(P,v);for(T=0;T<L.length;T+=2){var ne=L[T],se=L[T+1];ne==="style"?Ma(m,se):ne==="dangerouslySetInnerHTML"?Da(m,se):ne==="children"?ci(m,se):M(m,ne,se,K)}switch(P){case"input":ba(m,v);break;case"textarea":Zs(m,v);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var de=v.value;de!=null?Or(m,!!v.multiple,de,!1):ee!==!!v.multiple&&(v.defaultValue!=null?Or(m,!!v.multiple,v.defaultValue,!0):Or(m,!!v.multiple,v.multiple?[]:"",!1))}m[ll]=v}catch(ye){ht(i,i.return,ye)}}break;case 6:if(nr(s,i),wr(i),h&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(ye){ht(i,i.return,ye)}}break;case 3:if(nr(s,i),wr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Yn(s.containerInfo)}catch(ye){ht(i,i.return,ye)}break;case 4:nr(s,i),wr(i);break;case 13:nr(s,i),wr(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Cf=Qe())),h&4&&N0(i);break;case 22:if(ne=l!==null&&l.memoizedState!==null,i.mode&1?(Yt=(K=Yt)||ne,nr(s,i),Yt=K):nr(s,i),wr(i),h&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!ne&&(i.mode&1)!==0)for(pe=i,ne=i.child;ne!==null;){for(se=pe=ne;pe!==null;){switch(ee=pe,de=ee.child,ee.tag){case 0:case 11:case 14:case 15:_l(4,ee,ee.return);break;case 1:jo(ee,ee.return);var me=ee.stateNode;if(typeof me.componentWillUnmount=="function"){h=ee,l=ee.return;try{s=h,me.props=s.memoizedProps,me.state=s.memoizedState,me.componentWillUnmount()}catch(ye){ht(h,l,ye)}}break;case 5:jo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){M0(se);continue}}de!==null?(de.return=ee,pe=de):M0(se)}ne=ne.sibling}e:for(ne=null,se=i;;){if(se.tag===5){if(ne===null){ne=se;try{m=se.stateNode,K?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(P=se.stateNode,L=se.memoizedProps.style,T=L!=null&&L.hasOwnProperty("display")?L.display:null,P.style.display=La("display",T))}catch(ye){ht(i,i.return,ye)}}}else if(se.tag===6){if(ne===null)try{se.stateNode.nodeValue=K?"":se.memoizedProps}catch(ye){ht(i,i.return,ye)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===i)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===i)break e;for(;se.sibling===null;){if(se.return===null||se.return===i)break e;ne===se&&(ne=null),se=se.return}ne===se&&(ne=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:nr(s,i),wr(i),h&4&&N0(i);break;case 21:break;default:nr(s,i),wr(i)}}function wr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(P0(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(ci(m,""),h.flags&=-33);var v=R0(i);Tf(i,v,m);break;case 3:case 4:var T=h.stateNode.containerInfo,P=R0(i);xf(i,P,T);break;default:throw Error(t(161))}}catch(L){ht(i,i.return,L)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function rS(i,s,l){pe=i,D0(i)}function D0(i,s,l){for(var h=(i.mode&1)!==0;pe!==null;){var m=pe,v=m.child;if(m.tag===22&&h){var T=m.memoizedState!==null||Ec;if(!T){var P=m.alternate,L=P!==null&&P.memoizedState!==null||Yt;P=Ec;var K=Yt;if(Ec=T,(Yt=L)&&!K)for(pe=m;pe!==null;)T=pe,L=T.child,T.tag===22&&T.memoizedState!==null?O0(m):L!==null?(L.return=T,pe=L):O0(m);for(;v!==null;)pe=v,D0(v),v=v.sibling;pe=m,Ec=P,Yt=K}L0(i)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,pe=v):L0(i)}}function L0(i){for(;pe!==null;){var s=pe;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Yt||xc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Yt)if(l===null)h.componentDidMount();else{var m=s.elementType===s.type?l.memoizedProps:er(s.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&My(s,v,h);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}My(s,T,l)}break;case 5:var P=s.stateNode;if(l===null&&s.flags&4){l=P;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var K=s.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var se=ne.dehydrated;se!==null&&Yn(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Yt||s.flags&512&&Ef(s)}catch(ee){ht(s,s.return,ee)}}if(s===i){pe=null;break}if(l=s.sibling,l!==null){l.return=s.return,pe=l;break}pe=s.return}}function M0(i){for(;pe!==null;){var s=pe;if(s===i){pe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,pe=l;break}pe=s.return}}function O0(i){for(;pe!==null;){var s=pe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{xc(4,s)}catch(L){ht(s,l,L)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var m=s.return;try{h.componentDidMount()}catch(L){ht(s,m,L)}}var v=s.return;try{Ef(s)}catch(L){ht(s,v,L)}break;case 5:var T=s.return;try{Ef(s)}catch(L){ht(s,T,L)}}}catch(L){ht(s,s.return,L)}if(s===i){pe=null;break}var P=s.sibling;if(P!==null){P.return=s.return,pe=P;break}pe=s.return}}var iS=Math.ceil,Tc=Y.ReactCurrentDispatcher,Sf=Y.ReactCurrentOwner,On=Y.ReactCurrentBatchConfig,$e=0,Lt=null,_t=null,Bt=0,An=0,Fo=xi(0),Rt=0,wl=null,ks=0,Sc=0,If=0,El=null,mn=null,Cf=0,Uo=1/0,Jr=null,Ic=!1,Af=null,ki=null,Cc=!1,Pi=null,Ac=0,xl=0,kf=null,kc=-1,Pc=0;function on(){return($e&6)!==0?Qe():kc!==-1?kc:kc=Qe()}function Ri(i){return(i.mode&1)===0?1:($e&2)!==0&&Bt!==0?Bt&-Bt:B2.transition!==null?(Pc===0&&(Pc=gs()),Pc):(i=Fe,i!==0||(i=window.event,i=i===void 0?16:Ya(i.type)),i)}function rr(i,s,l,h){if(50<xl)throw xl=0,kf=null,Error(t(185));pi(i,l,h),(($e&2)===0||i!==Lt)&&(i===Lt&&(($e&2)===0&&(Sc|=l),Rt===4&&bi(i,Bt)),gn(i,h),l===1&&$e===0&&(s.mode&1)===0&&(Uo=Qe()+500,rc&&Si()))}function gn(i,s){var l=i.callbackNode;Ur(i,s);var h=ms(i,i===Lt?Bt:0);if(h===0)l!==null&&Wa(l),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(l!=null&&Wa(l),s===1)i.tag===0?U2(F0.bind(null,i)):Sy(F0.bind(null,i)),M2(function(){($e&6)===0&&Si()}),l=null;else{switch(gi(h)){case 1:l=fs;break;case 4:l=hi;break;case 16:l=Rn;break;case 536870912:l=Pu;break;default:l=Rn}l=K0(l,j0.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function j0(i,s){if(kc=-1,Pc=0,($e&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Bo()&&i.callbackNode!==l)return null;var h=ms(i,i===Lt?Bt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||s)s=Rc(i,h);else{s=h;var m=$e;$e|=2;var v=B0();(Lt!==i||Bt!==s)&&(Jr=null,Uo=Qe()+500,Rs(i,s));do try{aS();break}catch(P){U0(i,P)}while(!0);Wd(),Tc.current=v,$e=m,_t!==null?s=0:(Lt=null,Bt=0,s=Rt)}if(s!==0){if(s===2&&(m=xn(i),m!==0&&(h=m,s=Pf(i,m))),s===1)throw l=wl,Rs(i,0),bi(i,h),gn(i,Qe()),l;if(s===6)bi(i,h);else{if(m=i.current.alternate,(h&30)===0&&!sS(m)&&(s=Rc(i,h),s===2&&(v=xn(i),v!==0&&(h=v,s=Pf(i,v))),s===1))throw l=wl,Rs(i,0),bi(i,h),gn(i,Qe()),l;switch(i.finishedWork=m,i.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:bs(i,mn,Jr);break;case 3:if(bi(i,h),(h&130023424)===h&&(s=Cf+500-Qe(),10<s)){if(ms(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){on(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Dd(bs.bind(null,i,mn,Jr),s);break}bs(i,mn,Jr);break;case 4:if(bi(i,h),(h&4194240)===h)break;for(s=i.eventTimes,m=-1;0<h;){var T=31-nn(h);v=1<<T,T=s[T],T>m&&(m=T),h&=~v}if(h=m,h=Qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*iS(h/1960))-h,10<h){i.timeoutHandle=Dd(bs.bind(null,i,mn,Jr),h);break}bs(i,mn,Jr);break;case 5:bs(i,mn,Jr);break;default:throw Error(t(329))}}}return gn(i,Qe()),i.callbackNode===l?j0.bind(null,i):null}function Pf(i,s){var l=El;return i.current.memoizedState.isDehydrated&&(Rs(i,s).flags|=256),i=Rc(i,s),i!==2&&(s=mn,mn=l,s!==null&&Rf(s)),i}function Rf(i){mn===null?mn=i:mn.push.apply(mn,i)}function sS(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],v=m.getSnapshot;m=m.value;try{if(!Jn(v(),m))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function bi(i,s){for(s&=~If,s&=~Sc,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-nn(s),h=1<<l;i[l]=-1,s&=~h}}function F0(i){if(($e&6)!==0)throw Error(t(327));Bo();var s=ms(i,0);if((s&1)===0)return gn(i,Qe()),null;var l=Rc(i,s);if(i.tag!==0&&l===2){var h=xn(i);h!==0&&(s=h,l=Pf(i,h))}if(l===1)throw l=wl,Rs(i,0),bi(i,s),gn(i,Qe()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,bs(i,mn,Jr),gn(i,Qe()),null}function bf(i,s){var l=$e;$e|=1;try{return i(s)}finally{$e=l,$e===0&&(Uo=Qe()+500,rc&&Si())}}function Ps(i){Pi!==null&&Pi.tag===0&&($e&6)===0&&Bo();var s=$e;$e|=1;var l=On.transition,h=Fe;try{if(On.transition=null,Fe=1,i)return i()}finally{Fe=h,On.transition=l,$e=s,($e&6)===0&&Si()}}function Nf(){An=Fo.current,Ze(Fo)}function Rs(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,L2(l)),_t!==null)for(l=_t.return;l!==null;){var h=l;switch(Ud(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&tc();break;case 3:Mo(),Ze(dn),Ze(Kt),Zd();break;case 5:Xd(h);break;case 4:Mo();break;case 13:Ze(st);break;case 19:Ze(st);break;case 10:qd(h.type._context);break;case 22:case 23:Nf()}l=l.return}if(Lt=i,_t=i=Ni(i.current,null),Bt=An=s,Rt=0,wl=null,If=Sc=ks=0,mn=El=null,Is!==null){for(s=0;s<Is.length;s++)if(l=Is[s],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,v=l.pending;if(v!==null){var T=v.next;v.next=m,h.next=T}l.pending=h}Is=null}return i}function U0(i,s){do{var l=_t;try{if(Wd(),fc.current=yc,pc){for(var h=ot.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}pc=!1}if(As=0,Dt=Pt=ot=null,pl=!1,ml=0,Sf.current=null,l===null||l.return===null){Rt=1,wl=s,_t=null;break}e:{var v=i,T=l.return,P=l,L=s;if(s=Bt,P.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var K=L,ne=P,se=ne.tag;if((ne.mode&1)===0&&(se===0||se===11||se===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var de=h0(T);if(de!==null){de.flags&=-257,d0(de,T,P,v,s),de.mode&1&&c0(v,K,s),s=de,L=K;var me=s.updateQueue;if(me===null){var ye=new Set;ye.add(L),s.updateQueue=ye}else me.add(L);break e}else{if((s&1)===0){c0(v,K,s),Vf();break e}L=Error(t(426))}}else if(nt&&P.mode&1){var mt=h0(T);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),d0(mt,T,P,v,s),$d(Oo(L,P));break e}}v=L=Oo(L,P),Rt!==4&&(Rt=2),El===null?El=[v]:El.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var H=l0(v,L,s);Ly(v,H);break e;case 1:P=L;var j=v.type,W=v.stateNode;if((v.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(ki===null||!ki.has(W)))){v.flags|=65536,s&=-s,v.lanes|=s;var ae=u0(v,P,s);Ly(v,ae);break e}}v=v.return}while(v!==null)}$0(l)}catch(ve){s=ve,_t===l&&l!==null&&(_t=l=l.return);continue}break}while(!0)}function B0(){var i=Tc.current;return Tc.current=yc,i===null?yc:i}function Vf(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Lt===null||(ks&268435455)===0&&(Sc&268435455)===0||bi(Lt,Bt)}function Rc(i,s){var l=$e;$e|=2;var h=B0();(Lt!==i||Bt!==s)&&(Jr=null,Rs(i,s));do try{oS();break}catch(m){U0(i,m)}while(!0);if(Wd(),$e=l,Tc.current=h,_t!==null)throw Error(t(261));return Lt=null,Bt=0,Rt}function oS(){for(;_t!==null;)z0(_t)}function aS(){for(;_t!==null&&!Au();)z0(_t)}function z0(i){var s=q0(i.alternate,i,An);i.memoizedProps=i.pendingProps,s===null?$0(i):_t=s,Sf.current=null}function $0(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=Z2(l,s,An),l!==null){_t=l;return}}else{if(l=eS(l,s),l!==null){l.flags&=32767,_t=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Rt=6,_t=null;return}}if(s=s.sibling,s!==null){_t=s;return}_t=s=i}while(s!==null);Rt===0&&(Rt=5)}function bs(i,s,l){var h=Fe,m=On.transition;try{On.transition=null,Fe=1,lS(i,s,l,h)}finally{On.transition=m,Fe=h}return null}function lS(i,s,l,h){do Bo();while(Pi!==null);if(($e&6)!==0)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=l.lanes|l.childLanes;if(Ge(i,v),i===Lt&&(_t=Lt=null,Bt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Cc||(Cc=!0,K0(Rn,function(){return Bo(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=On.transition,On.transition=null;var T=Fe;Fe=1;var P=$e;$e|=4,Sf.current=null,nS(i,l),V0(l,i),k2(Nd),vi=!!bd,Nd=bd=null,i.current=l,rS(l),md(),$e=P,Fe=T,On.transition=v}else i.current=l;if(Cc&&(Cc=!1,Pi=i,Ac=m),v=i.pendingLanes,v===0&&(ki=null),Ru(l.stateNode),gn(i,Qe()),s!==null)for(h=i.onRecoverableError,l=0;l<s.length;l++)m=s[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(Ic)throw Ic=!1,i=Af,Af=null,i;return(Ac&1)!==0&&i.tag!==0&&Bo(),v=i.pendingLanes,(v&1)!==0?i===kf?xl++:(xl=0,kf=i):xl=0,Si(),null}function Bo(){if(Pi!==null){var i=gi(Ac),s=On.transition,l=Fe;try{if(On.transition=null,Fe=16>i?16:i,Pi===null)var h=!1;else{if(i=Pi,Pi=null,Ac=0,($e&6)!==0)throw Error(t(331));var m=$e;for($e|=4,pe=i.current;pe!==null;){var v=pe,T=v.child;if((pe.flags&16)!==0){var P=v.deletions;if(P!==null){for(var L=0;L<P.length;L++){var K=P[L];for(pe=K;pe!==null;){var ne=pe;switch(ne.tag){case 0:case 11:case 15:_l(8,ne,v)}var se=ne.child;if(se!==null)se.return=ne,pe=se;else for(;pe!==null;){ne=pe;var ee=ne.sibling,de=ne.return;if(k0(ne),ne===K){pe=null;break}if(ee!==null){ee.return=de,pe=ee;break}pe=de}}}var me=v.alternate;if(me!==null){var ye=me.child;if(ye!==null){me.child=null;do{var mt=ye.sibling;ye.sibling=null,ye=mt}while(ye!==null)}}pe=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,pe=T;else e:for(;pe!==null;){if(v=pe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:_l(9,v,v.return)}var H=v.sibling;if(H!==null){H.return=v.return,pe=H;break e}pe=v.return}}var j=i.current;for(pe=j;pe!==null;){T=pe;var W=T.child;if((T.subtreeFlags&2064)!==0&&W!==null)W.return=T,pe=W;else e:for(T=j;pe!==null;){if(P=pe,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:xc(9,P)}}catch(ve){ht(P,P.return,ve)}if(P===T){pe=null;break e}var ae=P.sibling;if(ae!==null){ae.return=P.return,pe=ae;break e}pe=P.return}}if($e=m,Si(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(ps,i)}catch{}h=!0}return h}finally{Fe=l,On.transition=s}}return!1}function H0(i,s,l){s=Oo(l,s),s=l0(i,s,1),i=Ci(i,s,1),s=on(),i!==null&&(pi(i,1,s),gn(i,s))}function ht(i,s,l){if(i.tag===3)H0(i,i,l);else for(;s!==null;){if(s.tag===3){H0(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ki===null||!ki.has(h))){i=Oo(l,i),i=u0(s,i,1),s=Ci(s,i,1),i=on(),s!==null&&(pi(s,1,i),gn(s,i));break}}s=s.return}}function uS(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),s=on(),i.pingedLanes|=i.suspendedLanes&l,Lt===i&&(Bt&l)===l&&(Rt===4||Rt===3&&(Bt&130023424)===Bt&&500>Qe()-Cf?Rs(i,0):If|=l),gn(i,s)}function W0(i,s){s===0&&((i.mode&1)===0?s=1:(s=uo,uo<<=1,(uo&130023424)===0&&(uo=4194304)));var l=on();i=Qr(i,s),i!==null&&(pi(i,s,l),gn(i,l))}function cS(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),W0(i,l)}function hS(i,s){var l=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),W0(i,l)}var q0;q0=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||dn.current)pn=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return pn=!1,J2(i,s,l);pn=(i.flags&131072)!==0}else pn=!1,nt&&(s.flags&1048576)!==0&&Iy(s,sc,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;wc(i,s),i=s.pendingProps;var m=Po(s,Kt.current);Lo(s,l),m=nf(null,s,h,i,m,l);var v=rf();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,fn(h)?(v=!0,nc(s)):v=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Qd(s),m.updater=vc,s.stateNode=m,m._reactInternals=s,cf(s,h,i,l),s=pf(null,s,h,!0,v,l)):(s.tag=0,nt&&v&&Fd(s),sn(null,s,m,l),s=s.child),s;case 16:h=s.elementType;e:{switch(wc(i,s),i=s.pendingProps,m=h._init,h=m(h._payload),s.type=h,m=s.tag=fS(h),i=er(h,i),m){case 0:s=ff(null,s,h,i,l);break e;case 1:s=v0(null,s,h,i,l);break e;case 11:s=f0(null,s,h,i,l);break e;case 14:s=p0(null,s,h,er(h.type,i),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:er(h,m),ff(i,s,h,m,l);case 1:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:er(h,m),v0(i,s,h,m,l);case 3:e:{if(_0(s),i===null)throw Error(t(387));h=s.pendingProps,v=s.memoizedState,m=v.element,Dy(i,s),hc(s,h,null,l);var T=s.memoizedState;if(h=T.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){m=Oo(Error(t(423)),s),s=w0(i,s,h,l,m);break e}else if(h!==m){m=Oo(Error(t(424)),s),s=w0(i,s,h,l,m);break e}else for(Cn=Ei(s.stateNode.containerInfo.firstChild),In=s,nt=!0,Zn=null,l=Ny(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(No(),h===m){s=Xr(i,s,l);break e}sn(i,s,h,l)}s=s.child}return s;case 5:return Oy(s),i===null&&zd(s),h=s.type,m=s.pendingProps,v=i!==null?i.memoizedProps:null,T=m.children,Vd(h,m)?T=null:v!==null&&Vd(h,v)&&(s.flags|=32),y0(i,s),sn(i,s,T,l),s.child;case 6:return i===null&&zd(s),null;case 13:return E0(i,s,l);case 4:return Yd(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Vo(s,null,h,l):sn(i,s,h,l),s.child;case 11:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:er(h,m),f0(i,s,h,m,l);case 7:return sn(i,s,s.pendingProps,l),s.child;case 8:return sn(i,s,s.pendingProps.children,l),s.child;case 12:return sn(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,m=s.pendingProps,v=s.memoizedProps,T=m.value,Ye(lc,h._currentValue),h._currentValue=T,v!==null)if(Jn(v.value,T)){if(v.children===m.children&&!dn.current){s=Xr(i,s,l);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var P=v.dependencies;if(P!==null){T=v.child;for(var L=P.firstContext;L!==null;){if(L.context===h){if(v.tag===1){L=Yr(-1,l&-l),L.tag=2;var K=v.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?L.next=L:(L.next=ne.next,ne.next=L),K.pending=L}}v.lanes|=l,L=v.alternate,L!==null&&(L.lanes|=l),Kd(v.return,l,s),P.lanes|=l;break}L=L.next}}else if(v.tag===10)T=v.type===s.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(t(341));T.lanes|=l,P=T.alternate,P!==null&&(P.lanes|=l),Kd(T,l,s),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===s){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}sn(i,s,m.children,l),s=s.child}return s;case 9:return m=s.type,h=s.pendingProps.children,Lo(s,l),m=Ln(m),h=h(m),s.flags|=1,sn(i,s,h,l),s.child;case 14:return h=s.type,m=er(h,s.pendingProps),m=er(h.type,m),p0(i,s,h,m,l);case 15:return m0(i,s,s.type,s.pendingProps,l);case 17:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:er(h,m),wc(i,s),s.tag=1,fn(h)?(i=!0,nc(s)):i=!1,Lo(s,l),o0(s,h,m),cf(s,h,m,l),pf(null,s,h,!0,i,l);case 19:return T0(i,s,l);case 22:return g0(i,s,l)}throw Error(t(156,s.tag))};function K0(i,s){return ao(i,s)}function dS(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(i,s,l,h){return new dS(i,s,l,h)}function Df(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fS(i){if(typeof i=="function")return Df(i)?1:0;if(i!=null){if(i=i.$$typeof,i===F)return 11;if(i===ft)return 14}return 2}function Ni(i,s){var l=i.alternate;return l===null?(l=jn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function bc(i,s,l,h,m,v){var T=2;if(h=i,typeof i=="function")Df(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case R:return Ns(l.children,m,v,s);case I:T=8,m|=8;break;case A:return i=jn(12,l,s,m|2),i.elementType=A,i.lanes=v,i;case k:return i=jn(13,l,s,m),i.elementType=k,i.lanes=v,i;case We:return i=jn(19,l,s,m),i.elementType=We,i.lanes=v,i;case Ce:return Nc(l,m,v,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case b:T=10;break e;case O:T=9;break e;case F:T=11;break e;case ft:T=14;break e;case St:T=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=jn(T,l,s,m),s.elementType=i,s.type=h,s.lanes=v,s}function Ns(i,s,l,h){return i=jn(7,i,h,s),i.lanes=l,i}function Nc(i,s,l,h){return i=jn(22,i,h,s),i.elementType=Ce,i.lanes=l,i.stateNode={isHidden:!1},i}function Lf(i,s,l){return i=jn(6,i,null,s),i.lanes=l,i}function Mf(i,s,l){return s=jn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function pS(i,s,l,h,m){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fi(0),this.expirationTimes=fi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Of(i,s,l,h,m,v,T,P,L){return i=new pS(i,s,l,P,L),s===1?(s=1,v===!0&&(s|=8)):s=0,v=jn(3,null,null,s),i.current=v,v.stateNode=i,v.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qd(v),i}function mS(i,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:h==null?null:""+h,children:i,containerInfo:s,implementation:l}}function G0(i){if(!i)return Ti;i=i._reactInternals;e:{if(Wn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(fn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(fn(l))return xy(i,l,s)}return s}function Q0(i,s,l,h,m,v,T,P,L){return i=Of(l,h,!0,i,m,v,T,P,L),i.context=G0(null),l=i.current,h=on(),m=Ri(l),v=Yr(h,m),v.callback=s??null,Ci(l,v,m),i.current.lanes=m,pi(i,m,h),gn(i,h),i}function Vc(i,s,l,h){var m=s.current,v=on(),T=Ri(m);return l=G0(l),s.context===null?s.context=l:s.pendingContext=l,s=Yr(v,T),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=Ci(m,s,T),i!==null&&(rr(i,m,T,v),cc(i,m,T)),T}function Dc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Y0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function jf(i,s){Y0(i,s),(i=i.alternate)&&Y0(i,s)}function gS(){return null}var X0=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ff(i){this._internalRoot=i}Lc.prototype.render=Ff.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));Vc(i,s,null,null)},Lc.prototype.unmount=Ff.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Ps(function(){Vc(null,i,null,null)}),s[Wr]=null}};function Lc(i){this._internalRoot=i}Lc.prototype.unstable_scheduleHydration=function(i){if(i){var s=Lu();i={blockedOn:null,target:i,priority:s};for(var l=0;l<fr.length&&s!==0&&s<fr[l].priority;l++);fr.splice(l,0,i),l===0&&ju(i)}};function Uf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Mc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function J0(){}function yS(i,s,l,h,m){if(m){if(typeof h=="function"){var v=h;h=function(){var K=Dc(T);v.call(K)}}var T=Q0(s,h,i,0,null,!1,!1,"",J0);return i._reactRootContainer=T,i[Wr]=T.current,ol(i.nodeType===8?i.parentNode:i),Ps(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var P=h;h=function(){var K=Dc(L);P.call(K)}}var L=Of(i,0,!1,null,null,!1,!1,"",J0);return i._reactRootContainer=L,i[Wr]=L.current,ol(i.nodeType===8?i.parentNode:i),Ps(function(){Vc(s,L,l,h)}),L}function Oc(i,s,l,h,m){var v=l._reactRootContainer;if(v){var T=v;if(typeof m=="function"){var P=m;m=function(){var L=Dc(T);P.call(L)}}Vc(s,T,i,m)}else T=yS(l,s,i,m,h);return Dc(T)}Vu=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=di(s.pendingLanes);l!==0&&(mi(s,l|1),gn(s,Qe()),($e&6)===0&&(Uo=Qe()+500,Si()))}break;case 13:Ps(function(){var h=Qr(i,1);if(h!==null){var m=on();rr(h,i,1,m)}}),jf(i,1)}},co=function(i){if(i.tag===13){var s=Qr(i,134217728);if(s!==null){var l=on();rr(s,i,134217728,l)}jf(i,134217728)}},Du=function(i){if(i.tag===13){var s=Ri(i),l=Qr(i,s);if(l!==null){var h=on();rr(l,i,s,h)}jf(i,s)}},Lu=function(){return Fe},Mu=function(i,s){var l=Fe;try{return Fe=i,s()}finally{Fe=l}},to=function(i,s,l){switch(s){case"input":if(ba(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var m=ec(h);if(!m)throw Error(t(90));Xe(h),ba(h,m)}}}break;case"textarea":Zs(i,l);break;case"select":s=l.value,s!=null&&Or(i,!!l.multiple,s,!1)}},us=bf,Ba=Ps;var vS={usingClientEntryPoint:!1,Events:[ul,Ao,ec,hr,Ua,bf]},Tl={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_S={bundleType:Tl.bundleType,version:Tl.version,rendererPackageName:Tl.rendererPackageName,rendererConfig:Tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ha(i),i===null?null:i.stateNode},findFiberByHostInstance:Tl.findFiberByHostInstance||gS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{ps=jc.inject(_S),En=jc}catch{}}return yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vS,yn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uf(s))throw Error(t(200));return mS(i,s,null,l)},yn.createRoot=function(i,s){if(!Uf(i))throw Error(t(299));var l=!1,h="",m=X0;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=Of(i,1,!1,null,null,l,!1,h,m),i[Wr]=s.current,ol(i.nodeType===8?i.parentNode:i),new Ff(s)},yn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ha(s),i=i===null?null:i.stateNode,i},yn.flushSync=function(i){return Ps(i)},yn.hydrate=function(i,s,l){if(!Mc(s))throw Error(t(200));return Oc(null,i,s,!0,l)},yn.hydrateRoot=function(i,s,l){if(!Uf(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,m=!1,v="",T=X0;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=Q0(s,null,i,1,l??null,m,!1,v,T),i[Wr]=s.current,ol(i),h)for(i=0;i<h.length;i++)l=h[i],m=l._getVersion,m=m(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,m]:s.mutableSourceEagerHydrationData.push(l,m);return new Lc(s)},yn.render=function(i,s,l){if(!Mc(s))throw Error(t(200));return Oc(null,i,s,!1,l)},yn.unmountComponentAtNode=function(i){if(!Mc(i))throw Error(t(40));return i._reactRootContainer?(Ps(function(){Oc(null,null,i,!1,function(){i._reactRootContainer=null,i[Wr]=null})}),!0):!1},yn.unstable_batchedUpdates=bf,yn.unstable_renderSubtreeIntoContainer=function(i,s,l,h){if(!Mc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Oc(i,s,l,!1,h)},yn.version="18.3.1-next-f1338f8080-20240426",yn}var ov;function kS(){if(ov)return $f.exports;ov=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$f.exports=AS(),$f.exports}var av;function PS(){if(av)return Fc;av=1;var n=kS();return Fc.createRoot=n.createRoot,Fc.hydrateRoot=n.hydrateRoot,Fc}var RS=PS();const bS=J_(RS);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lv="popstate";function NS(n={}){function e(r,o){let{pathname:a,search:u,hash:d}=r.location;return xp("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Wl(o)}return DS(e,t,null,n)}function it(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ar(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VS(){return Math.random().toString(36).substring(2,10)}function uv(n,e){return{usr:n.state,key:n.key,idx:e}}function xp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ga(e):e,state:t,key:e&&e.key||r||VS()}}function Wl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ga(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function DS(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,d="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function w(){d="POP";let N=g(),z=N==null?null:N-p;p=N,f&&f({action:d,location:D.location,delta:z})}function x(N,z){d="PUSH";let G=xp(D.location,N,z);p=g()+1;let M=uv(G,p),Y=D.createHref(G);try{u.pushState(M,"",Y)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;o.location.assign(Y)}a&&f&&f({action:d,location:D.location,delta:1})}function C(N,z){d="REPLACE";let G=xp(D.location,N,z);p=g();let M=uv(G,p),Y=D.createHref(G);u.replaceState(M,"",Y),a&&f&&f({action:d,location:D.location,delta:0})}function V(N){return LS(N)}let D={get action(){return d},get location(){return n(o,u)},listen(N){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(lv,w),f=N,()=>{o.removeEventListener(lv,w),f=null}},createHref(N){return e(o,N)},createURL:V,encodeLocation(N){let z=V(N);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:x,replace:C,go(N){return u.go(N)}};return D}function LS(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),it(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Wl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Z_(n,e,t="/"){return MS(n,e,t,!1)}function MS(n,e,t,r){let o=typeof e=="string"?ga(e):e,a=ni(o.pathname||"/",t);if(a==null)return null;let u=ew(n);OS(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=GS(a);d=qS(u[f],p,r)}return d}function ew(n,e=[],t=[],r="",o=!1){let a=(u,d,f=o,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&f)return;it(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let w=ti([r,g.relativePath]),x=t.concat(g);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),ew(u.children,e,x,w,f)),!(u.path==null&&!u.index)&&e.push({path:w,score:HS(w,u.index),routesMeta:x})};return n.forEach((u,d)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))a(u,d);else for(let p of tw(u.path))a(u,d,!0,p)}),e}function tw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=tw(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function OS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:WS(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var jS=/^:[\w-]+$/,FS=3,US=2,BS=1,zS=10,$S=-2,cv=n=>n==="*";function HS(n,e){let t=n.split("/"),r=t.length;return t.some(cv)&&(r+=$S),e&&(r+=US),t.filter(o=>!cv(o)).reduce((o,a)=>o+(jS.test(a)?FS:a===""?BS:zS),r)}function WS(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function qS(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",w=ph({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),x=f.route;if(!w&&p&&t&&!r[r.length-1].route.index&&(w=ph({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:ti([a,w.pathname]),pathnameBase:JS(ti([a,w.pathnameBase])),route:x}),w.pathnameBase!=="/"&&(a=ti([a,w.pathnameBase]))}return u}function ph(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=KS(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:w},x)=>{if(g==="*"){let V=d[x]||"";u=a.slice(0,a.length-V.length).replace(/(.)\/+$/,"$1")}const C=d[x];return w&&!C?p[g]=void 0:p[g]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function KS(n,e=!1,t=!0){ar(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function GS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ar(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ni(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function QS(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?ga(n):n;return{pathname:t?t.startsWith("/")?t:YS(t,e):e,search:ZS(r),hash:eI(o)}}function YS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function qf(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _m(n){let e=XS(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function wm(n,e,t,r=!1){let o;typeof n=="string"?o=ga(n):(o={...n},it(!o.pathname||!o.pathname.includes("?"),qf("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),qf("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),qf("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),w-=1;o.pathname=x.join("/")}d=w>=0?e[w]:"/"}let f=QS(o,d),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var ti=n=>n.join("/").replace(/\/\/+/g,"/"),JS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ZS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,eI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function tI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var nw=["POST","PUT","PATCH","DELETE"];new Set(nw);var nI=["GET",...nw];new Set(nI);var ya=U.createContext(null);ya.displayName="DataRouter";var Uh=U.createContext(null);Uh.displayName="DataRouterState";U.createContext(!1);var rw=U.createContext({isTransitioning:!1});rw.displayName="ViewTransition";var rI=U.createContext(new Map);rI.displayName="Fetchers";var iI=U.createContext(null);iI.displayName="Await";var ur=U.createContext(null);ur.displayName="Navigation";var lu=U.createContext(null);lu.displayName="Location";var Lr=U.createContext({outlet:null,matches:[],isDataRoute:!1});Lr.displayName="Route";var Em=U.createContext(null);Em.displayName="RouteError";function sI(n,{relative:e}={}){it(va(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=U.useContext(ur),{hash:o,pathname:a,search:u}=uu(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:ti([t,a])),r.createHref({pathname:d,search:u,hash:o})}function va(){return U.useContext(lu)!=null}function ts(){return it(va(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(lu).location}var iw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sw(n){U.useContext(ur).static||U.useLayoutEffect(n)}function Bh(){let{isDataRoute:n}=U.useContext(Lr);return n?vI():oI()}function oI(){it(va(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(ya),{basename:e,navigator:t}=U.useContext(ur),{matches:r}=U.useContext(Lr),{pathname:o}=ts(),a=JSON.stringify(_m(r)),u=U.useRef(!1);return sw(()=>{u.current=!0}),U.useCallback((f,p={})=>{if(ar(u.current,iw),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=wm(f,JSON.parse(a),o,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ti([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,a,o,n])}U.createContext(null);function uu(n,{relative:e}={}){let{matches:t}=U.useContext(Lr),{pathname:r}=ts(),o=JSON.stringify(_m(t));return U.useMemo(()=>wm(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function aI(n,e){return ow(n,e)}function ow(n,e,t,r,o){var G;it(va(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=U.useContext(ur),{matches:u}=U.useContext(Lr),d=u[u.length-1],f=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",w=d&&d.route;{let M=w&&w.path||"";aw(p,!w||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let x=ts(),C;if(e){let M=typeof e=="string"?ga(e):e;it(g==="/"||((G=M.pathname)==null?void 0:G.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),C=M}else C=x;let V=C.pathname||"/",D=V;if(g!=="/"){let M=g.replace(/^\//,"").split("/");D="/"+V.replace(/^\//,"").split("/").slice(M.length).join("/")}let N=Z_(n,{pathname:D});ar(w||N!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),ar(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=dI(N&&N.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:ti([g,a.encodeLocation?a.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:ti([g,a.encodeLocation?a.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),u,t,r,o);return e&&z?U.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},z):z}function lI(){let n=yI(),e=tI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:a},"ErrorBoundary")," or"," ",U.createElement("code",{style:a},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,u)}var uI=U.createElement(lI,null),cI=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?U.createElement(Lr.Provider,{value:this.props.routeContext},U.createElement(Em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hI({routeContext:n,match:e,children:t}){let r=U.useContext(ya);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Lr.Provider,{value:n},t)}function dI(n,e=[],t=null,r=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,u=t==null?void 0:t.errors;if(u!=null){let p=a.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let d=!1,f=-1;if(t)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:w,errors:x}=t,C=g.route.loader&&!w.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||C){d=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,g,w)=>{let x,C=!1,V=null,D=null;t&&(x=u&&g.route.id?u[g.route.id]:void 0,V=g.route.errorElement||uI,d&&(f<0&&w===0?(aw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,D=null):f===w&&(C=!0,D=g.route.hydrateFallbackElement||null)));let N=e.concat(a.slice(0,w+1)),z=()=>{let G;return x?G=V:C?G=D:g.route.Component?G=U.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=p,U.createElement(hI,{match:g,routeContext:{outlet:p,matches:N,isDataRoute:t!=null},children:G})};return t&&(g.route.ErrorBoundary||g.route.errorElement||w===0)?U.createElement(cI,{location:t.location,revalidation:t.revalidation,component:V,error:x,children:z(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:r}):z()},null)}function xm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fI(n){let e=U.useContext(ya);return it(e,xm(n)),e}function pI(n){let e=U.useContext(Uh);return it(e,xm(n)),e}function mI(n){let e=U.useContext(Lr);return it(e,xm(n)),e}function Tm(n){let e=mI(n),t=e.matches[e.matches.length-1];return it(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function gI(){return Tm("useRouteId")}function yI(){var r;let n=U.useContext(Em),e=pI("useRouteError"),t=Tm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function vI(){let{router:n}=fI("useNavigate"),e=Tm("useNavigate"),t=U.useRef(!1);return sw(()=>{t.current=!0}),U.useCallback(async(o,a={})=>{ar(t.current,iw),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var hv={};function aw(n,e,t){!e&&!hv[n]&&(hv[n]=!0,ar(!1,t))}U.memo(_I);function _I({routes:n,future:e,state:t,unstable_onError:r}){return ow(n,void 0,t,r,e)}function wI({to:n,replace:e,state:t,relative:r}){it(va(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(ur);ar(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=U.useContext(Lr),{pathname:u}=ts(),d=Bh(),f=wm(n,_m(a),u,r==="path"),p=JSON.stringify(f);return U.useEffect(()=>{d(JSON.parse(p),{replace:e,state:t,relative:r})},[d,p,r,e,t]),null}function Yc(n){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function EI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){it(!va(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=U.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=ga(t));let{pathname:f="/",search:p="",hash:g="",state:w=null,key:x="default"}=t,C=U.useMemo(()=>{let V=ni(f,u);return V==null?null:{location:{pathname:V,search:p,hash:g,state:w,key:x},navigationType:r}},[u,f,p,g,w,x,r]);return ar(C!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:U.createElement(ur.Provider,{value:d},U.createElement(lu.Provider,{children:e,value:C}))}function xI({children:n,location:e}){return aI(Tp(n),e)}function Tp(n,e=[]){let t=[];return U.Children.forEach(n,(r,o)=>{if(!U.isValidElement(r))return;let a=[...e,o];if(r.type===U.Fragment){t.push.apply(t,Tp(r.props.children,a));return}it(r.type===Yc,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Tp(r.props.children,a)),t.push(u)}),t}var Xc="get",Jc="application/x-www-form-urlencoded";function zh(n){return n!=null&&typeof n.tagName=="string"}function TI(n){return zh(n)&&n.tagName.toLowerCase()==="button"}function SI(n){return zh(n)&&n.tagName.toLowerCase()==="form"}function II(n){return zh(n)&&n.tagName.toLowerCase()==="input"}function CI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function AI(n,e){return n.button===0&&(!e||e==="_self")&&!CI(n)}var Uc=null;function kI(){if(Uc===null)try{new FormData(document.createElement("form"),0),Uc=!1}catch{Uc=!0}return Uc}var PI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kf(n){return n!=null&&!PI.has(n)?(ar(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jc}"`),null):n}function RI(n,e){let t,r,o,a,u;if(SI(n)){let d=n.getAttribute("action");r=d?ni(d,e):null,t=n.getAttribute("method")||Xc,o=Kf(n.getAttribute("enctype"))||Jc,a=new FormData(n)}else if(TI(n)||II(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?ni(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Xc,o=Kf(n.getAttribute("formenctype"))||Kf(d.getAttribute("enctype"))||Jc,a=new FormData(d,n),!kI()){let{name:p,type:g,value:w}=n;if(g==="image"){let x=p?`${p}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else p&&a.append(p,w)}}else{if(zh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Xc,r=null,o=Jc,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function bI(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&ni(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function NI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function DI(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await NI(a,t);return u.links?u.links():[]}return[]}));return jI(r.flat(1).filter(VI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function dv(n,e,t,r,o,a){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,d=(f,p)=>{var g;return t[p].pathname!==f.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):a==="data"?e.filter((f,p)=>{var w;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function LI(n,e,{includeHydrateFallback:t}={}){return MI(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function MI(n){return[...new Set(n)]}function OI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function jI(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(OI(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function lw(){let n=U.useContext(ya);return Sm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function FI(){let n=U.useContext(Uh);return Sm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Im=U.createContext(void 0);Im.displayName="FrameworkContext";function uw(){let n=U.useContext(Im);return Sm(n,"You must render this element inside a <HydratedRouter> element"),n}function UI(n,e){let t=U.useContext(Im),[r,o]=U.useState(!1),[a,u]=U.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:w}=e,x=U.useRef(null);U.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let D=z=>{z.forEach(G=>{u(G.isIntersecting)})},N=new IntersectionObserver(D,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[n]),U.useEffect(()=>{if(r){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[r]);let C=()=>{o(!0)},V=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,x,{}]:[a,x,{onFocus:Il(d,C),onBlur:Il(f,V),onMouseEnter:Il(p,C),onMouseLeave:Il(g,V),onTouchStart:Il(w,C)}]:[!1,x,{}]}function Il(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function BI({page:n,...e}){let{router:t}=lw(),r=U.useMemo(()=>Z_(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?U.createElement($I,{page:n,matches:r,...e}):null}function zI(n){let{manifest:e,routeModules:t}=uw(),[r,o]=U.useState([]);return U.useEffect(()=>{let a=!1;return DI(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),r}function $I({page:n,matches:e,...t}){let r=ts(),{manifest:o,routeModules:a}=uw(),{basename:u}=lw(),{loaderData:d,matches:f}=FI(),p=U.useMemo(()=>dv(n,e,f,o,r,"data"),[n,e,f,o,r]),g=U.useMemo(()=>dv(n,e,f,o,r,"assets"),[n,e,f,o,r]),w=U.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let V=new Set,D=!1;if(e.forEach(z=>{var M;let G=o.routes[z.route.id];!G||!G.hasLoader||(!p.some(Y=>Y.route.id===z.route.id)&&z.route.id in d&&((M=a[z.route.id])!=null&&M.shouldRevalidate)||G.hasClientLoader?D=!0:V.add(z.route.id))}),V.size===0)return[];let N=bI(n,u,"data");return D&&V.size>0&&N.searchParams.set("_routes",e.filter(z=>V.has(z.route.id)).map(z=>z.route.id).join(",")),[N.pathname+N.search]},[u,d,r,o,p,e,n,a]),x=U.useMemo(()=>LI(g,o),[g,o]),C=zI(g);return U.createElement(U.Fragment,null,w.map(V=>U.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),x.map(V=>U.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),C.map(({key:V,link:D})=>U.createElement("link",{key:V,nonce:t.nonce,...D})))}function HI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var cw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cw&&(window.__reactRouterVersion="7.8.2")}catch{}function WI({basename:n,children:e,window:t}){let r=U.useRef();r.current==null&&(r.current=NS({window:t,v5Compat:!0}));let o=r.current,[a,u]=U.useState({action:o.action,location:o.location}),d=U.useCallback(f=>{U.startTransition(()=>u(f))},[u]);return U.useLayoutEffect(()=>o.listen(d),[o,d]),U.createElement(EI,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var hw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dw=U.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:d,target:f,to:p,preventScrollReset:g,viewTransition:w,...x},C){let{basename:V}=U.useContext(ur),D=typeof p=="string"&&hw.test(p),N,z=!1;if(typeof p=="string"&&D&&(N=p,cw))try{let A=new URL(window.location.href),b=p.startsWith("//")?new URL(A.protocol+p):new URL(p),O=ni(b.pathname,V);b.origin===A.origin&&O!=null?p=O+b.search+b.hash:z=!0}catch{ar(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=sI(p,{relative:o}),[M,Y,Z]=UI(r,x),re=QI(p,{replace:u,state:d,target:f,preventScrollReset:g,relative:o,viewTransition:w});function R(A){e&&e(A),A.defaultPrevented||re(A)}let I=U.createElement("a",{...x,...Z,href:N||G,onClick:z||a?e:R,ref:HI(C,Y),target:f,"data-discover":!D&&t==="render"?"true":void 0});return M&&!D?U.createElement(U.Fragment,null,I,U.createElement(BI,{page:G})):I});dw.displayName="Link";var qI=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:d,children:f,...p},g){let w=uu(u,{relative:p.relative}),x=ts(),C=U.useContext(Uh),{navigator:V,basename:D}=U.useContext(ur),N=C!=null&&eC(w)&&d===!0,z=V.encodeLocation?V.encodeLocation(w).pathname:w.pathname,G=x.pathname,M=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(G=G.toLowerCase(),M=M?M.toLowerCase():null,z=z.toLowerCase()),M&&D&&(M=ni(M,D)||M);const Y=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let Z=G===z||!o&&G.startsWith(z)&&G.charAt(Y)==="/",re=M!=null&&(M===z||!o&&M.startsWith(z)&&M.charAt(z.length)==="/"),R={isActive:Z,isPending:re,isTransitioning:N},I=Z?e:void 0,A;typeof r=="function"?A=r(R):A=[r,Z?"active":null,re?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let b=typeof a=="function"?a(R):a;return U.createElement(dw,{...p,"aria-current":I,className:A,ref:g,style:b,to:u,viewTransition:d},typeof f=="function"?f(R):f)});qI.displayName="NavLink";var KI=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:u=Xc,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:w,...x},C)=>{let V=JI(),D=ZI(d,{relative:p}),N=u.toLowerCase()==="get"?"get":"post",z=typeof d=="string"&&hw.test(d),G=M=>{if(f&&f(M),M.defaultPrevented)return;M.preventDefault();let Y=M.nativeEvent.submitter,Z=(Y==null?void 0:Y.getAttribute("formmethod"))||u;V(Y||M.currentTarget,{fetcherKey:e,method:Z,navigate:t,replace:o,state:a,relative:p,preventScrollReset:g,viewTransition:w})};return U.createElement("form",{ref:C,method:N,action:D,onSubmit:r?f:G,...x,"data-discover":!z&&n==="render"?"true":void 0})});KI.displayName="Form";function GI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fw(n){let e=U.useContext(ya);return it(e,GI(n)),e}function QI(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let d=Bh(),f=ts(),p=uu(n,{relative:a});return U.useCallback(g=>{if(AI(g,e)){g.preventDefault();let w=t!==void 0?t:Wl(f)===Wl(p);d(n,{replace:w,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[f,d,p,t,r,e,n,o,a,u])}var YI=0,XI=()=>`__${String(++YI)}__`;function JI(){let{router:n}=fw("useSubmit"),{basename:e}=U.useContext(ur),t=gI();return U.useCallback(async(r,o={})=>{let{action:a,method:u,encType:d,formData:f,body:p}=RI(r,e);if(o.navigate===!1){let g=o.fetcherKey||XI();await n.fetch(g,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function ZI(n,{relative:e}={}){let{basename:t}=U.useContext(ur),r=U.useContext(Lr);it(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...uu(n||".",{relative:e})},u=ts();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(w=>w).forEach(w=>d.append("index",w));let g=d.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ti([t,a.pathname])),Wl(a)}function eC(n,{relative:e}={}){let t=U.useContext(rw);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=fw("useViewTransitionState"),o=uu(n,{relative:e});if(!t.isTransitioning)return!1;let a=ni(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=ni(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ph(o.pathname,u)!=null||ph(o.pathname,a)!=null}const pw=U.createContext({});function tC(n){const e=U.useRef(null);return e.current===null&&(e.current=n()),e.current}const Cm=typeof window<"u",nC=Cm?U.useLayoutEffect:U.useEffect,Am=U.createContext(null);function km(n,e){n.indexOf(e)===-1&&n.push(e)}function Pm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ri=(n,e,t)=>t>e?e:t<n?n:t;let Rm=()=>{};const ii={},mw=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function gw(n){return typeof n=="object"&&n!==null}const yw=n=>/^0[^.\s]+$/u.test(n);function bm(n){let e;return()=>(e===void 0&&(e=n()),e)}const zn=n=>n,rC=(n,e)=>t=>e(n(t)),cu=(...n)=>n.reduce(rC),ql=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class Nm{constructor(){this.subscriptions=[]}add(e){return km(this.subscriptions,e),()=>Pm(this.subscriptions,e)}notify(e,t,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,r);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xr=n=>n*1e3,Tr=n=>n/1e3;function vw(n,e){return e?n*(1e3/e):0}const _w=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,iC=1e-7,sC=12;function oC(n,e,t,r,o){let a,u,d=0;do u=e+(t-e)/2,a=_w(u,r,o)-n,a>0?t=u:e=u;while(Math.abs(a)>iC&&++d<sC);return u}function hu(n,e,t,r){if(n===e&&t===r)return zn;const o=a=>oC(a,0,1,n,t);return a=>a===0||a===1?a:_w(o(a),e,r)}const ww=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Ew=n=>e=>1-n(1-e),xw=hu(.33,1.53,.69,.99),Vm=Ew(xw),Tw=ww(Vm),Sw=n=>(n*=2)<1?.5*Vm(n):.5*(2-Math.pow(2,-10*(n-1))),Dm=n=>1-Math.sin(Math.acos(n)),Iw=Ew(Dm),Cw=ww(Dm),aC=hu(.42,0,1,1),lC=hu(0,0,.58,1),Aw=hu(.42,0,.58,1),uC=n=>Array.isArray(n)&&typeof n[0]!="number",kw=n=>Array.isArray(n)&&typeof n[0]=="number",cC={linear:zn,easeIn:aC,easeInOut:Aw,easeOut:lC,circIn:Dm,circInOut:Cw,circOut:Iw,backIn:Vm,backInOut:Tw,backOut:xw,anticipate:Sw},hC=n=>typeof n=="string",fv=n=>{if(kw(n)){Rm(n.length===4);const[e,t,r,o]=n;return hu(e,t,r,o)}else if(hC(n))return cC[n];return n},Bc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function dC(n,e){let t=new Set,r=new Set,o=!1,a=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(p.schedule(g),n()),g(d)}const p={schedule:(g,w=!1,x=!1)=>{const V=x&&o?t:r;return w&&u.add(g),V.has(g)||V.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(d=g,o){a=!0;return}o=!0,[t,r]=[r,t],t.forEach(f),t.clear(),o=!1,a&&(a=!1,p.process(g))}};return p}const fC=40;function Pw(n,e){let t=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=Bc.reduce((M,Y)=>(M[Y]=dC(a),M),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:g,update:w,preRender:x,render:C,postRender:V}=u,D=()=>{const M=ii.useManualTiming?o.timestamp:performance.now();t=!1,ii.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(M-o.timestamp,fC),1)),o.timestamp=M,o.isProcessing=!0,d.process(o),f.process(o),p.process(o),g.process(o),w.process(o),x.process(o),C.process(o),V.process(o),o.isProcessing=!1,t&&e&&(r=!1,n(D))},N=()=>{t=!0,r=!0,o.isProcessing||n(D)};return{schedule:Bc.reduce((M,Y)=>{const Z=u[Y];return M[Y]=(re,R=!1,I=!1)=>(t||N(),Z.schedule(re,R,I)),M},{}),cancel:M=>{for(let Y=0;Y<Bc.length;Y++)u[Bc[Y]].cancel(M)},state:o,steps:u}}const{schedule:rt,cancel:Ki,state:zt,steps:Gf}=Pw(typeof requestAnimationFrame<"u"?requestAnimationFrame:zn,!0);let Zc;function pC(){Zc=void 0}const wn={now:()=>(Zc===void 0&&wn.set(zt.isProcessing||ii.useManualTiming?zt.timestamp:performance.now()),Zc),set:n=>{Zc=n,queueMicrotask(pC)}},Rw=n=>e=>typeof e=="string"&&e.startsWith(n),Lm=Rw("--"),mC=Rw("var(--"),Mm=n=>mC(n)?gC.test(n.split("/*")[0].trim()):!1,gC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_a={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Kl={..._a,transform:n=>ri(0,1,n)},zc={..._a,default:1},Dl=n=>Math.round(n*1e5)/1e5,Om=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yC(n){return n==null}const vC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jm=(n,e)=>t=>!!(typeof t=="string"&&vC.test(t)&&t.startsWith(n)||e&&!yC(t)&&Object.prototype.hasOwnProperty.call(t,e)),bw=(n,e,t)=>r=>{if(typeof r!="string")return r;const[o,a,u,d]=r.match(Om);return{[n]:parseFloat(o),[e]:parseFloat(a),[t]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},_C=n=>ri(0,255,n),Qf={..._a,transform:n=>Math.round(_C(n))},Ms={test:jm("rgb","red"),parse:bw("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Qf.transform(n)+", "+Qf.transform(e)+", "+Qf.transform(t)+", "+Dl(Kl.transform(r))+")"};function wC(n){let e="",t="",r="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Sp={test:jm("#"),parse:wC,transform:Ms.transform},du=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Li=du("deg"),Sr=du("%"),Ae=du("px"),EC=du("vh"),xC=du("vw"),pv={...Sr,parse:n=>Sr.parse(n)/100,transform:n=>Sr.transform(n*100)},qo={test:jm("hsl","hue"),parse:bw("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Sr.transform(Dl(e))+", "+Sr.transform(Dl(t))+", "+Dl(Kl.transform(r))+")"},Et={test:n=>Ms.test(n)||Sp.test(n)||qo.test(n),parse:n=>Ms.test(n)?Ms.parse(n):qo.test(n)?qo.parse(n):Sp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ms.transform(n):qo.transform(n),getAnimatableNone:n=>{const e=Et.parse(n);return e.alpha=0,Et.transform(e)}},TC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function SC(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Om))==null?void 0:e.length)||0)+(((t=n.match(TC))==null?void 0:t.length)||0)>0}const Nw="number",Vw="color",IC="var",CC="var(",mv="${}",AC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gl(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},o=[];let a=0;const d=e.replace(AC,f=>(Et.test(f)?(r.color.push(a),o.push(Vw),t.push(Et.parse(f))):f.startsWith(CC)?(r.var.push(a),o.push(IC),t.push(f)):(r.number.push(a),o.push(Nw),t.push(parseFloat(f))),++a,mv)).split(mv);return{values:t,split:d,indexes:r,types:o}}function Dw(n){return Gl(n).values}function Lw(n){const{split:e,types:t}=Gl(n),r=e.length;return o=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],o[u]!==void 0){const d=t[u];d===Nw?a+=Dl(o[u]):d===Vw?a+=Et.transform(o[u]):a+=o[u]}return a}}const kC=n=>typeof n=="number"?0:Et.test(n)?Et.getAnimatableNone(n):n;function PC(n){const e=Dw(n);return Lw(n)(e.map(kC))}const Gi={test:SC,parse:Dw,createTransformer:Lw,getAnimatableNone:PC};function Yf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function RC({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let o=0,a=0,u=0;if(!e)o=a=u=t;else{const d=t<.5?t*(1+e):t+e-t*e,f=2*t-d;o=Yf(f,d,n+1/3),a=Yf(f,d,n),u=Yf(f,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function mh(n,e){return t=>t>0?e:n}const lt=(n,e,t)=>n+(e-n)*t,Xf=(n,e,t)=>{const r=n*n,o=t*(e*e-r)+r;return o<0?0:Math.sqrt(o)},bC=[Sp,Ms,qo],NC=n=>bC.find(e=>e.test(n));function gv(n){const e=NC(n);if(!e)return!1;let t=e.parse(n);return e===qo&&(t=RC(t)),t}const yv=(n,e)=>{const t=gv(n),r=gv(e);if(!t||!r)return mh(n,e);const o={...t};return a=>(o.red=Xf(t.red,r.red,a),o.green=Xf(t.green,r.green,a),o.blue=Xf(t.blue,r.blue,a),o.alpha=lt(t.alpha,r.alpha,a),Ms.transform(o))},Ip=new Set(["none","hidden"]);function VC(n,e){return Ip.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function DC(n,e){return t=>lt(n,e,t)}function Fm(n){return typeof n=="number"?DC:typeof n=="string"?Mm(n)?mh:Et.test(n)?yv:OC:Array.isArray(n)?Mw:typeof n=="object"?Et.test(n)?yv:LC:mh}function Mw(n,e){const t=[...n],r=t.length,o=n.map((a,u)=>Fm(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)t[u]=o[u](a);return t}}function LC(n,e){const t={...n,...e},r={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(r[o]=Fm(n[o])(n[o],e[o]));return o=>{for(const a in r)t[a]=r[a](o);return t}}function MC(n,e){const t=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],u=n.indexes[a][r[a]],d=n.values[u]??0;t[o]=d,r[a]++}return t}const OC=(n,e)=>{const t=Gi.createTransformer(e),r=Gl(n),o=Gl(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Ip.has(n)&&!o.values.length||Ip.has(e)&&!r.values.length?VC(n,e):cu(Mw(MC(r,o),o.values),t):mh(n,e)};function Ow(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?lt(n,e,t):Fm(n)(n,e)}const jC=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>rt.update(e,t),stop:()=>Ki(e),now:()=>zt.isProcessing?zt.timestamp:wn.now()}},jw=(n,e,t=10)=>{let r="";const o=Math.max(Math.round(e/t),2);for(let a=0;a<o;a++)r+=Math.round(n(a/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},gh=2e4;function Um(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<gh;)e+=t,r=n.next(e);return e>=gh?1/0:e}function FC(n,e=100,t){const r=t({...n,keyframes:[0,e]}),o=Math.min(Um(r),gh);return{type:"keyframes",ease:a=>r.next(o*a).value/e,duration:Tr(o)}}const UC=5;function Fw(n,e,t){const r=Math.max(e-UC,0);return vw(t-n(r),e-r)}const dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jf=.001;function BC({duration:n=dt.duration,bounce:e=dt.bounce,velocity:t=dt.velocity,mass:r=dt.mass}){let o,a,u=1-e;u=ri(dt.minDamping,dt.maxDamping,u),n=ri(dt.minDuration,dt.maxDuration,Tr(n)),u<1?(o=p=>{const g=p*u,w=g*n,x=g-t,C=Cp(p,u),V=Math.exp(-w);return Jf-x/C*V},a=p=>{const w=p*u*n,x=w*t+t,C=Math.pow(u,2)*Math.pow(p,2)*n,V=Math.exp(-w),D=Cp(Math.pow(p,2),u);return(-o(p)+Jf>0?-1:1)*((x-C)*V)/D}):(o=p=>{const g=Math.exp(-p*n),w=(p-t)*n+1;return-Jf+g*w},a=p=>{const g=Math.exp(-p*n),w=(t-p)*(n*n);return g*w});const d=5/n,f=$C(o,a,d);if(n=xr(n),isNaN(f))return{stiffness:dt.stiffness,damping:dt.damping,duration:n};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:n}}}const zC=12;function $C(n,e,t){let r=t;for(let o=1;o<zC;o++)r=r-n(r)/e(r);return r}function Cp(n,e){return n*Math.sqrt(1-e*e)}const HC=["duration","bounce"],WC=["stiffness","damping","mass"];function vv(n,e){return e.some(t=>n[t]!==void 0)}function qC(n){let e={velocity:dt.velocity,stiffness:dt.stiffness,damping:dt.damping,mass:dt.mass,isResolvedFromDuration:!1,...n};if(!vv(n,WC)&&vv(n,HC))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),o=r*r,a=2*ri(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:dt.mass,stiffness:o,damping:a}}else{const t=BC(n);e={...e,...t,mass:dt.mass},e.isResolvedFromDuration=!0}return e}function yh(n=dt.visualDuration,e=dt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:o}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:w,velocity:x,isResolvedFromDuration:C}=qC({...t,velocity:-Tr(t.velocity||0)}),V=x||0,D=p/(2*Math.sqrt(f*g)),N=u-a,z=Tr(Math.sqrt(f/g)),G=Math.abs(N)<5;r||(r=G?dt.restSpeed.granular:dt.restSpeed.default),o||(o=G?dt.restDelta.granular:dt.restDelta.default);let M;if(D<1){const Z=Cp(z,D);M=re=>{const R=Math.exp(-D*z*re);return u-R*((V+D*z*N)/Z*Math.sin(Z*re)+N*Math.cos(Z*re))}}else if(D===1)M=Z=>u-Math.exp(-z*Z)*(N+(V+z*N)*Z);else{const Z=z*Math.sqrt(D*D-1);M=re=>{const R=Math.exp(-D*z*re),I=Math.min(Z*re,300);return u-R*((V+D*z*N)*Math.sinh(I)+Z*N*Math.cosh(I))/Z}}const Y={calculatedDuration:C&&w||null,next:Z=>{const re=M(Z);if(C)d.done=Z>=w;else{let R=Z===0?V:0;D<1&&(R=Z===0?xr(V):Fw(M,Z,re));const I=Math.abs(R)<=r,A=Math.abs(u-re)<=o;d.done=I&&A}return d.value=d.done?u:re,d},toString:()=>{const Z=Math.min(Um(Y),gh),re=jw(R=>Y.next(Z*R).value,Z,30);return Z+"ms "+re},toTransition:()=>{}};return Y}yh.applyToOptions=n=>{const e=FC(n,100,yh);return n.ease=e.ease,n.duration=xr(e.duration),n.type="keyframes",n};function Ap({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:f,restDelta:p=.5,restSpeed:g}){const w=n[0],x={done:!1,value:w},C=I=>d!==void 0&&I<d||f!==void 0&&I>f,V=I=>d===void 0?f:f===void 0||Math.abs(d-I)<Math.abs(f-I)?d:f;let D=t*e;const N=w+D,z=u===void 0?N:u(N);z!==N&&(D=z-w);const G=I=>-D*Math.exp(-I/r),M=I=>z+G(I),Y=I=>{const A=G(I),b=M(I);x.done=Math.abs(A)<=p,x.value=x.done?z:b};let Z,re;const R=I=>{C(x.value)&&(Z=I,re=yh({keyframes:[x.value,V(x.value)],velocity:Fw(M,I,x.value),damping:o,stiffness:a,restDelta:p,restSpeed:g}))};return R(0),{calculatedDuration:null,next:I=>{let A=!1;return!re&&Z===void 0&&(A=!0,Y(I),R(I)),Z!==void 0&&I>=Z?re.next(I-Z):(!A&&Y(I),x)}}}function KC(n,e,t){const r=[],o=t||ii.mix||Ow,a=n.length-1;for(let u=0;u<a;u++){let d=o(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||zn:e;d=cu(f,d)}r.push(d)}return r}function GC(n,e,{clamp:t=!0,ease:r,mixer:o}={}){const a=n.length;if(Rm(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=KC(e,r,o),f=d.length,p=g=>{if(u&&g<n[0])return e[0];let w=0;if(f>1)for(;w<n.length-2&&!(g<n[w+1]);w++);const x=ql(n[w],n[w+1],g);return d[w](x)};return t?g=>p(ri(n[0],n[a-1],g)):p}function QC(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const o=ql(0,e,r);n.push(lt(t,1,o))}}function YC(n){const e=[0];return QC(e,n.length-1),e}function XC(n,e){return n.map(t=>t*e)}function JC(n,e){return n.map(()=>e||Aw).splice(0,n.length-1)}function Ll({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const o=uC(r)?r.map(fv):fv(r),a={done:!1,value:e[0]},u=XC(t&&t.length===e.length?t:YC(e),n),d=GC(u,e,{ease:Array.isArray(o)?o:JC(e,o)});return{calculatedDuration:n,next:f=>(a.value=d(f),a.done=f>=n,a)}}const ZC=n=>n!==null;function Bm(n,{repeat:e,repeatType:t="loop"},r,o=1){const a=n.filter(ZC),d=o<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!d||r===void 0?a[d]:r}const eA={decay:Ap,inertia:Ap,tween:Ll,keyframes:Ll,spring:yh};function Uw(n){typeof n.type=="string"&&(n.type=eA[n.type])}class zm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const tA=n=>n/100;class $m extends zm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:t}=this.options;t&&t.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Uw(e);const{type:t=Ll,repeat:r=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=e;let{keyframes:d}=e;const f=t||Ll;f!==Ll&&typeof d[0]!="number"&&(this.mixKeyframes=cu(tA,Ow(d[0],d[1])),d=[0,100]);const p=f({...e,keyframes:d});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Um(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=p}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:o,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:w,repeatType:x,repeatDelay:C,type:V,onUpdate:D,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const z=this.currentTime-p*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?z<0:z>o;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let M=this.currentTime,Y=r;if(w){const I=Math.min(this.currentTime,o)/d;let A=Math.floor(I),b=I%1;!b&&I>=1&&(b=1),b===1&&A--,A=Math.min(A,w+1),!!(A%2)&&(x==="reverse"?(b=1-b,C&&(b-=C/d)):x==="mirror"&&(Y=u)),M=ri(0,1,b)*d}const Z=G?{done:!1,value:g[0]}:Y.next(M);a&&(Z.value=a(Z.value));let{done:re}=Z;!G&&f!==null&&(re=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&re);return R&&V!==Ap&&(Z.value=Bm(g,this.options,N,this.speed)),D&&D(Z.value),R&&this.finish(),Z}then(e,t){return this.finished.then(e,t)}get duration(){return Tr(this.calculatedDuration)}get time(){return Tr(this.currentTime)}set time(e){var t;e=xr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Tr(this.currentTime))}play(){var o,a;if(this.isStopped)return;const{driver:e=jC,startTime:t}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(a=(o=this.options).onPlay)==null||a.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function nA(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Os=n=>n*180/Math.PI,kp=n=>{const e=Os(Math.atan2(n[1],n[0]));return Pp(e)},rA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:kp,rotateZ:kp,skewX:n=>Os(Math.atan(n[1])),skewY:n=>Os(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Pp=n=>(n=n%360,n<0&&(n+=360),n),_v=kp,wv=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Ev=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),iA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:wv,scaleY:Ev,scale:n=>(wv(n)+Ev(n))/2,rotateX:n=>Pp(Os(Math.atan2(n[6],n[5]))),rotateY:n=>Pp(Os(Math.atan2(-n[2],n[0]))),rotateZ:_v,rotate:_v,skewX:n=>Os(Math.atan(n[4])),skewY:n=>Os(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Rp(n){return n.includes("scale")?1:0}function bp(n,e){if(!n||n==="none")return Rp(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(t)r=iA,o=t;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=rA,o=d}if(!o)return Rp(e);const a=r[e],u=o[1].split(",").map(oA);return typeof a=="function"?a(u):u[a]}const sA=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return bp(t,e)};function oA(n){return parseFloat(n.trim())}const wa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ea=new Set(wa),xv=n=>n===_a||n===Ae,aA=new Set(["x","y","z"]),lA=wa.filter(n=>!aA.has(n));function uA(n){const e=[];return lA.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Fs={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>bp(e,"x"),y:(n,{transform:e})=>bp(e,"y")};Fs.translateX=Fs.x;Fs.translateY=Fs.y;const Us=new Set;let Np=!1,Vp=!1,Dp=!1;function Bw(){if(Vp){const n=Array.from(Us).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const o=uA(r);o.length&&(t.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=t.get(r);o&&o.forEach(([a,u])=>{var d;(d=r.getValue(a))==null||d.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Vp=!1,Np=!1,Us.forEach(n=>n.complete(Dp)),Us.clear()}function zw(){Us.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Vp=!0)})}function cA(){Dp=!0,zw(),Bw(),Dp=!1}class Hm{constructor(e,t,r,o,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Us.add(this),Np||(Np=!0,rt.read(zw),rt.resolveKeyframes(Bw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:o}=this;if(e[0]===null){const a=o==null?void 0:o.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const d=r.readValue(t,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),o&&a===void 0&&o.set(e[0])}nA(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Us.delete(this)}cancel(){this.state==="scheduled"&&(Us.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const hA=n=>n.startsWith("--");function dA(n,e,t){hA(e)?n.style.setProperty(e,t):n.style[e]=t}const fA=bm(()=>window.ScrollTimeline!==void 0),pA={};function mA(n,e){const t=bm(n);return()=>pA[e]??t()}const $w=mA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Al=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Tv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Al([0,.65,.55,1]),circOut:Al([.55,0,1,.45]),backIn:Al([.31,.01,.66,-.59]),backOut:Al([.33,1.53,.69,.99])};function Hw(n,e){if(n)return typeof n=="function"?$w()?jw(n,e):"ease-out":kw(n)?Al(n):Array.isArray(n)?n.map(t=>Hw(t,e)||Tv.easeOut):Tv[n]}function gA(n,e,t,{delay:r=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:d="easeOut",times:f}={},p=void 0){const g={[e]:t};f&&(g.offset=f);const w=Hw(d,o);Array.isArray(w)&&(g.easing=w);const x={delay:r,duration:o,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),n.animate(g,x)}function Ww(n){return typeof n=="function"&&"applyToOptions"in n}function yA({type:n,...e}){return Ww(n)&&$w()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class vA extends zm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:o,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,Rm(typeof e.type!="string");const p=yA(e);this.animation=gA(t,r,o,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=Bm(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):dA(t,r,g),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return Tr(Number(e))}get time(){return Tr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=xr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&fA()?(this.animation.timeline=e,zn):t(this)}}const qw={anticipate:Sw,backInOut:Tw,circInOut:Cw};function _A(n){return n in qw}function wA(n){typeof n.ease=="string"&&_A(n.ease)&&(n.ease=qw[n.ease])}const Sv=10;class EA extends vA{constructor(e){wA(e),Uw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:o,element:a,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const d=new $m({...u,autoplay:!1}),f=xr(this.finishedTime??this.time);t.setWithVelocity(d.sample(f-Sv).value,d.sample(f).value,Sv),d.stop()}}const Iv=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Gi.test(n)||n==="0")&&!n.startsWith("url("));function xA(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function TA(n,e,t,r){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=Iv(o,e),d=Iv(a,e);return!u||!d?!1:xA(n)||(t==="spring"||Ww(t))&&r}function Lp(n){n.duration=0,n.type}const SA=new Set(["opacity","clipPath","filter","transform"]),IA=bm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function CA(n){var g;const{motionValue:e,name:t,repeatDelay:r,repeatType:o,damping:a,type:u}=n;if(!(((g=e==null?void 0:e.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return IA()&&t&&SA.has(t)&&(t!=="transform"||!p)&&!f&&!r&&o!=="mirror"&&a!==0&&u!=="inertia"}const AA=40;class kA extends zm{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",keyframes:d,name:f,motionValue:p,element:g,...w}){var V;super(),this.stop=()=>{var D,N;this._animation&&(this._animation.stop(),(D=this.stopTimeline)==null||D.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=wn.now();const x={autoplay:e,delay:t,type:r,repeat:o,repeatDelay:a,repeatType:u,name:f,motionValue:p,element:g,...w},C=(g==null?void 0:g.KeyframeResolver)||Hm;this.keyframeResolver=new C(d,(D,N,z)=>this.onKeyframesResolved(D,N,x,!z),f,p,g),(V=this.keyframeResolver)==null||V.scheduleResolve()}onKeyframesResolved(e,t,r,o){this.keyframeResolver=void 0;const{name:a,type:u,velocity:d,delay:f,isHandoff:p,onUpdate:g}=r;this.resolvedAt=wn.now(),TA(e,a,u,d)||((ii.instantAnimations||!f)&&(g==null||g(Bm(e,r,t))),e[0]=e[e.length-1],Lp(r),r.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>AA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},C=!p&&CA(x)?new EA({...x,element:x.motionValue.owner.current}):new $m(x);C.finished.then(()=>this.notifyFinished()).catch(zn),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),cA()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const PA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function RA(n){const e=PA.exec(n);if(!e)return[,];const[,t,r,o]=e;return[`--${t??r}`,o]}function Kw(n,e,t=1){const[r,o]=RA(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return mw(u)?parseFloat(u):u}return Mm(o)?Kw(o,e,t+1):o}function Wm(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const Gw=new Set(["width","height","top","left","right","bottom",...wa]),bA={test:n=>n==="auto",parse:n=>n},Qw=n=>e=>e.test(n),Yw=[_a,Ae,Sr,Li,xC,EC,bA],Cv=n=>Yw.find(Qw(n));function NA(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||yw(n):!0}const VA=new Set(["brightness","contrast","saturate","opacity"]);function DA(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Om)||[];if(!r)return n;const o=t.replace(r,"");let a=VA.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+o+")"}const LA=/\b([a-z-]*)\(.*?\)/gu,Mp={...Gi,getAnimatableNone:n=>{const e=n.match(LA);return e?e.map(DA).join(" "):n}},Av={..._a,transform:Math.round},MA={rotate:Li,rotateX:Li,rotateY:Li,rotateZ:Li,scale:zc,scaleX:zc,scaleY:zc,scaleZ:zc,skew:Li,skewX:Li,skewY:Li,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:Kl,originX:pv,originY:pv,originZ:Ae},qm={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae,...MA,zIndex:Av,fillOpacity:Kl,strokeOpacity:Kl,numOctaves:Av},OA={...qm,color:Et,backgroundColor:Et,outlineColor:Et,fill:Et,stroke:Et,borderColor:Et,borderTopColor:Et,borderRightColor:Et,borderBottomColor:Et,borderLeftColor:Et,filter:Mp,WebkitFilter:Mp},Xw=n=>OA[n];function Jw(n,e){let t=Xw(n);return t!==Mp&&(t=Gi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const jA=new Set(["auto","none","0"]);function FA(n,e,t){let r=0,o;for(;r<n.length&&!o;){const a=n[r];typeof a=="string"&&!jA.has(a)&&Gl(a).values.length&&(o=n[r]),r++}if(o&&t)for(const a of e)n[a]=Jw(t,o)}class UA extends Hm{constructor(e,t,r,o,a){super(e,t,r,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Mm(p))){const g=Kw(p,t.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Gw.has(r)||e.length!==2)return;const[o,a]=e,u=Cv(o),d=Cv(a);if(u!==d)if(xv(u)&&xv(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Fs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||NA(e[o]))&&r.push(o);r.length&&FA(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var d;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(t);o&&o.jump(this.measuredOrigin,!1);const a=r.length-1,u=r[a];r[a]=Fs[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function BA(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=(t==null?void 0:t[n])??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const Zw=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function zA(n){return gw(n)&&"offsetHeight"in n}const kv=30,$A=n=>!isNaN(parseFloat(n));class HA{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const o=wn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=$A(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Nm);const r=this.events[e].add(t);return e==="change"?()=>{r(),rt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>kv)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,kv);return vw(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sa(n,e){return new HA(n,e)}const{schedule:Km}=Pw(queueMicrotask,!1),ir={x:!1,y:!1};function eE(){return ir.x||ir.y}function WA(n){return n==="x"||n==="y"?ir[n]?null:(ir[n]=!0,()=>{ir[n]=!1}):ir.x||ir.y?null:(ir.x=ir.y=!0,()=>{ir.x=ir.y=!1})}function tE(n,e){const t=BA(n),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[t,o,()=>r.abort()]}function Pv(n){return!(n.pointerType==="touch"||eE())}function qA(n,e,t={}){const[r,o,a]=tE(n,t),u=d=>{if(!Pv(d))return;const{target:f}=d,p=e(f,d);if(typeof p!="function"||!f)return;const g=w=>{Pv(w)&&(p(w),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,o)};return r.forEach(d=>{d.addEventListener("pointerenter",u,o)}),a}const nE=(n,e)=>e?n===e?!0:nE(n,e.parentElement):!1,Gm=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,KA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function GA(n){return KA.has(n.tagName)||n.tabIndex!==-1}const eh=new WeakSet;function Rv(n){return e=>{e.key==="Enter"&&n(e)}}function Zf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const QA=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=Rv(()=>{if(eh.has(t))return;Zf(t,"down");const o=Rv(()=>{Zf(t,"up")}),a=()=>Zf(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function bv(n){return Gm(n)&&!eE()}function YA(n,e,t={}){const[r,o,a]=tE(n,t),u=d=>{const f=d.currentTarget;if(!bv(d))return;eh.add(f);const p=e(f,d),g=(C,V)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",x),eh.has(f)&&eh.delete(f),bv(C)&&typeof p=="function"&&p(C,{success:V})},w=C=>{g(C,f===window||f===document||t.useGlobalTarget||nE(f,C.target))},x=C=>{g(C,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",x,o)};return r.forEach(d=>{(t.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),zA(d)&&(d.addEventListener("focus",p=>QA(p,o)),!GA(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function rE(n){return gw(n)&&"ownerSVGElement"in n}function XA(n){return rE(n)&&n.tagName==="svg"}const en=n=>!!(n&&n.getVelocity),JA=[...Yw,Et,Gi],ZA=n=>JA.find(Qw(n)),iE=U.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function ek(n=!0){const e=U.useContext(Am);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:o}=e,a=U.useId();U.useEffect(()=>{if(n)return o(a)},[n]);const u=U.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,u]:[!0]}const sE=U.createContext({strict:!1}),Nv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oa={};for(const n in Nv)oa[n]={isEnabled:e=>Nv[n].some(t=>!!e[t])};function tk(n){for(const e in n)oa[e]={...oa[e],...n[e]}}const nk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||nk.has(n)}let oE=n=>!vh(n);function rk(n){typeof n=="function"&&(oE=e=>e.startsWith("on")?!vh(e):n(e))}try{rk(require("@emotion/is-prop-valid").default)}catch{}function ik(n,e,t){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(oE(o)||t===!0&&vh(o)||!e&&!vh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const $h=U.createContext({});function Hh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Ql(n){return typeof n=="string"||Array.isArray(n)}const Qm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ym=["initial",...Qm];function Wh(n){return Hh(n.animate)||Ym.some(e=>Ql(n[e]))}function aE(n){return!!(Wh(n)||n.variants)}function sk(n,e){if(Wh(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Ql(t)?t:void 0,animate:Ql(r)?r:void 0}}return n.inherit!==!1?e:{}}function ok(n){const{initial:e,animate:t}=sk(n,U.useContext($h));return U.useMemo(()=>({initial:e,animate:t}),[Vv(e),Vv(t)])}function Vv(n){return Array.isArray(n)?n.join(" "):n}const Yl={};function ak(n){for(const e in n)Yl[e]=n[e],Lm(e)&&(Yl[e].isCSSVariable=!0)}function lE(n,{layout:e,layoutId:t}){return Ea.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Yl[n]||n==="opacity")}const lk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uk=wa.length;function ck(n,e,t){let r="",o=!0;for(let a=0;a<uk;a++){const u=wa[a],d=n[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||t){const p=Zw(d,qm[u]);if(!f){o=!1;const g=lk[u]||u;r+=`${g}(${p}) `}t&&(e[u]=p)}}return r=r.trim(),t?r=t(e,o?"":r):o&&(r="none"),r}function Xm(n,e,t){const{style:r,vars:o,transformOrigin:a}=n;let u=!1,d=!1;for(const f in e){const p=e[f];if(Ea.has(f)){u=!0;continue}else if(Lm(f)){o[f]=p;continue}else{const g=Zw(p,qm[f]);f.startsWith("origin")?(d=!0,a[f]=g):r[f]=g}}if(e.transform||(u||t?r.transform=ck(e,n.transform,t):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}const Jm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function uE(n,e,t){for(const r in e)!en(e[r])&&!lE(r,t)&&(n[r]=e[r])}function hk({transformTemplate:n},e){return U.useMemo(()=>{const t=Jm();return Xm(t,e,n),Object.assign({},t.vars,t.style)},[e])}function dk(n,e){const t=n.style||{},r={};return uE(r,t,n),Object.assign(r,hk(n,e)),r}function fk(n,e){const t={},r=dk(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const pk={offset:"stroke-dashoffset",array:"stroke-dasharray"},mk={offset:"strokeDashoffset",array:"strokeDasharray"};function gk(n,e,t=1,r=0,o=!0){n.pathLength=1;const a=o?pk:mk;n[a.offset]=Ae.transform(-r);const u=Ae.transform(e),d=Ae.transform(t);n[a.array]=`${u} ${d}`}function cE(n,{attrX:e,attrY:t,attrScale:r,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...d},f,p,g){if(Xm(n,d,p),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:w,style:x}=n;w.transform&&(x.transform=w.transform,delete w.transform),(x.transform||w.transformOrigin)&&(x.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),x.transform&&(x.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete w.transformBox),e!==void 0&&(w.x=e),t!==void 0&&(w.y=t),r!==void 0&&(w.scale=r),o!==void 0&&gk(w,o,a,u,!1)}const hE=()=>({...Jm(),attrs:{}}),dE=n=>typeof n=="string"&&n.toLowerCase()==="svg";function yk(n,e,t,r){const o=U.useMemo(()=>{const a=hE();return cE(a,e,dE(r),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};uE(a,n.style,n),o.style={...a,...o.style}}return o}const vk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zm(n){return typeof n!="string"||n.includes("-")?!1:!!(vk.indexOf(n)>-1||/[A-Z]/u.test(n))}function _k(n,e,t,{latestValues:r},o,a=!1){const d=(Zm(n)?yk:fk)(e,r,o,n),f=ik(e,typeof n=="string",a),p=n!==U.Fragment?{...f,...d,ref:t}:{},{children:g}=e,w=U.useMemo(()=>en(g)?g.get():g,[g]);return U.createElement(n,{...p,children:w})}function Dv(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function eg(n,e,t,r){if(typeof e=="function"){const[o,a]=Dv(r);e=e(t!==void 0?t:n.custom,o,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,a]=Dv(r);e=e(t!==void 0?t:n.custom,o,a)}return e}function th(n){return en(n)?n.get():n}function wk({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,o){return{latestValues:Ek(t,r,o,n),renderState:e()}}function Ek(n,e,t,r){const o={},a=r(n,{});for(const x in a)o[x]=th(a[x]);let{initial:u,animate:d}=n;const f=Wh(n),p=aE(n);e&&p&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=t?t.initial===!1:!1;g=g||u===!1;const w=g?d:u;if(w&&typeof w!="boolean"&&!Hh(w)){const x=Array.isArray(w)?w:[w];for(let C=0;C<x.length;C++){const V=eg(n,x[C]);if(V){const{transitionEnd:D,transition:N,...z}=V;for(const G in z){let M=z[G];if(Array.isArray(M)){const Y=g?M.length-1:0;M=M[Y]}M!==null&&(o[G]=M)}for(const G in D)o[G]=D[G]}}}return o}const fE=n=>(e,t)=>{const r=U.useContext($h),o=U.useContext(Am),a=()=>wk(n,e,r,o);return t?a():tC(a)};function tg(n,e,t){var a;const{style:r}=n,o={};for(const u in r)(en(r[u])||e.style&&en(e.style[u])||lE(u,n)||((a=t==null?void 0:t.getValue(u))==null?void 0:a.liveStyle)!==void 0)&&(o[u]=r[u]);return o}const xk=fE({scrapeMotionValuesFromProps:tg,createRenderState:Jm});function pE(n,e,t){const r=tg(n,e,t);for(const o in n)if(en(n[o])||en(e[o])){const a=wa.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[a]=n[o]}return r}const Tk=fE({scrapeMotionValuesFromProps:pE,createRenderState:hE}),Sk=Symbol.for("motionComponentSymbol");function Ko(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Ik(n,e,t){return U.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Ko(t)&&(t.current=r))},[e])}const ng=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ck="framerAppearId",mE="data-"+ng(Ck),gE=U.createContext({});function Ak(n,e,t,r,o){var D,N;const{visualElement:a}=U.useContext($h),u=U.useContext(sE),d=U.useContext(Am),f=U.useContext(iE).reducedMotion,p=U.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(n,{visualState:e,parent:a,props:t,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,w=U.useContext(gE);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&kk(p.current,t,o,w);const x=U.useRef(!1);U.useInsertionEffect(()=>{g&&x.current&&g.update(t,d)});const C=t[mE],V=U.useRef(!!C&&!((D=window.MotionHandoffIsComplete)!=null&&D.call(window,C))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,C)));return nC(()=>{g&&(x.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),V.current&&g.animationState&&g.animationState.animateChanges())}),U.useEffect(()=>{g&&(!V.current&&g.animationState&&g.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{var z;(z=window.MotionHandoffMarkAsComplete)==null||z.call(window,C)}),V.current=!1),g.enteringChildren=void 0)}),g}function kk(n,e,t,r){const{layoutId:o,layout:a,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:yE(n.parent)),n.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||d&&Ko(d),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:f,layoutRoot:p})}function yE(n){if(n)return n.options.allowProjection!==!1?n.projection:yE(n.parent)}function ep(n,{forwardMotionProps:e=!1}={},t,r){t&&tk(t);const o=Zm(n)?Tk:xk;function a(d,f){let p;const g={...U.useContext(iE),...d,layoutId:Pk(d)},{isStatic:w}=g,x=ok(d),C=o(d,w);if(!w&&Cm){Rk();const V=bk(g);p=V.MeasureLayout,x.visualElement=Ak(n,C,g,r,V.ProjectionNode)}return _.jsxs($h.Provider,{value:x,children:[p&&x.visualElement?_.jsx(p,{visualElement:x.visualElement,...g}):null,_k(n,d,Ik(C,x.visualElement,f),C,w,e)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=U.forwardRef(a);return u[Sk]=n,u}function Pk({layoutId:n}){const e=U.useContext(pw).id;return e&&n!==void 0?e+"-"+n:n}function Rk(n,e){U.useContext(sE).strict}function bk(n){const{drag:e,layout:t}=oa;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Nk(n,e){if(typeof Proxy>"u")return ep;const t=new Map,r=(a,u)=>ep(a,u,n,e),o=(a,u)=>r(a,u);return new Proxy(o,{get:(a,u)=>u==="create"?r:(t.has(u)||t.set(u,ep(u,void 0,n,e)),t.get(u))})}function vE({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function Vk({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Dk(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function tp(n){return n===void 0||n===1}function Op({scale:n,scaleX:e,scaleY:t}){return!tp(n)||!tp(e)||!tp(t)}function Ds(n){return Op(n)||_E(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function _E(n){return Lv(n.x)||Lv(n.y)}function Lv(n){return n&&n!=="0%"}function _h(n,e,t){const r=n-t,o=e*r;return t+o}function Mv(n,e,t,r,o){return o!==void 0&&(n=_h(n,o,r)),_h(n,t,r)+e}function jp(n,e=0,t=1,r,o){n.min=Mv(n.min,e,t,r,o),n.max=Mv(n.max,e,t,r,o)}function wE(n,{x:e,y:t}){jp(n.x,e.translate,e.scale,e.originPoint),jp(n.y,t.translate,t.scale,t.originPoint)}const Ov=.999999999999,jv=1.0000000000001;function Lk(n,e,t,r=!1){const o=t.length;if(!o)return;e.x=e.y=1;let a,u;for(let d=0;d<o;d++){a=t[d],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Qo(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,wE(n,u)),r&&Ds(a.latestValues)&&Qo(n,a.latestValues))}e.x<jv&&e.x>Ov&&(e.x=1),e.y<jv&&e.y>Ov&&(e.y=1)}function Go(n,e){n.min=n.min+e,n.max=n.max+e}function Fv(n,e,t,r,o=.5){const a=lt(n.min,n.max,o);jp(n,e,t,a,r)}function Qo(n,e){Fv(n.x,e.x,e.scaleX,e.scale,e.originX),Fv(n.y,e.y,e.scaleY,e.scale,e.originY)}function EE(n,e){return vE(Dk(n.getBoundingClientRect(),e))}function Mk(n,e,t){const r=EE(n,t),{scroll:o}=e;return o&&(Go(r.x,o.offset.x),Go(r.y,o.offset.y)),r}const Uv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yo=()=>({x:Uv(),y:Uv()}),Bv=()=>({min:0,max:0}),gt=()=>({x:Bv(),y:Bv()}),Fp={current:null},xE={current:!1};function Ok(){if(xE.current=!0,!!Cm)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Fp.current=n.matches;n.addEventListener("change",e),e()}else Fp.current=!1}const jk=new WeakMap;function Fk(n,e,t){for(const r in e){const o=e[r],a=t[r];if(en(o))n.addValue(r,o);else if(en(a))n.addValue(r,sa(o,{owner:n}));else if(a!==o)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=n.getStaticValue(r);n.addValue(r,sa(u!==void 0?u:o,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const zv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Uk{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Hm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=wn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,rt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=Wh(t),this.isVariantNode=aE(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...w}=this.scrapeMotionValuesFromProps(t,{},this);for(const x in w){const C=w[x];f[x]!==void 0&&en(C)&&C.set(f[x])}}mount(e){var t;this.current=e,jk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),xE.current||Ok(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fp.current,(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ki(this.notifyUpdate),Ki(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ea.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&rt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in oa){const t=oa[e];if(!t)continue;const{isEnabled:r,Feature:o}=t;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<zv.length;r++){const o=zv[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=Fk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=sa(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(mw(r)||yw(r))?r=parseFloat(r):!ZA(r)&&Gi.test(t)&&(r=Jw(e,t)),this.setBaseTarget(e,en(r)?r.get():r)),en(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var a;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const u=eg(this.props,t,(a=this.presenceContext)==null?void 0:a.custom);u&&(r=u[e])}if(t&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!en(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Nm),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Km.render(this.render)}}class TE extends Uk{constructor(){super(...arguments),this.KeyframeResolver=UA}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;en(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function SE(n,{style:e,vars:t},r,o){const a=n.style;let u;for(u in e)a[u]=e[u];o==null||o.applyProjectionStyles(a,r);for(u in t)a.setProperty(u,t[u])}function Bk(n){return window.getComputedStyle(n)}class zk extends TE{constructor(){super(...arguments),this.type="html",this.renderInstance=SE}readValueFromInstance(e,t){var r;if(Ea.has(t))return(r=this.projection)!=null&&r.isProjecting?Rp(t):sA(e,t);{const o=Bk(e),a=(Lm(t)?o.getPropertyValue(t):o[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return EE(e,t)}build(e,t,r){Xm(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return tg(e,t,r)}}const IE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $k(n,e,t,r){SE(n,e,void 0,r);for(const o in e.attrs)n.setAttribute(IE.has(o)?o:ng(o),e.attrs[o])}class Hk extends TE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ea.has(t)){const r=Xw(t);return r&&r.default||0}return t=IE.has(t)?t:ng(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return pE(e,t,r)}build(e,t,r){cE(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,o){$k(e,t,r,o)}mount(e){this.isSVGTag=dE(e.tagName),super.mount(e)}}const Wk=(n,e)=>Zm(n)?new Hk(e):new zk(e,{allowProjection:n!==U.Fragment});function Jo(n,e,t){const r=n.getProps();return eg(r,e,t!==void 0?t:r.custom,n)}const Up=n=>Array.isArray(n);function qk(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,sa(t))}function Kk(n){return Up(n)?n[n.length-1]||0:n}function Gk(n,e){const t=Jo(n,e);let{transitionEnd:r={},transition:o={},...a}=t||{};a={...a,...r};for(const u in a){const d=Kk(a[u]);qk(n,u,d)}}function Qk(n){return!!(en(n)&&n.add)}function Bp(n,e){const t=n.getValue("willChange");if(Qk(t))return t.add(e);if(!t&&ii.WillChange){const r=new ii.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function CE(n){return n.props[mE]}const Yk=n=>n!==null;function Xk(n,{repeat:e,repeatType:t="loop"},r){const o=n.filter(Yk),a=e&&t!=="loop"&&e%2===1?0:o.length-1;return o[a]}const Jk={type:"spring",stiffness:500,damping:25,restSpeed:10},Zk=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),eP={type:"keyframes",duration:.8},tP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nP=(n,{keyframes:e})=>e.length>2?eP:Ea.has(n)?n.startsWith("scale")?Zk(e[1]):Jk:tP;function rP({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:d,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const rg=(n,e,t,r={},o,a)=>u=>{const d=Wm(r,n)||{},f=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-xr(f);const g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:a?void 0:o};rP(d)||Object.assign(g,nP(n,g)),g.duration&&(g.duration=xr(g.duration)),g.repeatDelay&&(g.repeatDelay=xr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let w=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Lp(g),g.delay===0&&(w=!0)),(ii.instantAnimations||ii.skipAnimations)&&(w=!0,Lp(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,w&&!a&&e.get()!==void 0){const x=Xk(g.keyframes,d);if(x!==void 0){rt.update(()=>{g.onUpdate(x),g.onComplete()});return}}return d.isSync?new $m(g):new kA(g)};function iP({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function AE(n,e,{delay:t=0,transitionOverride:r,type:o}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:u,...d}=e;r&&(a=r);const f=[],p=o&&n.animationState&&n.animationState.getState()[o];for(const g in d){const w=n.getValue(g,n.latestValues[g]??null),x=d[g];if(x===void 0||p&&iP(p,g))continue;const C={delay:t,...Wm(a||{},g)},V=w.get();if(V!==void 0&&!w.isAnimating&&!Array.isArray(x)&&x===V&&!C.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const z=CE(n);if(z){const G=window.MotionHandoffAnimation(z,g,rt);G!==null&&(C.startTime=G,D=!0)}}Bp(n,g),w.start(rg(g,w,x,n.shouldReduceMotion&&Gw.has(g)?{type:!1}:C,n,D));const N=w.animation;N&&f.push(N)}return u&&Promise.all(f).then(()=>{rt.update(()=>{u&&Gk(n,u)})}),f}function kE(n,e,t,r=0,o=1){const a=Array.from(n).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),u=n.size,d=(u-1)*r;return typeof t=="function"?t(a,u):o===1?a*r:d-a*r}function zp(n,e,t={}){var f;const r=Jo(n,e,t.type==="exit"?(f=n.presenceContext)==null?void 0:f.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(o=t.transitionOverride);const a=r?()=>Promise.all(AE(n,r,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:w,staggerDirection:x}=o;return sP(n,e,p,g,w,x,t)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,g]=d==="beforeChildren"?[a,u]:[u,a];return p().then(()=>g())}else return Promise.all([a(),u(t.delay)])}function sP(n,e,t=0,r=0,o=0,a=1,u){const d=[];for(const f of n.variantChildren)f.notify("AnimationStart",e),d.push(zp(f,e,{...u,delay:t+(typeof r=="function"?0:r)+kE(n.variantChildren,f,r,o,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function oP(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(a=>zp(n,a,t));r=Promise.all(o)}else if(typeof e=="string")r=zp(n,e,t);else{const o=typeof e=="function"?Jo(n,e,t.custom):e;r=Promise.all(AE(n,o,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function PE(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const aP=Ym.length;function RE(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?RE(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<aP;t++){const r=Ym[t],o=n.props[r];(Ql(o)||o===!1)&&(e[r]=o)}return e}const lP=[...Qm].reverse(),uP=Qm.length;function cP(n){return e=>Promise.all(e.map(({animation:t,options:r})=>oP(n,t,r)))}function hP(n){let e=cP(n),t=$v(),r=!0;const o=f=>(p,g)=>{var x;const w=Jo(n,g,f==="exit"?(x=n.presenceContext)==null?void 0:x.custom:void 0);if(w){const{transition:C,transitionEnd:V,...D}=w;p={...p,...D,...V}}return p};function a(f){e=f(n)}function u(f){const{props:p}=n,g=RE(n.parent)||{},w=[],x=new Set;let C={},V=1/0;for(let N=0;N<uP;N++){const z=lP[N],G=t[z],M=p[z]!==void 0?p[z]:g[z],Y=Ql(M),Z=z===f?G.isActive:null;Z===!1&&(V=N);let re=M===g[z]&&M!==p[z]&&Y;if(re&&r&&n.manuallyAnimateOnMount&&(re=!1),G.protectedKeys={...C},!G.isActive&&Z===null||!M&&!G.prevProp||Hh(M)||typeof M=="boolean")continue;const R=dP(G.prevProp,M);let I=R||z===f&&G.isActive&&!re&&Y||N>V&&Y,A=!1;const b=Array.isArray(M)?M:[M];let O=b.reduce(o(z),{});Z===!1&&(O={});const{prevResolvedValues:F={}}=G,k={...F,...O},We=Ce=>{I=!0,x.has(Ce)&&(A=!0,x.delete(Ce)),G.needsAnimating[Ce]=!0;const oe=n.getValue(Ce);oe&&(oe.liveStyle=!1)};for(const Ce in k){const oe=O[Ce],ge=F[Ce];if(C.hasOwnProperty(Ce))continue;let he=!1;Up(oe)&&Up(ge)?he=!PE(oe,ge):he=oe!==ge,he?oe!=null?We(Ce):x.add(Ce):oe!==void 0&&x.has(Ce)?We(Ce):G.protectedKeys[Ce]=!0}G.prevProp=M,G.prevResolvedValues=O,G.isActive&&(C={...C,...O}),r&&n.blockInitialAnimation&&(I=!1);const ft=re&&R;I&&(!ft||A)&&w.push(...b.map(Ce=>{const oe={type:z};if(typeof Ce=="string"&&r&&!ft&&n.manuallyAnimateOnMount&&n.parent){const{parent:ge}=n,he=Jo(ge,Ce);if(ge.enteringChildren&&he){const{delayChildren:B}=he.transition||{};oe.delay=kE(ge.enteringChildren,n,B)}}return{animation:Ce,options:oe}}))}if(x.size){const N={};if(typeof p.initial!="boolean"){const z=Jo(n,Array.isArray(p.initial)?p.initial[0]:p.initial);z&&z.transition&&(N.transition=z.transition)}x.forEach(z=>{const G=n.getBaseTarget(z),M=n.getValue(z);M&&(M.liveStyle=!0),N[z]=G??null}),w.push({animation:N})}let D=!!w.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(w):Promise.resolve()}function d(f,p){var w;if(t[f].isActive===p)return Promise.resolve();(w=n.variantChildren)==null||w.forEach(x=>{var C;return(C=x.animationState)==null?void 0:C.setActive(f,p)}),t[f].isActive=p;const g=u(f);for(const x in t)t[x].protectedKeys={};return g}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>t,reset:()=>{t=$v(),r=!0}}}function dP(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!PE(e,n):!1}function Vs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $v(){return{animate:Vs(!0),whileInView:Vs(),whileHover:Vs(),whileTap:Vs(),whileDrag:Vs(),whileFocus:Vs(),exit:Vs()}}class ns{constructor(e){this.isMounted=!1,this.node=e}update(){}}class fP extends ns{constructor(e){super(e),e.animationState||(e.animationState=hP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Hh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let pP=0;class mP extends ns{constructor(){super(...arguments),this.id=pP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const gP={animation:{Feature:fP},exit:{Feature:mP}};function Xl(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function fu(n){return{point:{x:n.pageX,y:n.pageY}}}const yP=n=>e=>Gm(e)&&n(e,fu(e));function Ml(n,e,t,r){return Xl(n,e,yP(t),r)}const bE=1e-4,vP=1-bE,_P=1+bE,NE=.01,wP=0-NE,EP=0+NE;function un(n){return n.max-n.min}function xP(n,e,t){return Math.abs(n-e)<=t}function Hv(n,e,t,r=.5){n.origin=r,n.originPoint=lt(e.min,e.max,n.origin),n.scale=un(t)/un(e),n.translate=lt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=vP&&n.scale<=_P||isNaN(n.scale))&&(n.scale=1),(n.translate>=wP&&n.translate<=EP||isNaN(n.translate))&&(n.translate=0)}function Ol(n,e,t,r){Hv(n.x,e.x,t.x,r?r.originX:void 0),Hv(n.y,e.y,t.y,r?r.originY:void 0)}function Wv(n,e,t){n.min=t.min+e.min,n.max=n.min+un(e)}function TP(n,e,t){Wv(n.x,e.x,t.x),Wv(n.y,e.y,t.y)}function qv(n,e,t){n.min=e.min-t.min,n.max=n.min+un(e)}function jl(n,e,t){qv(n.x,e.x,t.x),qv(n.y,e.y,t.y)}function Un(n){return[n("x"),n("y")]}const VE=({current:n})=>n?n.ownerDocument.defaultView:null,Kv=(n,e)=>Math.abs(n-e);function SP(n,e){const t=Kv(n.x,e.x),r=Kv(n.y,e.y);return Math.sqrt(t**2+r**2)}class DE{constructor(e,t,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=rp(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,V=SP(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!V)return;const{point:D}=x,{timestamp:N}=zt;this.history.push({...D,timestamp:N});const{onStart:z,onMove:G}=this.handlers;C||(z&&z(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),G&&G(this.lastMoveEvent,x)},this.handlePointerMove=(x,C)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=np(C,this.transformPagePoint),rt.update(this.updatePoint,!0)},this.handlePointerUp=(x,C)=>{this.end();const{onEnd:V,onSessionEnd:D,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=rp(x.type==="pointercancel"?this.lastMoveEventInfo:np(C,this.transformPagePoint),this.history);this.startEvent&&V&&V(x,z),D&&D(x,z)},!Gm(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=o||window;const d=fu(e),f=np(d,this.transformPagePoint),{point:p}=f,{timestamp:g}=zt;this.history=[{...p,timestamp:g}];const{onSessionStart:w}=t;w&&w(e,rp(f,this.history)),this.removeListeners=cu(Ml(this.contextWindow,"pointermove",this.handlePointerMove),Ml(this.contextWindow,"pointerup",this.handlePointerUp),Ml(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ki(this.updatePoint)}}function np(n,e){return e?{point:e(n.point)}:n}function Gv(n,e){return{x:n.x-e.x,y:n.y-e.y}}function rp({point:n},e){return{point:n,delta:Gv(n,LE(e)),offset:Gv(n,IP(e)),velocity:CP(e,.1)}}function IP(n){return n[0]}function LE(n){return n[n.length-1]}function CP(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const o=LE(n);for(;t>=0&&(r=n[t],!(o.timestamp-r.timestamp>xr(e)));)t--;if(!r)return{x:0,y:0};const a=Tr(o.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function AP(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?lt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?lt(t,n,r.max):Math.min(n,t)),n}function Qv(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function kP(n,{top:e,left:t,bottom:r,right:o}){return{x:Qv(n.x,t,o),y:Qv(n.y,e,r)}}function Yv(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function PP(n,e){return{x:Yv(n.x,e.x),y:Yv(n.y,e.y)}}function RP(n,e){let t=.5;const r=un(n),o=un(e);return o>r?t=ql(e.min,e.max-r,n.min):r>o&&(t=ql(n.min,n.max-o,e.min)),ri(0,1,t)}function bP(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const $p=.35;function NP(n=$p){return n===!1?n=0:n===!0&&(n=$p),{x:Xv(n,"left","right"),y:Xv(n,"top","bottom")}}function Xv(n,e,t){return{min:Jv(n,e),max:Jv(n,t)}}function Jv(n,e){return typeof n=="number"?n:n[e]||0}const VP=new WeakMap;class DP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=w=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(fu(w).point)},u=(w,x)=>{const{drag:C,dragPropagation:V,onDragStart:D}=this.getProps();if(C&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=WA(C),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Un(z=>{let G=this.getAxisMotionValue(z).get()||0;if(Sr.test(G)){const{projection:M}=this.visualElement;if(M&&M.layout){const Y=M.layout.layoutBox[z];Y&&(G=un(Y)*(parseFloat(G)/100))}}this.originPoint[z]=G}),D&&rt.postRender(()=>D(w,x)),Bp(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},d=(w,x)=>{this.latestPointerEvent=w,this.latestPanInfo=x;const{dragPropagation:C,dragDirectionLock:V,onDirectionLock:D,onDrag:N}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:z}=x;if(V&&this.currentDirection===null){this.currentDirection=LP(z),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",x.point,z),this.updateAxis("y",x.point,z),this.visualElement.render(),N&&N(w,x)},f=(w,x)=>{this.latestPointerEvent=w,this.latestPanInfo=x,this.stop(w,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Un(w=>{var x;return this.getAnimationState(w)==="paused"&&((x=this.getAxisMotionValue(w).animation)==null?void 0:x.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new DE(e,{onSessionStart:a,onStart:u,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:VE(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,o=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!r)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&rt.postRender(()=>d(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:o}=this.getProps();if(!r||!$c(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=AP(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,o=this.constraints;e&&Ko(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=kP(r.layoutBox,e):this.constraints=!1,this.elastic=NP(t),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Un(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=bP(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ko(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=Mk(r,o.root,this.visualElement.getTransformPagePoint());let u=PP(o.layout.layoutBox,a);if(t){const d=t(Vk(u));this.hasMutatedConstraints=!!d,d&&(u=vE(d))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=Un(g=>{if(!$c(g,t,this.currentDirection))return;let w=f&&f[g]||{};u&&(w={min:0,max:0});const x=o?200:1e6,C=o?40:1e7,V={type:"inertia",velocity:r?e[g]:0,bounceStiffness:x,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(g,V)});return Promise.all(p).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Bp(this.visualElement,e),r.start(rg(e,r,0,t,this.visualElement,!1))}stopAnimation(){Un(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Un(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[t];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Un(t=>{const{drag:r}=this.getProps();if(!$c(t,r,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(t);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[t];a.set(e[t]-lt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Ko(t)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Un(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=RP({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Un(u=>{if(!$c(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];d.set(lt(f,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;VP.set(this.visualElement,this);const e=this.visualElement.current,t=Ml(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Ko(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),rt.read(r);const u=Xl(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Un(g=>{const w=this.getAxisMotionValue(g);w&&(this.originPoint[g]+=f[g].translate,w.set(w.get()+f[g].translate))}),this.visualElement.render())}));return()=>{u(),t(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=$p,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function $c(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function LP(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class MP extends ns{constructor(e){super(e),this.removeGroupControls=zn,this.removeListeners=zn,this.controls=new DP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zv=n=>(e,t)=>{n&&rt.postRender(()=>n(e,t))};class OP extends ns{constructor(){super(...arguments),this.removePointerDownListener=zn}onPointerDown(e){this.session=new DE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Zv(e),onStart:Zv(t),onMove:r,onEnd:(a,u)=>{delete this.session,o&&rt.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=Ml(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function e1(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Cl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ae.test(n))n=parseFloat(n);else return n;const t=e1(n,e.target.x),r=e1(n,e.target.y);return`${t}% ${r}%`}},jP={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,o=Gi.parse(n);if(o.length>5)return r;const a=Gi.createTransformer(n),u=typeof o[0]!="number"?1:0,d=t.x.scale*e.x,f=t.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const p=lt(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),a(o)}};let ip=!1;class FP extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:o}=this.props,{projection:a}=e;ak(UP),a&&(t.group&&t.group.add(a),r&&r.register&&o&&r.register(a),ip&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),nh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:o,isPresent:a}=this.props,{projection:u}=r;return u&&(u.isPresent=a,ip=!0,o||e.layoutDependency!==t||t===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||rt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Km.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:o}=e;ip=!0,o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ME(n){const[e,t]=ek(),r=U.useContext(pw);return _.jsx(FP,{...n,layoutGroup:r,switchLayoutGroup:U.useContext(gE),isPresent:e,safeToRemove:t})}const UP={borderRadius:{...Cl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cl,borderTopRightRadius:Cl,borderBottomLeftRadius:Cl,borderBottomRightRadius:Cl,boxShadow:jP};function BP(n,e,t){const r=en(n)?n:sa(n);return r.start(rg("",r,e,t)),r.animation}const zP=(n,e)=>n.depth-e.depth;class $P{constructor(){this.children=[],this.isDirty=!1}add(e){km(this.children,e),this.isDirty=!0}remove(e){Pm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zP),this.isDirty=!1,this.children.forEach(e)}}function HP(n,e){const t=wn.now(),r=({timestamp:o})=>{const a=o-t;a>=e&&(Ki(r),n(a-e))};return rt.setup(r,!0),()=>Ki(r)}const OE=["TopLeft","TopRight","BottomLeft","BottomRight"],WP=OE.length,t1=n=>typeof n=="string"?parseFloat(n):n,n1=n=>typeof n=="number"||Ae.test(n);function qP(n,e,t,r,o,a){o?(n.opacity=lt(0,t.opacity??1,KP(r)),n.opacityExit=lt(e.opacity??1,0,GP(r))):a&&(n.opacity=lt(e.opacity??1,t.opacity??1,r));for(let u=0;u<WP;u++){const d=`border${OE[u]}Radius`;let f=r1(e,d),p=r1(t,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||n1(f)===n1(p)?(n[d]=Math.max(lt(t1(f),t1(p),r),0),(Sr.test(p)||Sr.test(f))&&(n[d]+="%")):n[d]=p}(e.rotate||t.rotate)&&(n.rotate=lt(e.rotate||0,t.rotate||0,r))}function r1(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const KP=jE(0,.5,Iw),GP=jE(.5,.95,zn);function jE(n,e,t){return r=>r<n?0:r>e?1:t(ql(n,e,r))}function i1(n,e){n.min=e.min,n.max=e.max}function Fn(n,e){i1(n.x,e.x),i1(n.y,e.y)}function s1(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function o1(n,e,t,r,o){return n-=e,n=_h(n,1/t,r),o!==void 0&&(n=_h(n,1/o,r)),n}function QP(n,e=0,t=1,r=.5,o,a=n,u=n){if(Sr.test(e)&&(e=parseFloat(e),e=lt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=lt(a.min,a.max,r);n===a&&(d-=e),n.min=o1(n.min,e,t,d,o),n.max=o1(n.max,e,t,d,o)}function a1(n,e,[t,r,o],a,u){QP(n,e[t],e[r],e[o],e.scale,a,u)}const YP=["x","scaleX","originX"],XP=["y","scaleY","originY"];function l1(n,e,t,r){a1(n.x,e,YP,t?t.x:void 0,r?r.x:void 0),a1(n.y,e,XP,t?t.y:void 0,r?r.y:void 0)}function u1(n){return n.translate===0&&n.scale===1}function FE(n){return u1(n.x)&&u1(n.y)}function c1(n,e){return n.min===e.min&&n.max===e.max}function JP(n,e){return c1(n.x,e.x)&&c1(n.y,e.y)}function h1(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function UE(n,e){return h1(n.x,e.x)&&h1(n.y,e.y)}function d1(n){return un(n.x)/un(n.y)}function f1(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class ZP{constructor(){this.members=[]}add(e){km(this.members,e),e.scheduleRender()}remove(e){if(Pm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let r;for(let o=t;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eR(n,e,t){let r="";const o=n.x.translate/e.x,a=n.y.translate/e.y,u=(t==null?void 0:t.z)||0;if((o||a||u)&&(r=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:g,rotateX:w,rotateY:x,skewX:C,skewY:V}=t;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),w&&(r+=`rotateX(${w}deg) `),x&&(r+=`rotateY(${x}deg) `),C&&(r+=`skewX(${C}deg) `),V&&(r+=`skewY(${V}deg) `)}const d=n.x.scale*e.x,f=n.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const sp=["","X","Y","Z"],tR=1e3;let nR=0;function op(n,e,t,r){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),r&&(r[n]=0))}function BE(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=CE(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",rt,!(o||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&BE(r)}function zE({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},d=e==null?void 0:e()){this.id=nR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(sR),this.nodes.forEach(uR),this.nodes.forEach(cR),this.nodes.forEach(oR)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new $P)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Nm),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=rE(u)&&!XA(u),this.instance=u;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),n){let g,w=0;const x=()=>this.root.updateBlockedByResize=!1;rt.read(()=>{w=window.innerWidth}),n(u,()=>{const C=window.innerWidth;C!==w&&(w=C,this.root.updateBlockedByResize=!0,g&&g(),g=HP(x,250),nh.hasAnimatedSinceResize&&(nh.hasAnimatedSinceResize=!1,this.nodes.forEach(g1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:w,hasRelativeLayoutChanged:x,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||p.getDefaultTransition()||mR,{onLayoutAnimationStart:D,onLayoutAnimationComplete:N}=p.getProps(),z=!this.targetLayout||!UE(this.targetLayout,C),G=!w&&x;if(this.options.layoutRoot||this.resumeFrom||G||w&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...Wm(V,"layout"),onPlay:D,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(g,G)}else w||g1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ki(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hR),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const w=this.path[g];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(p1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(m1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(lR),this.nodes.forEach(rR),this.nodes.forEach(iR)):this.nodes.forEach(m1),this.clearAllSnapshots();const d=wn.now();zt.delta=ri(0,1e3/60,d-zt.timestamp),zt.timestamp=d,zt.isProcessing=!0,Gf.update.process(zt),Gf.preRender.process(zt),Gf.render.process(zt),zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Km.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aR),this.sharedNodes.forEach(dR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!un(this.snapshot.measuredBox.x)&&!un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!FE(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||Ds(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),gR(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return gt();const d=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(yR))){const{scroll:g}=this.root;g&&(Go(d.x,g.offset.x),Go(d.y,g.offset.y))}return d}removeElementScroll(u){var f;const d=gt();if(Fn(d,u),(f=this.scroll)!=null&&f.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:w,options:x}=g;g!==this.root&&w&&x.layoutScroll&&(w.wasRoot&&Fn(d,u),Go(d.x,w.offset.x),Go(d.y,w.offset.y))}return d}applyTransform(u,d=!1){const f=gt();Fn(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Qo(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ds(g.latestValues)&&Qo(f,g.latestValues)}return Ds(this.latestValues)&&Qo(f,this.latestValues),f}removeTransform(u){const d=gt();Fn(d,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Ds(p.latestValues))continue;Op(p.latestValues)&&p.updateSnapshot();const g=gt(),w=p.measurePageBox();Fn(g,w),l1(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ds(this.latestValues)&&l1(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var x;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:w}=this.options;if(!(!this.layout||!(g||w))){if(this.resolvedRelativeTargetAt=zt.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),jl(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fn(this.target,this.layout.layoutBox),wE(this.target,this.targetDelta)):Fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),jl(this.relativeTargetOrigin,this.target,C.target),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Op(this.parent.latestValues)||_E(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var V;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||(V=this.parent)!=null&&V.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===zt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Fn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,x=this.treeScale.y;Lk(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=gt());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(s1(this.prevProjectionDelta.x,this.projectionDelta.x),s1(this.prevProjectionDelta.y,this.projectionDelta.y)),Ol(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==x||!f1(this.projectionDelta.x,this.prevProjectionDelta.x)||!f1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yo(),this.projectionDelta=Yo(),this.projectionDeltaWithTransform=Yo()}setAnimationOrigin(u,d=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},w=Yo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=gt(),C=f?f.source:void 0,V=this.layout?this.layout.source:void 0,D=C!==V,N=this.getStack(),z=!N||N.members.length<=1,G=!!(D&&!z&&this.options.crossfade===!0&&!this.path.some(pR));this.animationProgress=0;let M;this.mixTargetDelta=Y=>{const Z=Y/1e3;y1(w.x,u.x,Z),y1(w.y,u.y,Z),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jl(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fR(this.relativeTarget,this.relativeTargetOrigin,x,Z),M&&JP(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=gt()),Fn(M,this.relativeTarget)),D&&(this.animationValues=g,qP(g,p,this.latestValues,Z,G,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var d,f,p;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Ki(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rt.update(()=>{nh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=sa(0)),this.currentAnimation=BP(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:g}=u;if(!(!d||!f||!p)){if(this!==u&&this.layout&&p&&$E(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||gt();const w=un(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+w;const x=un(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+x}Fn(d,f),Qo(d,g),Ol(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new ZP),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var d;const{layoutId:u}=this.options;return u?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:u}=this.options;return u?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&op("z",u,p,this.animationValues);for(let g=0;g<sp.length;g++)op(`rotate${sp[g]}`,u,p,this.animationValues),op(`skew${sp[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=th(d==null?void 0:d.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=th(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Ds(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let w=eR(this.projectionDeltaWithTransform,this.treeScale,g);f&&(w=f(g,w)),u.transform=w;const{x,y:C}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${C.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const V in Yl){if(g[V]===void 0)continue;const{correct:D,applyTo:N,isCSSVariable:z}=Yl[V],G=w==="none"?g[V]:D(g[V],p);if(N){const M=N.length;for(let Y=0;Y<M;Y++)u[N[Y]]=G}else z?this.options.visualElement.renderState.vars[V]=G:u[V]=G}this.options.layoutId&&(u.pointerEvents=p===this?th(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(p1),this.root.sharedNodes.clear()}}}function rR(n){n.updateLayout()}function iR(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:a}=n.options,u=e.source!==n.layout.source;a==="size"?Un(w=>{const x=u?e.measuredBox[w]:e.layoutBox[w],C=un(x);x.min=r[w].min,x.max=x.min+C}):$E(a,e.layoutBox,r)&&Un(w=>{const x=u?e.measuredBox[w]:e.layoutBox[w],C=un(r[w]);x.max=x.min+C,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+C)});const d=Yo();Ol(d,r,e.layoutBox);const f=Yo();u?Ol(f,n.applyTransform(o,!0),e.measuredBox):Ol(f,r,e.layoutBox);const p=!FE(d);let g=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:x,layout:C}=w;if(x&&C){const V=gt();jl(V,e.layoutBox,x.layoutBox);const D=gt();jl(D,r,C.layoutBox),UE(V,D)||(g=!0),w.options.layoutRoot&&(n.relativeTarget=D,n.relativeTargetOrigin=V,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function sR(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function oR(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function aR(n){n.clearSnapshot()}function p1(n){n.clearMeasurements()}function m1(n){n.isLayoutDirty=!1}function lR(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function g1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function uR(n){n.resolveTargetDelta()}function cR(n){n.calcProjection()}function hR(n){n.resetSkewAndRotation()}function dR(n){n.removeLeadSnapshot()}function y1(n,e,t){n.translate=lt(e.translate,0,t),n.scale=lt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function v1(n,e,t,r){n.min=lt(e.min,t.min,r),n.max=lt(e.max,t.max,r)}function fR(n,e,t,r){v1(n.x,e.x,t.x,r),v1(n.y,e.y,t.y,r)}function pR(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const mR={duration:.45,ease:[.4,0,.1,1]},_1=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),w1=_1("applewebkit/")&&!_1("chrome/")?Math.round:zn;function E1(n){n.min=w1(n.min),n.max=w1(n.max)}function gR(n){E1(n.x),E1(n.y)}function $E(n,e,t){return n==="position"||n==="preserve-aspect"&&!xP(d1(e),d1(t),.2)}function yR(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const vR=zE({attachResizeListener:(n,e)=>Xl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ap={current:void 0},HE=zE({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!ap.current){const n=new vR({});n.mount(window),n.setOptions({layoutScroll:!0}),ap.current=n}return ap.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),_R={pan:{Feature:OP},drag:{Feature:MP,ProjectionNode:HE,MeasureLayout:ME}};function x1(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,a=r[o];a&&rt.postRender(()=>a(e,fu(e)))}class wR extends ns{mount(){const{current:e}=this.node;e&&(this.unmount=qA(e,(t,r)=>(x1(this.node,r,"Start"),o=>x1(this.node,o,"End"))))}unmount(){}}class ER extends ns{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cu(Xl(this.node.current,"focus",()=>this.onFocus()),Xl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function T1(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),a=r[o];a&&rt.postRender(()=>a(e,fu(e)))}class xR extends ns{mount(){const{current:e}=this.node;e&&(this.unmount=YA(e,(t,r)=>(T1(this.node,r,"Start"),(o,{success:a})=>T1(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Hp=new WeakMap,lp=new WeakMap,TR=n=>{const e=Hp.get(n.target);e&&e(n)},SR=n=>{n.forEach(TR)};function IR({root:n,...e}){const t=n||document;lp.has(t)||lp.set(t,{});const r=lp.get(t),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(SR,{root:n,...e})),r[o]}function CR(n,e,t){const r=IR(e);return Hp.set(n,t),r.observe(n),()=>{Hp.delete(n),r.unobserve(n)}}const AR={some:0,all:1};class kR extends ns{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:o="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:AR[o]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:w}=this.node.getProps(),x=p?g:w;x&&x(f)};return CR(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(PR(e,t))&&this.startObserver()}unmount(){}}function PR({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const RR={inView:{Feature:kR},tap:{Feature:xR},focus:{Feature:ER},hover:{Feature:wR}},bR={layout:{ProjectionNode:HE,MeasureLayout:ME}},NR={...gP,...RR,..._R,...bR},ce=Nk(NR,Wk),VR=()=>{};var S1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},DR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},qE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,p=f?n[o+2]:0,g=a>>2,w=(a&3)<<4|d>>4;let x=(d&15)<<2|p>>6,C=p&63;f||(C=64,u||(x=64)),r.push(t[g],t[w],t[x],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(WE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):DR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const p=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||p==null||w==null)throw new LR;const x=a<<2|d>>4;if(r.push(x),p!==64){const C=d<<4&240|p>>2;if(r.push(C),w!==64){const V=p<<6&192|w;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class LR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MR=function(n){const e=WE(n);return qE.encodeByteArray(e,!0)},wh=function(n){return MR(n).replace(/\./g,"")},KE=function(n){try{return qE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=()=>OR().__FIREBASE_DEFAULTS__,FR=()=>{if(typeof process>"u"||typeof S1>"u")return;const n=S1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},UR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&KE(n[1]);return e&&JSON.parse(e)},qh=()=>{try{return VR()||jR()||FR()||UR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},GE=n=>{var e,t;return(t=(e=qh())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},BR=n=>{const e=GE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},QE=()=>{var n;return(n=qh())==null?void 0:n.config},YE=n=>{var e;return(e=qh())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function XE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[wh(JSON.stringify(t)),wh(JSON.stringify(u)),""].join(".")}const Fl={};function HR(){const n={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?n.emulator.push(e):n.prod.push(e);return n}function WR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let I1=!1;function JE(n,e){if(typeof window>"u"||typeof document>"u"||!xa(window.location.host)||Fl[n]===e||Fl[n]||I1)return;Fl[n]=e;function t(x){return`__firebase__banner__${x}`}const r="__firebase__banner",a=HR().prod.length>0;function u(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,C){x.setAttribute("width","24"),x.setAttribute("id",C),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{I1=!0,u()},x}function g(x,C){x.setAttribute("id",C),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function w(){const x=WR(r),C=t("text"),V=document.getElementById(C)||document.createElement("span"),D=t("learnmore"),N=document.getElementById(D)||document.createElement("a"),z=t("preprendIcon"),G=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const M=x.element;d(M),g(N,D);const Y=p();f(G,z),M.append(G,V,N,Y),document.body.appendChild(M)}a?(V.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function KR(){var e;const n=(e=qh())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function YR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XR(){const n=tn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function JR(){return!KR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZR(){try{return typeof indexedDB=="object"}catch{return!1}}function eb(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="FirebaseError";class ui extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=tb,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?nb(a,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new ui(o,d,r)}}function nb(n,e){return n.replace(rb,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const rb=/\{\$([^}]+)}/g;function ib(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function zs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(C1(a)&&C1(u)){if(!zs(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function C1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Pl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function sb(n,e){const t=new ob(n,e);return t.subscribe.bind(t)}class ob{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");ab(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=up),o.error===void 0&&(o.error=up),o.complete===void 0&&(o.complete=up);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ab(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function up(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(n){return n&&n._delegate?n._delegate:n}class $s{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new zR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cb(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ub(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ub(n){return n===Ls?void 0:n}function cb(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lb(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const db={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},fb=Me.INFO,pb={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},mb=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=pb[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ig{constructor(e){this.name=e,this._logLevel=fb,this._logHandler=mb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?db[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const gb=(n,e)=>e.some(t=>n instanceof t);let A1,k1;function yb(){return A1||(A1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vb(){return k1||(k1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZE=new WeakMap,Wp=new WeakMap,ex=new WeakMap,cp=new WeakMap,sg=new WeakMap;function _b(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Bi(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&ZE.set(t,n)}).catch(()=>{}),sg.set(e,n),e}function wb(n){if(Wp.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Wp.set(n,e)}let qp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Wp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ex.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Eb(n){qp=n(qp)}function xb(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(hp(this),e,...t);return ex.set(r,e.sort?e.sort():[e]),Bi(r)}:vb().includes(n)?function(...e){return n.apply(hp(this),e),Bi(ZE.get(this))}:function(...e){return Bi(n.apply(hp(this),e))}}function Tb(n){return typeof n=="function"?xb(n):(n instanceof IDBTransaction&&wb(n),gb(n,yb())?new Proxy(n,qp):n)}function Bi(n){if(n instanceof IDBRequest)return _b(n);if(cp.has(n))return cp.get(n);const e=Tb(n);return e!==n&&(cp.set(n,e),sg.set(e,n)),e}const hp=n=>sg.get(n);function Sb(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=Bi(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Bi(u.result),f.oldVersion,f.newVersion,Bi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const Ib=["get","getKey","getAll","getAllKeys","count"],Cb=["put","add","delete","clear"],dp=new Map;function P1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(dp.get(e))return dp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=Cb.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Ib.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),o&&f.done]))[0]};return dp.set(e,a),a}Eb(n=>({...n,get:(e,t,r)=>P1(e,t)||n.get(e,t,r),has:(e,t)=>!!P1(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kb(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function kb(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kp="@firebase/app",R1="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new ig("@firebase/app"),Pb="@firebase/app-compat",Rb="@firebase/analytics-compat",bb="@firebase/analytics",Nb="@firebase/app-check-compat",Vb="@firebase/app-check",Db="@firebase/auth",Lb="@firebase/auth-compat",Mb="@firebase/database",Ob="@firebase/data-connect",jb="@firebase/database-compat",Fb="@firebase/functions",Ub="@firebase/functions-compat",Bb="@firebase/installations",zb="@firebase/installations-compat",$b="@firebase/messaging",Hb="@firebase/messaging-compat",Wb="@firebase/performance",qb="@firebase/performance-compat",Kb="@firebase/remote-config",Gb="@firebase/remote-config-compat",Qb="@firebase/storage",Yb="@firebase/storage-compat",Xb="@firebase/firestore",Jb="@firebase/ai",Zb="@firebase/firestore-compat",e4="firebase",t4="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="[DEFAULT]",n4={[Kp]:"fire-core",[Pb]:"fire-core-compat",[bb]:"fire-analytics",[Rb]:"fire-analytics-compat",[Vb]:"fire-app-check",[Nb]:"fire-app-check-compat",[Db]:"fire-auth",[Lb]:"fire-auth-compat",[Mb]:"fire-rtdb",[Ob]:"fire-data-connect",[jb]:"fire-rtdb-compat",[Fb]:"fire-fn",[Ub]:"fire-fn-compat",[Bb]:"fire-iid",[zb]:"fire-iid-compat",[$b]:"fire-fcm",[Hb]:"fire-fcm-compat",[Wb]:"fire-perf",[qb]:"fire-perf-compat",[Kb]:"fire-rc",[Gb]:"fire-rc-compat",[Qb]:"fire-gcs",[Yb]:"fire-gcs-compat",[Xb]:"fire-fst",[Zb]:"fire-fst-compat",[Jb]:"fire-vertex","fire-js":"fire-js",[e4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,r4=new Map,Qp=new Map;function b1(n,e){try{n.container.addComponent(e)}catch(t){si.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function aa(n){const e=n.name;if(Qp.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;Qp.set(e,n);for(const t of Eh.values())b1(t,n);for(const t of r4.values())b1(t,n);return!0}function og(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function sr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zi=new pu("app","Firebase",i4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=t4;function tx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Gp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw zi.create("bad-app-name",{appName:String(o)});if(t||(t=QE()),!t)throw zi.create("no-options");const a=Eh.get(o);if(a){if(zs(t,a.options)&&zs(r,a.config))return a;throw zi.create("duplicate-app",{appName:o})}const u=new hb(o);for(const f of Qp.values())u.addComponent(f);const d=new s4(t,r,u);return Eh.set(o,d),d}function nx(n=Gp){const e=Eh.get(n);if(!e&&n===Gp&&QE())return tx();if(!e)throw zi.create("no-app",{appName:n});return e}function $i(n,e,t){let r=n4[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(u.join(" "));return}aa(new $s(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="firebase-heartbeat-database",a4=1,Jl="firebase-heartbeat-store";let fp=null;function rx(){return fp||(fp=Sb(o4,a4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Jl)}catch(t){console.warn(t)}}}}).catch(n=>{throw zi.create("idb-open",{originalErrorMessage:n.message})})),fp}async function l4(n){try{const t=(await rx()).transaction(Jl),r=await t.objectStore(Jl).get(ix(n));return await t.done,r}catch(e){if(e instanceof ui)si.warn(e.message);else{const t=zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(t.message)}}}async function N1(n,e){try{const r=(await rx()).transaction(Jl,"readwrite");await r.objectStore(Jl).put(e,ix(n)),await r.done}catch(t){if(t instanceof ui)si.warn(t.message);else{const r=zi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});si.warn(r.message)}}}function ix(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=1024,c4=30;class h4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new f4(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=V1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>c4){const u=p4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=V1(),{heartbeatsToSend:r,unsentEntries:o}=d4(this._heartbeatsCache.heartbeats),a=wh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return si.warn(t),""}}}function V1(){return new Date().toISOString().substring(0,10)}function d4(n,e=u4){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),D1(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),D1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class f4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZR()?eb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await l4(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return N1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return N1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function D1(n){return wh(JSON.stringify({version:2,heartbeats:n})).length}function p4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(n){aa(new $s("platform-logger",e=>new Ab(e),"PRIVATE")),aa(new $s("heartbeat",e=>new h4(e),"PRIVATE")),$i(Kp,R1,n),$i(Kp,R1,"esm2020"),$i("fire-js","")}m4("");function sx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g4=sx,ox=new pu("auth","Firebase",sx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new ig("@firebase/auth");function y4(n,...e){xh.logLevel<=Me.WARN&&xh.warn(`Auth (${Ta}): ${n}`,...e)}function rh(n,...e){xh.logLevel<=Me.ERROR&&xh.error(`Auth (${Ta}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(n,...e){throw ag(n,...e)}function Ir(n,...e){return ag(n,...e)}function ax(n,e,t){const r={...g4(),[e]:t};return new pu("auth","Firebase",r).create(e,{appName:n.name})}function Hi(n){return ax(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ag(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ox.create(n,...e)}function Se(n,e,...t){if(!n)throw ag(e,...t)}function Zr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw rh(e),new Error(e)}function oi(n,e){n||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function v4(){return L1()==="http:"||L1()==="https:"}function L1(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v4()||QR()||"connection"in navigator)?navigator.onLine:!0}function w4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,t){this.shortDelay=e,this.longDelay=t,oi(t>e,"Short delay should be less than long delay!"),this.isMobile=qR()||YR()}get(){return _4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(n,e){oi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],T4=new gu(3e4,6e4);function Ks(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function rs(n,e,t,r,o={}){return ux(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=mu({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...a};return GR()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&xa(n.emulatorConfig.host)&&(p.credentials="include"),lx.fetch()(await cx(n,n.config.apiHost,t,d),p)})}async function ux(n,e,t){n._canInitEmulator=!1;const r={...E4,...e};try{const o=new I4(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Hc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Hc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Hc(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ax(n,g,p);lr(n,g)}}catch(o){if(o instanceof ui)throw o;lr(n,"network-request-failed",{message:String(o)})}}async function Kh(n,e,t,r,o={}){const a=await rs(n,e,t,r,o);return"mfaPendingCredential"in a&&lr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function cx(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?lg(n.config,o):`${n.config.apiScheme}://${o}`;return x4.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function S4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class I4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ir(this.auth,"network-request-failed")),T4.get())})}}function Hc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Ir(n,e,r);return o.customData._tokenResponse=t,o}function M1(n){return n!==void 0&&n.enterprise!==void 0}class C4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return S4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function A4(n,e){return rs(n,"GET","/v2/recaptchaConfig",Ks(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(n,e){return rs(n,"POST","/v1/accounts:delete",e)}async function Th(n,e){return rs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P4(n,e=!1){const t=Wt(n),r=await t.getIdToken(e),o=ug(r);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:Ul(pp(o.auth_time)),issuedAtTime:Ul(pp(o.iat)),expirationTime:Ul(pp(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function pp(n){return Number(n)*1e3}function ug(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=KE(t);return o?JSON.parse(o):(rh("Failed to decode base64 JWT payload"),null)}catch(o){return rh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function O1(n){const e=ug(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ui&&R4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function R4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(n){var w;const e=n.auth,t=await n.getIdToken(),r=await Zl(n,Th(e,{idToken:t}));Se(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const a=(w=o.providerUserInfo)!=null&&w.length?hx(o.providerUserInfo):[],u=V4(n.providerData,a),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),p=d?f:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Xp(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function N4(n){const e=Wt(n);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function V4(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function hx(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(n,e){const t=await ux(n,{},async()=>{const r=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await cx(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&xa(n.emulatorConfig.host)&&(f.credentials="include"),lx.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function L4(n,e){return rs(n,"POST","/v2/accounts:revokeToken",Ks(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=O1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await D4(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Zo;return r&&(Se(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Se(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Se(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class or{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new b4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Xp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Zl(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return P4(this,e)}reload(){return N4(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new or({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(Hi(this.auth));const e=await this.getIdToken();return await Zl(this,k4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:w,emailVerified:x,isAnonymous:C,providerData:V,stsTokenManager:D}=t;Se(w&&D,e,"internal-error");const N=Zo.fromJSON(this.name,D);Se(typeof w=="string",e,"internal-error"),Di(r,e.name),Di(o,e.name),Se(typeof x=="boolean",e,"internal-error"),Se(typeof C=="boolean",e,"internal-error"),Di(a,e.name),Di(u,e.name),Di(d,e.name),Di(f,e.name),Di(p,e.name),Di(g,e.name);const z=new or({uid:w,auth:e,email:o,emailVerified:x,displayName:r,isAnonymous:C,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:N,createdAt:p,lastLoginAt:g});return V&&Array.isArray(V)&&(z.providerData=V.map(G=>({...G}))),f&&(z._redirectEventId=f),z}static async _fromIdTokenResponse(e,t,r=!1){const o=new Zo;o.updateFromServerResponse(t);const a=new or({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Sh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?hx(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new Zo;d.updateFromIdToken(r);const f=new or({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Xp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new Map;function ei(n){oi(n instanceof Function,"Expected a class definition");let e=j1.get(n);return e?(oi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,j1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dx.type="NONE";const F1=dx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(n,e,t){return`firebase:${n}:${e}:${t}`}class ea{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=ih(this.userKey,o.apiKey,a),this.fullPersistenceKey=ih("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Th(this.auth,{idToken:e}).catch(()=>{});return t?or._fromGetAccountInfoResponse(this.auth,t,e):null}return or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ea(ei(F1),e,r);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=o[0]||ei(F1);const u=ih(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const g=await p._get(u);if(g){let w;if(typeof g=="string"){const x=await Th(e,{idToken:g}).catch(()=>{});if(!x)break;w=await or._fromGetAccountInfoResponse(e,x,g)}else w=or._fromJSON(e,g);p!==a&&(d=w),a=p;break}}catch{}const f=o.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ea(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new ea(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vx(e))return"Blackberry";if(_x(e))return"Webos";if(px(e))return"Safari";if((e.includes("chrome/")||mx(e))&&!e.includes("edge/"))return"Chrome";if(yx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fx(n=tn()){return/firefox\//i.test(n)}function px(n=tn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mx(n=tn()){return/crios\//i.test(n)}function gx(n=tn()){return/iemobile/i.test(n)}function yx(n=tn()){return/android/i.test(n)}function vx(n=tn()){return/blackberry/i.test(n)}function _x(n=tn()){return/webos/i.test(n)}function cg(n=tn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function M4(n=tn()){var e;return cg(n)&&!!((e=window.navigator)!=null&&e.standalone)}function O4(){return XR()&&document.documentMode===10}function wx(n=tn()){return cg(n)||yx(n)||_x(n)||vx(n)||/windows phone/i.test(n)||gx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(n,e=[]){let t;switch(n){case"Browser":t=U1(tn());break;case"Worker":t=`${U1(tn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ta}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(n,e={}){return rs(n,"GET","/v2/passwordPolicy",Ks(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=6;class B4{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??U4,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B1(this),this.idTokenSubscription=new B1(this),this.beforeStateQueue=new j4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ox,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ei(t)),this._initializationPromise=this.queue(async()=>{var r,o,a;if(!this._deleted&&(this.persistenceManager=await ea.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Th(this,{idToken:e}),r=await or._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(sr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(a=this.redirectUser)==null?void 0:a._redirectEventId,d=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(r=f.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=w4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject(Hi(this));const t=e?Wt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await F4(this),t=new B4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await L4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ei(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await ea.create(this,[ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ex(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&y4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Sa(n){return Wt(n)}class B1{constructor(e){this.auth=e,this.observer=null,this.addObserver=sb(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $4(n){Gh=n}function xx(n){return Gh.loadJS(n)}function H4(){return Gh.recaptchaEnterpriseScript}function W4(){return Gh.gapiScript}function q4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class K4{constructor(){this.enterprise=new G4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class G4{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Q4="recaptcha-enterprise",Tx="NO_RECAPTCHA";class Y4{constructor(e){this.type=Q4,this.auth=Sa(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{A4(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new C4(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(f=>{d(f)})})}function o(a,u,d){const f=window.grecaptcha;M1(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(Tx)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new K4().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&M1(window.grecaptcha))o(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=H4();f.length!==0&&(f+=d),xx(f).then(()=>{o(d,a,u)}).catch(p=>{u(p)})}}).catch(d=>{u(d)})})}}async function z1(n,e,t,r=!1,o=!1){const a=new Y4(n);let u;if(o)u=Tx;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function $1(n,e,t,r,o){var a;if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await z1(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await z1(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(n,e){const t=og(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(zs(a,e??{}))return o;lr(o,"already-initialized")}return t.initialize({options:e})}function J4(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ei);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Z4(n,e,t){const r=Sa(n);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=Sx(e),{host:u,port:d}=eN(e),f=d===null?"":`:${d}`,p={url:`${a}//${u}${f}/`},g=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(zs(p,r.config.emulator)&&zs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,xa(u)?(XE(`${a}//${u}${f}`),JE("Auth",!0)):tN()}function Sx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function eN(n){const e=Sx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:H1(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:H1(u)}}}function H1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function tN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,t){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}async function nN(n,e){return rs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(n,e){return Kh(n,"POST","/v1/accounts:signInWithPassword",Ks(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(n,e){return Kh(n,"POST","/v1/accounts:signInWithEmailLink",Ks(n,e))}async function sN(n,e){return Kh(n,"POST","/v1/accounts:signInWithEmailLink",Ks(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends hg{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new eu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new eu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $1(e,t,"signInWithPassword",rN);case"emailLink":return iN(e,{email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $1(e,r,"signUpPassword",nN);case"emailLink":return sN(e,{idToken:t,email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(n,e){return Kh(n,"POST","/v1/accounts:signInWithIdp",Ks(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="http://localhost";class Hs extends hg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):lr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=t;if(!r||!o)return null;const u=new Hs(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ta(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ta(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ta(e,t)}buildRequest(){const e={requestUri:oN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=mu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lN(n){const e=kl(Pl(n)).link,t=e?kl(Pl(e)).deep_link_id:null,r=kl(Pl(n)).deep_link_id;return(r?kl(Pl(r)).link:null)||r||t||e||n}class dg{constructor(e){const t=kl(Pl(e)),r=t.apiKey??null,o=t.oobCode??null,a=aN(t.mode??null);Se(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=lN(e);try{return new dg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.providerId=Ia.PROVIDER_ID}static credential(e,t){return eu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=dg.parseLink(t);return Se(r,"argument-error"),eu._fromEmailAndCode(e,r.code,r.tenantId)}}Ia.PROVIDER_ID="password";Ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends Ix{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends yu{constructor(){super("facebook.com")}static credential(e){return Hs._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Hs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Oi.credential(t,r)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends yu{constructor(){super("github.com")}static credential(e){return Hs._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.GITHUB_SIGN_IN_METHOD="github.com";ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends yu{constructor(){super("twitter.com")}static credential(e,t){return Hs._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Fi.credential(t,r)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await or._fromIdTokenResponse(e,r,o),u=W1(r);return new la({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=W1(r);return new la({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function W1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends ui{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Ih(e,t,r,o)}}function Cx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(n,a,e,r):a})}async function uN(n,e,t=!1){const r=await Zl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return la._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(n,e,t=!1){const{auth:r}=n;if(sr(r.app))return Promise.reject(Hi(r));const o="reauthenticate";try{const a=await Zl(n,Cx(r,o,e,n),t);Se(a.idToken,r,"internal-error");const u=ug(a.idToken);Se(u,r,"internal-error");const{sub:d}=u;return Se(n.uid===d,r,"user-mismatch"),la._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&lr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ax(n,e,t=!1){if(sr(n.app))return Promise.reject(Hi(n));const r="signIn",o=await Cx(n,r,e),a=await la._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function hN(n,e){return Ax(Sa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(n){const e=Sa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function fN(n,e,t){return sr(n.app)?Promise.reject(Hi(n)):hN(Wt(n),Ia.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dN(n),r})}function pN(n,e,t,r){return Wt(n).onIdTokenChanged(e,t,r)}function mN(n,e,t){return Wt(n).beforeAuthStateChanged(e,t)}function gN(n,e,t,r){return Wt(n).onAuthStateChanged(e,t,r)}function yN(n){return Wt(n).signOut()}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=1e3,_N=10;class Px extends kx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);O4()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_N):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},vN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Px.type="LOCAL";const wN=Px;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx extends kx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Rx.type="SESSION";const bx=Rx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Qh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(u).map(async p=>p(t.origin,a)),f=await EN(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const p=fg("",20);o.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(w){const x=w;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(x.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function TN(n){Cr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function SN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function CN(){return Nx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="firebaseLocalStorageDb",AN=1,Ah="firebaseLocalStorage",Dx="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yh(n,e){return n.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function kN(){const n=indexedDB.deleteDatabase(Vx);return new vu(n).toPromise()}function Jp(){const n=indexedDB.open(Vx,AN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ah,{keyPath:Dx})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ah)?e(r):(r.close(),await kN(),e(await Jp()))})})}async function q1(n,e,t){const r=Yh(n,!0).put({[Dx]:e,value:t});return new vu(r).toPromise()}async function PN(n,e){const t=Yh(n,!1).get(e),r=await new vu(t).toPromise();return r===void 0?null:r.value}function K1(n,e){const t=Yh(n,!0).delete(e);return new vu(t).toPromise()}const RN=800,bN=3;class Lx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>bN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(CN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await SN(),!this.activeServiceWorker)return;this.sender=new xN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jp();return await q1(e,Ch,"1"),await K1(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>q1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>PN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>K1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Yh(o,!1).getAll();return new vu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lx.type="LOCAL";const NN=Lx;new gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(n,e){return e?ei(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg extends hg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ta(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ta(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function DN(n){return Ax(n.auth,new pg(n),n.bypassAuthState)}function LN(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),cN(t,new pg(n),n.bypassAuthState)}async function MN(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),uN(t,new pg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DN;case"linkViaPopup":case"linkViaRedirect":return MN;case"reauthViaPopup":case"reauthViaRedirect":return LN;default:lr(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new gu(2e3,1e4);class Xo extends Mx{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ON.get())};e()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="pendingRedirect",sh=new Map;class FN extends Mx{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const r=await UN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UN(n,e){const t=$N(e),r=zN(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function BN(n,e){sh.set(n._key(),e)}function zN(n){return ei(n._redirectPersistence)}function $N(n){return ih(jN,n.config.apiKey,n.name)}async function HN(n,e,t=!1){if(sr(n.app))return Promise.reject(Hi(n));const r=Sa(n),o=VN(r,e),u=await new FN(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=600*1e3;class qN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Ox(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ir(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WN&&this.cachedEventUids.clear(),this.cachedEventUids.has(G1(e))}saveEventToCache(e){this.cachedEventUids.add(G1(e)),this.lastProcessedEventTime=Date.now()}}function G1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ox({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ox(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(n,e={}){return rs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YN=/^https?/;async function XN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await GN(n);for(const t of e)try{if(JN(t))return}catch{}lr(n,"unauthorized-domain")}function JN(n){const e=Yp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!YN.test(t))return!1;if(QN.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new gu(3e4,6e4);function Q1(){const n=Cr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function eV(n){return new Promise((e,t)=>{var o,a,u;function r(){Q1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q1(),t(Ir(n,"network-request-failed"))},timeout:ZN.get()})}if((a=(o=Cr().gapi)==null?void 0:o.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((u=Cr().gapi)!=null&&u.load)r();else{const d=q4("iframefcb");return Cr()[d]=()=>{gapi.load?r():t(Ir(n,"network-request-failed"))},xx(`${W4()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw oh=null,e})}let oh=null;function tV(n){return oh=oh||eV(n),oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=new gu(5e3,15e3),rV="__/auth/iframe",iV="emulator/auth/iframe",sV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aV(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?lg(e,iV):`https://${n.config.authDomain}/${rV}`,r={apiKey:e.apiKey,appName:n.name,v:Ta},o=oV.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${mu(r).slice(1)}`}async function lV(n){const e=await tV(n),t=Cr().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:aV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sV,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Ir(n,"network-request-failed"),d=Cr().setTimeout(()=>{a(u)},nV.get());function f(){Cr().clearTimeout(d),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cV=500,hV=600,dV="_blank",fV="http://localhost";class Y1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pV(n,e,t,r=cV,o=hV){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...uV,width:r.toString(),height:o.toString(),top:a,left:u},p=tn().toLowerCase();t&&(d=mx(p)?dV:t),fx(p)&&(e=e||fV,f.scrollbars="yes");const g=Object.entries(f).reduce((x,[C,V])=>`${x}${C}=${V},`,"");if(M4(p)&&d!=="_self")return mV(e||"",d),new Y1(null);const w=window.open(e||"",d,g);Se(w,n,"popup-blocked");try{w.focus()}catch{}return new Y1(w)}function mV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV="__/auth/handler",yV="emulator/auth/handler",vV=encodeURIComponent("fac");async function X1(n,e,t,r,o,a){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ta,eventId:o};if(e instanceof Ix){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",ib(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,w]of Object.entries({}))u[g]=w}if(e instanceof yu){const g=e.getScopes().filter(w=>w!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const f=await n._getAppCheckToken(),p=f?`#${vV}=${encodeURIComponent(f)}`:"";return`${_V(n)}?${mu(d).slice(1)}${p}`}function _V({config:n}){return n.emulator?lg(n,yV):`https://${n.authDomain}/${gV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="webStorageSupport";class wV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bx,this._completeRedirectFn=HN,this._overrideRedirectResult=BN}async _openPopup(e,t,r,o){var u;oi((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const a=await X1(e,t,r,Yp(),o);return pV(e,a,fg())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await X1(e,t,r,Yp(),o);return TN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(oi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await lV(e),r=new qN(e);return t.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mp,{type:mp},o=>{var u;const a=(u=o==null?void 0:o[0])==null?void 0:u[mp];a!==void 0&&t(!!a),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=XN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wx()||px()||cg()}}const EV=wV;var J1="@firebase/auth",Z1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SV(n){aa(new $s("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ex(n)},p=new z4(r,o,a,f);return J4(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),aa(new $s("auth-internal",e=>{const t=Sa(e.getProvider("auth").getImmediate());return(r=>new xV(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(J1,Z1,TV(n)),$i(J1,Z1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=300,CV=YE("authIdTokenMaxAge")||IV;let e_=null;const AV=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>CV)return;const o=t==null?void 0:t.token;e_!==o&&(e_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function kV(n=nx()){const e=og(n,"auth");if(e.isInitialized())return e.getImmediate();const t=X4(n,{popupRedirectResolver:EV,persistence:[NN,wN,bx]}),r=YE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=AV(a.toString());mN(t,u,()=>u(t.currentUser)),pN(t,d=>u(d))}}const o=GE("auth");return o&&Z4(t,`http://${o}`),t}function PV(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}$4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Ir("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",PV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SV("Browser");var RV="firebase",bV="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(RV,bV,"app");var t_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wi,jx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,I){function A(){}A.prototype=I.prototype,R.D=I.prototype,R.prototype=new A,R.prototype.constructor=R,R.C=function(b,O,F){for(var k=Array(arguments.length-2),We=2;We<arguments.length;We++)k[We-2]=arguments[We];return I.prototype[O].apply(b,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,I,A){A||(A=0);var b=Array(16);if(typeof I=="string")for(var O=0;16>O;++O)b[O]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(O=0;16>O;++O)b[O]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=R.g[0],A=R.g[1],O=R.g[2];var F=R.g[3],k=I+(F^A&(O^F))+b[0]+3614090360&4294967295;I=A+(k<<7&4294967295|k>>>25),k=F+(O^I&(A^O))+b[1]+3905402710&4294967295,F=I+(k<<12&4294967295|k>>>20),k=O+(A^F&(I^A))+b[2]+606105819&4294967295,O=F+(k<<17&4294967295|k>>>15),k=A+(I^O&(F^I))+b[3]+3250441966&4294967295,A=O+(k<<22&4294967295|k>>>10),k=I+(F^A&(O^F))+b[4]+4118548399&4294967295,I=A+(k<<7&4294967295|k>>>25),k=F+(O^I&(A^O))+b[5]+1200080426&4294967295,F=I+(k<<12&4294967295|k>>>20),k=O+(A^F&(I^A))+b[6]+2821735955&4294967295,O=F+(k<<17&4294967295|k>>>15),k=A+(I^O&(F^I))+b[7]+4249261313&4294967295,A=O+(k<<22&4294967295|k>>>10),k=I+(F^A&(O^F))+b[8]+1770035416&4294967295,I=A+(k<<7&4294967295|k>>>25),k=F+(O^I&(A^O))+b[9]+2336552879&4294967295,F=I+(k<<12&4294967295|k>>>20),k=O+(A^F&(I^A))+b[10]+4294925233&4294967295,O=F+(k<<17&4294967295|k>>>15),k=A+(I^O&(F^I))+b[11]+2304563134&4294967295,A=O+(k<<22&4294967295|k>>>10),k=I+(F^A&(O^F))+b[12]+1804603682&4294967295,I=A+(k<<7&4294967295|k>>>25),k=F+(O^I&(A^O))+b[13]+4254626195&4294967295,F=I+(k<<12&4294967295|k>>>20),k=O+(A^F&(I^A))+b[14]+2792965006&4294967295,O=F+(k<<17&4294967295|k>>>15),k=A+(I^O&(F^I))+b[15]+1236535329&4294967295,A=O+(k<<22&4294967295|k>>>10),k=I+(O^F&(A^O))+b[1]+4129170786&4294967295,I=A+(k<<5&4294967295|k>>>27),k=F+(A^O&(I^A))+b[6]+3225465664&4294967295,F=I+(k<<9&4294967295|k>>>23),k=O+(I^A&(F^I))+b[11]+643717713&4294967295,O=F+(k<<14&4294967295|k>>>18),k=A+(F^I&(O^F))+b[0]+3921069994&4294967295,A=O+(k<<20&4294967295|k>>>12),k=I+(O^F&(A^O))+b[5]+3593408605&4294967295,I=A+(k<<5&4294967295|k>>>27),k=F+(A^O&(I^A))+b[10]+38016083&4294967295,F=I+(k<<9&4294967295|k>>>23),k=O+(I^A&(F^I))+b[15]+3634488961&4294967295,O=F+(k<<14&4294967295|k>>>18),k=A+(F^I&(O^F))+b[4]+3889429448&4294967295,A=O+(k<<20&4294967295|k>>>12),k=I+(O^F&(A^O))+b[9]+568446438&4294967295,I=A+(k<<5&4294967295|k>>>27),k=F+(A^O&(I^A))+b[14]+3275163606&4294967295,F=I+(k<<9&4294967295|k>>>23),k=O+(I^A&(F^I))+b[3]+4107603335&4294967295,O=F+(k<<14&4294967295|k>>>18),k=A+(F^I&(O^F))+b[8]+1163531501&4294967295,A=O+(k<<20&4294967295|k>>>12),k=I+(O^F&(A^O))+b[13]+2850285829&4294967295,I=A+(k<<5&4294967295|k>>>27),k=F+(A^O&(I^A))+b[2]+4243563512&4294967295,F=I+(k<<9&4294967295|k>>>23),k=O+(I^A&(F^I))+b[7]+1735328473&4294967295,O=F+(k<<14&4294967295|k>>>18),k=A+(F^I&(O^F))+b[12]+2368359562&4294967295,A=O+(k<<20&4294967295|k>>>12),k=I+(A^O^F)+b[5]+4294588738&4294967295,I=A+(k<<4&4294967295|k>>>28),k=F+(I^A^O)+b[8]+2272392833&4294967295,F=I+(k<<11&4294967295|k>>>21),k=O+(F^I^A)+b[11]+1839030562&4294967295,O=F+(k<<16&4294967295|k>>>16),k=A+(O^F^I)+b[14]+4259657740&4294967295,A=O+(k<<23&4294967295|k>>>9),k=I+(A^O^F)+b[1]+2763975236&4294967295,I=A+(k<<4&4294967295|k>>>28),k=F+(I^A^O)+b[4]+1272893353&4294967295,F=I+(k<<11&4294967295|k>>>21),k=O+(F^I^A)+b[7]+4139469664&4294967295,O=F+(k<<16&4294967295|k>>>16),k=A+(O^F^I)+b[10]+3200236656&4294967295,A=O+(k<<23&4294967295|k>>>9),k=I+(A^O^F)+b[13]+681279174&4294967295,I=A+(k<<4&4294967295|k>>>28),k=F+(I^A^O)+b[0]+3936430074&4294967295,F=I+(k<<11&4294967295|k>>>21),k=O+(F^I^A)+b[3]+3572445317&4294967295,O=F+(k<<16&4294967295|k>>>16),k=A+(O^F^I)+b[6]+76029189&4294967295,A=O+(k<<23&4294967295|k>>>9),k=I+(A^O^F)+b[9]+3654602809&4294967295,I=A+(k<<4&4294967295|k>>>28),k=F+(I^A^O)+b[12]+3873151461&4294967295,F=I+(k<<11&4294967295|k>>>21),k=O+(F^I^A)+b[15]+530742520&4294967295,O=F+(k<<16&4294967295|k>>>16),k=A+(O^F^I)+b[2]+3299628645&4294967295,A=O+(k<<23&4294967295|k>>>9),k=I+(O^(A|~F))+b[0]+4096336452&4294967295,I=A+(k<<6&4294967295|k>>>26),k=F+(A^(I|~O))+b[7]+1126891415&4294967295,F=I+(k<<10&4294967295|k>>>22),k=O+(I^(F|~A))+b[14]+2878612391&4294967295,O=F+(k<<15&4294967295|k>>>17),k=A+(F^(O|~I))+b[5]+4237533241&4294967295,A=O+(k<<21&4294967295|k>>>11),k=I+(O^(A|~F))+b[12]+1700485571&4294967295,I=A+(k<<6&4294967295|k>>>26),k=F+(A^(I|~O))+b[3]+2399980690&4294967295,F=I+(k<<10&4294967295|k>>>22),k=O+(I^(F|~A))+b[10]+4293915773&4294967295,O=F+(k<<15&4294967295|k>>>17),k=A+(F^(O|~I))+b[1]+2240044497&4294967295,A=O+(k<<21&4294967295|k>>>11),k=I+(O^(A|~F))+b[8]+1873313359&4294967295,I=A+(k<<6&4294967295|k>>>26),k=F+(A^(I|~O))+b[15]+4264355552&4294967295,F=I+(k<<10&4294967295|k>>>22),k=O+(I^(F|~A))+b[6]+2734768916&4294967295,O=F+(k<<15&4294967295|k>>>17),k=A+(F^(O|~I))+b[13]+1309151649&4294967295,A=O+(k<<21&4294967295|k>>>11),k=I+(O^(A|~F))+b[4]+4149444226&4294967295,I=A+(k<<6&4294967295|k>>>26),k=F+(A^(I|~O))+b[11]+3174756917&4294967295,F=I+(k<<10&4294967295|k>>>22),k=O+(I^(F|~A))+b[2]+718787259&4294967295,O=F+(k<<15&4294967295|k>>>17),k=A+(F^(O|~I))+b[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+F&4294967295}r.prototype.u=function(R,I){I===void 0&&(I=R.length);for(var A=I-this.blockSize,b=this.B,O=this.h,F=0;F<I;){if(O==0)for(;F<=A;)o(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<I;)if(b[O++]=R.charCodeAt(F++),O==this.blockSize){o(this,b),O=0;break}}else for(;F<I;)if(b[O++]=R[F++],O==this.blockSize){o(this,b),O=0;break}}this.h=O,this.o+=I},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;var A=8*this.o;for(I=R.length-8;I<R.length;++I)R[I]=A&255,A/=256;for(this.u(R),R=Array(16),I=A=0;4>I;++I)for(var b=0;32>b;b+=8)R[A++]=this.g[I]>>>b&255;return R};function a(R,I){var A=d;return Object.prototype.hasOwnProperty.call(A,R)?A[R]:A[R]=I(R)}function u(R,I){this.h=I;for(var A=[],b=!0,O=R.length-1;0<=O;O--){var F=R[O]|0;b&&F==I||(A[O]=F,b=!1)}this.g=A}var d={};function f(R){return-128<=R&&128>R?a(R,function(I){return new u([I|0],0>I?-1:0)}):new u([R|0],0>R?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return w;if(0>R)return N(p(-R));for(var I=[],A=1,b=0;R>=A;b++)I[b]=R/A|0,A*=4294967296;return new u(I,0)}function g(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return N(g(R.substring(1),I));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=p(Math.pow(I,8)),b=w,O=0;O<R.length;O+=8){var F=Math.min(8,R.length-O),k=parseInt(R.substring(O,O+F),I);8>F?(F=p(Math.pow(I,F)),b=b.j(F).add(p(k))):(b=b.j(A),b=b.add(p(k)))}return b}var w=f(0),x=f(1),C=f(16777216);n=u.prototype,n.m=function(){if(D(this))return-N(this).m();for(var R=0,I=1,A=0;A<this.g.length;A++){var b=this.i(A);R+=(0<=b?b:4294967296+b)*I,I*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V(this))return"0";if(D(this))return"-"+N(this).toString(R);for(var I=p(Math.pow(R,6)),A=this,b="";;){var O=Y(A,I).g;A=z(A,O.j(I));var F=((0<A.g.length?A.g[0]:A.h)>>>0).toString(R);if(A=O,V(A))return F+b;for(;6>F.length;)F="0"+F;b=F+b}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function V(R){if(R.h!=0)return!1;for(var I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function D(R){return R.h==-1}n.l=function(R){return R=z(this,R),D(R)?-1:V(R)?0:1};function N(R){for(var I=R.g.length,A=[],b=0;b<I;b++)A[b]=~R.g[b];return new u(A,~R.h).add(x)}n.abs=function(){return D(this)?N(this):this},n.add=function(R){for(var I=Math.max(this.g.length,R.g.length),A=[],b=0,O=0;O<=I;O++){var F=b+(this.i(O)&65535)+(R.i(O)&65535),k=(F>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);b=k>>>16,F&=65535,k&=65535,A[O]=k<<16|F}return new u(A,A[A.length-1]&-2147483648?-1:0)};function z(R,I){return R.add(N(I))}n.j=function(R){if(V(this)||V(R))return w;if(D(this))return D(R)?N(this).j(N(R)):N(N(this).j(R));if(D(R))return N(this.j(N(R)));if(0>this.l(C)&&0>R.l(C))return p(this.m()*R.m());for(var I=this.g.length+R.g.length,A=[],b=0;b<2*I;b++)A[b]=0;for(b=0;b<this.g.length;b++)for(var O=0;O<R.g.length;O++){var F=this.i(b)>>>16,k=this.i(b)&65535,We=R.i(O)>>>16,ft=R.i(O)&65535;A[2*b+2*O]+=k*ft,G(A,2*b+2*O),A[2*b+2*O+1]+=F*ft,G(A,2*b+2*O+1),A[2*b+2*O+1]+=k*We,G(A,2*b+2*O+1),A[2*b+2*O+2]+=F*We,G(A,2*b+2*O+2)}for(b=0;b<I;b++)A[b]=A[2*b+1]<<16|A[2*b];for(b=I;b<2*I;b++)A[b]=0;return new u(A,0)};function G(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function M(R,I){this.g=R,this.h=I}function Y(R,I){if(V(I))throw Error("division by zero");if(V(R))return new M(w,w);if(D(R))return I=Y(N(R),I),new M(N(I.g),N(I.h));if(D(I))return I=Y(R,N(I)),new M(N(I.g),I.h);if(30<R.g.length){if(D(R)||D(I))throw Error("slowDivide_ only works with positive integers.");for(var A=x,b=I;0>=b.l(R);)A=Z(A),b=Z(b);var O=re(A,1),F=re(b,1);for(b=re(b,2),A=re(A,2);!V(b);){var k=F.add(b);0>=k.l(R)&&(O=O.add(A),F=k),b=re(b,1),A=re(A,1)}return I=z(R,O.j(I)),new M(O,I)}for(O=w;0<=R.l(I);){for(A=Math.max(1,Math.floor(R.m()/I.m())),b=Math.ceil(Math.log(A)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),F=p(A),k=F.j(I);D(k)||0<k.l(R);)A-=b,F=p(A),k=F.j(I);V(F)&&(F=x),O=O.add(F),R=z(R,k)}return new M(O,R)}n.A=function(R){return Y(this,R).h},n.and=function(R){for(var I=Math.max(this.g.length,R.g.length),A=[],b=0;b<I;b++)A[b]=this.i(b)&R.i(b);return new u(A,this.h&R.h)},n.or=function(R){for(var I=Math.max(this.g.length,R.g.length),A=[],b=0;b<I;b++)A[b]=this.i(b)|R.i(b);return new u(A,this.h|R.h)},n.xor=function(R){for(var I=Math.max(this.g.length,R.g.length),A=[],b=0;b<I;b++)A[b]=this.i(b)^R.i(b);return new u(A,this.h^R.h)};function Z(R){for(var I=R.g.length+1,A=[],b=0;b<I;b++)A[b]=R.i(b)<<1|R.i(b-1)>>>31;return new u(A,R.h)}function re(R,I){var A=I>>5;I%=32;for(var b=R.g.length-A,O=[],F=0;F<b;F++)O[F]=0<I?R.i(F+A)>>>I|R.i(F+A+1)<<32-I:R.i(F+A);return new u(O,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jx=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,Wi=u}).apply(typeof t_<"u"?t_:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fx,Rl,Ux,ah,Zp,Bx,zx,$x;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,E){return c==Array.prototype||c==Object.prototype||(c[y]=E.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function o(c,y){if(y)e:{var E=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var $=c[S];if(!($ in E))break e;E=E[$]}c=c[c.length-1],S=E[c],y=y(S),y!=S&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var E=0,S=!1,$={next:function(){if(!S&&E<c.length){var Q=E++;return{value:y(Q,c[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}o("Array.prototype.values",function(c){return c||function(){return a(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,E){return c.call.apply(c.bind,arguments)}function w(c,y,E){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,S),c.apply(y,$)}}return function(){return c.apply(y,arguments)}}function x(c,y,E){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:w,x.apply(null,arguments)}function C(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function V(c,y){function E(){}E.prototype=y.prototype,c.aa=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(S,$,Q){for(var ue=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ue[Ke-2]=arguments[Ke];return y.prototype[$].apply(S,ue)}}function D(c){const y=c.length;if(0<y){const E=Array(y);for(let S=0;S<y;S++)E[S]=c[S];return E}return[]}function N(c,y){for(let E=1;E<arguments.length;E++){const S=arguments[E];if(f(S)){const $=c.length||0,Q=S.length||0;c.length=$+Q;for(let ue=0;ue<Q;ue++)c[$+ue]=S[ue]}else c.push(S)}}class z{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(c){return/^[\s\xa0]*$/.test(c)}function M(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function Y(c){return Y[" "](c),c}Y[" "]=function(){};var Z=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function re(c,y,E){for(const S in c)y.call(E,c[S],S,c)}function R(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function I(c){const y={};for(const E in c)y[E]=c[E];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,y){let E,S;for(let $=1;$<arguments.length;$++){S=arguments[$];for(E in S)c[E]=S[E];for(let Q=0;Q<A.length;Q++)E=A[Q],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function O(c){var y=1;c=c.split(":");const E=[];for(;0<y&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function F(c){d.setTimeout(()=>{throw c},0)}function k(){var c=ge;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class We{constructor(){this.h=this.g=null}add(y,E){const S=ft.get();S.set(y,E),this.h?this.h.next=S:this.g=S,this.h=S}}var ft=new z(()=>new St,c=>c.reset());class St{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,oe=!1,ge=new We,he=()=>{const c=d.Promise.resolve(void 0);Ce=()=>{c.then(B)}};var B=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(E){F(E)}var y=ft;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}oe=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var be=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,y),d.removeEventListener("test",E,y)}catch{}return c})();function Ve(c,y){if(we.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Z){e:{try{Y(y.nodeName);var $=!0;break e}catch{}$=!1}$||(y=null)}}else E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Le[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ve.aa.h.call(this)}}V(Ve,we);var Le={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),q=0;function le(c,y,E,S,$){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!S,this.ha=$,this.key=++q,this.da=this.fa=!1}function ie(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ne(c){this.src=c,this.g={},this.h=0}Ne.prototype.add=function(c,y,E,S,$){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ue=It(c,y,S,$);return-1<ue?(y=c[ue],E||(y.fa=!1)):(y=new le(y,this.src,Q,!!S,$),y.fa=E,c.push(y)),y};function Xe(c,y){var E=y.type;if(E in c.g){var S=c.g[E],$=Array.prototype.indexOf.call(S,y,void 0),Q;(Q=0<=$)&&Array.prototype.splice.call(S,$,1),Q&&(ie(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function It(c,y,E,S){for(var $=0;$<c.length;++$){var Q=c[$];if(!Q.da&&Q.listener==y&&Q.capture==!!E&&Q.ha==S)return $}return-1}var ct="closure_lm_"+(1e6*Math.random()|0),Ys={};function Ra(c,y,E,S,$){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Ra(c,y[Q],E,S,$);return null}return E=Va(E),c&&c[Ue]?c.K(y,E,p(S)?!!S.capture:!1,$):ba(c,y,E,!1,S,$)}function ba(c,y,E,S,$,Q){if(!y)throw Error("Invalid event type");var ue=p($)?!!$.capture:!!$,Ke=Js(c);if(Ke||(c[ct]=Ke=new Ne(c)),E=Ke.add(y,E,S,ue,Q),E.proxy)return E;if(S=Su(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)be||($=ue),$===void 0&&($=!1),c.addEventListener(y.toString(),S,$);else if(c.attachEvent)c.attachEvent(Or(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Su(){function c(E){return y.call(c.src,c.listener,E)}const y=Na;return c}function Xs(c,y,E,S,$){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Xs(c,y[Q],E,S,$);else S=p(S)?!!S.capture:!!S,E=Va(E),c&&c[Ue]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],E=It(Q,E,S,$),-1<E&&(ie(Q[E]),Array.prototype.splice.call(Q,E,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=Js(c))&&(y=c.g[y.toString()],c=-1,y&&(c=It(y,E,S,$)),(E=-1<c?y[c]:null)&&Mr(E))}function Mr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ue])Xe(y.i,c);else{var E=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(E,S,c.capture):y.detachEvent?y.detachEvent(Or(E),S):y.addListener&&y.removeListener&&y.removeListener(S),(E=Js(y))?(Xe(E,c),E.h==0&&(E.src=null,y[ct]=null)):ie(c)}}}function Or(c){return c in Ys?Ys[c]:Ys[c]="on"+c}function Na(c,y){if(c.da)c=!0;else{y=new Ve(y,this);var E=c.listener,S=c.ha||c.src;c.fa&&Mr(c),c=E.call(S,y)}return c}function Js(c){return c=c[ct],c instanceof Ne?c:null}var Zs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Va(c){return typeof c=="function"?c:(c[Zs]||(c[Zs]=function(y){return c.handleEvent(y)}),c[Zs])}function Ct(){X.call(this),this.i=new Ne(this),this.M=this,this.F=null}V(Ct,X),Ct.prototype[Ue]=!0,Ct.prototype.removeEventListener=function(c,y,E,S){Xs(this,c,y,E,S)};function At(c,y){var E,S=c.F;if(S)for(E=[];S;S=S.F)E.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new we(y,c);else if(y instanceof we)y.target=y.target||c;else{var $=y;y=new we(S,c),b(y,$)}if($=!0,E)for(var Q=E.length-1;0<=Q;Q--){var ue=y.g=E[Q];$=jr(ue,S,!0,y)&&$}if(ue=y.g=c,$=jr(ue,S,!0,y)&&$,$=jr(ue,S,!1,y)&&$,E)for(Q=0;Q<E.length;Q++)ue=y.g=E[Q],$=jr(ue,S,!1,y)&&$}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var E=c.g[y],S=0;S<E.length;S++)ie(E[S]);delete c.g[y],c.h--}}this.F=null},Ct.prototype.K=function(c,y,E,S){return this.i.add(String(c),y,!1,E,S)},Ct.prototype.L=function(c,y,E,S){return this.i.add(String(c),y,!0,E,S)};function jr(c,y,E,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,Q=0;Q<y.length;++Q){var ue=y[Q];if(ue&&!ue.da&&ue.capture==E){var Ke=ue.listener,kt=ue.ha||ue.src;ue.fa&&Xe(c.i,ue),$=Ke.call(kt,S)!==!1&&$}}return $&&!S.defaultPrevented}function Da(c,y,E){if(typeof c=="function")E&&(c=x(c,E));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function ci(c){c.g=Da(()=>{c.g=null,c.i&&(c.i=!1,ci(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class os extends X{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ci(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(c){X.call(this),this.h=c,this.g={}}V(as,X);var La=[];function Ma(c){re(c.g,function(y,E){this.g.hasOwnProperty(E)&&Mr(y)},c),c.g={}}as.prototype.N=function(){as.aa.N.call(this),Ma(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oa=d.JSON.stringify,ja=d.JSON.parse,Fa=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ls(){}ls.prototype.h=null;function eo(c){return c.h||(c.h=c.i())}function to(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cr(){we.call(this,"d")}V(cr,we);function no(){we.call(this,"c")}V(no,we);var hr={},Ua=null;function us(){return Ua=Ua||new Ct}hr.La="serverreachability";function Ba(c){we.call(this,hr.La,c)}V(Ba,we);function Fr(c){const y=us();At(y,new Ba(y))}hr.STAT_EVENT="statevent";function za(c,y){we.call(this,hr.STAT_EVENT,c),this.stat=y}V(za,we);function pt(c){const y=us();At(y,new za(y,c))}hr.Ma="timingevent";function ro(c,y){we.call(this,hr.Ma,c),this.size=y}V(ro,we);function $n(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function cs(){this.g=!0}cs.prototype.xa=function(){this.g=!1};function hs(c,y,E,S,$,Q){c.info(function(){if(c.g)if(Q)for(var ue="",Ke=Q.split("&"),kt=0;kt<Ke.length;kt++){var Be=Ke[kt].split("=");if(1<Be.length){var Vt=Be[0];Be=Be[1];var vt=Vt.split("_");ue=2<=vt.length&&vt[1]=="type"?ue+(Vt+"="+Be+"&"):ue+(Vt+"=redacted&")}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+S+") [attempt "+$+"]: "+y+`
`+E+`
`+ue})}function io(c,y,E,S,$,Q,ue){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+$+"]: "+y+`
`+E+`
`+Q+" "+ue})}function Hn(c,y,E,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+pd(c,E)+(S?" "+S:"")})}function $a(c,y){c.info(function(){return"TIMEOUT: "+y})}cs.prototype.info=function(){};function pd(c,y){if(!c.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var S=E[c];if(!(2>S.length)){var $=S[1];if(Array.isArray($)&&!(1>$.length)){var Q=$[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ue=1;ue<$.length;ue++)$[ue]=""}}}}return Oa(E)}catch{return y}}var so={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Iu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function ds(){}V(ds,ls),ds.prototype.g=function(){return new XMLHttpRequest},ds.prototype.i=function(){return{}},Wn=new ds;function qn(c,y,E,S){this.j=c,this.i=y,this.l=E,this.R=S||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cu}function Cu(){this.i=null,this.g="",this.h=!1}var Ha={},oo={};function ao(c,y,E){c.L=1,c.v=mi(xn(y)),c.m=E,c.P=!0,Wa(c,null)}function Wa(c,y){c.F=Date.now(),Qe(c),c.A=xn(c.v);var E=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),yi(E.i,"t",S),c.C=0,E=c.j.J,c.h=new Cu,c.g=Hu(c.j,E?y:null,!c.m),0<c.O&&(c.M=new os(x(c.Y,c,c.g),c.O)),y=c.U,E=c.g,S=c.ca;var $="readystatechange";Array.isArray($)||($&&(La[0]=$.toString()),$=La);for(var Q=0;Q<$.length;Q++){var ue=Ra(E,$[Q],S||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Fr(),hs(c.i,c.u,c.A,c.l,c.R,c.m)}qn.prototype.ca=function(c){c=c.target;const y=this.M;y&&hn(c)==3?y.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const vt=hn(this.g);var y=this.g.Ba();const Nn=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||Xa(this.g)))){this.J||vt!=4||y==7||(y==8||0>=Nn?Fr(3):Fr(2)),fs(this);var E=this.g.Z();this.X=E;t:if(Au(this)){var S=Xa(this.g);c="";var $=S.length,Q=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),hi(this);var ue="";break t}this.h.i=new d.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(Q&&y==$-1)});S.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=E==200,io(this.i,this.u,this.A,this.l,this.R,vt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,kt=this.g;if((Ke=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Ke)){var Be=Ke;break t}}Be=null}if(E=Be)Hn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qa(this,E);else{this.o=!1,this.s=3,pt(12),Rn(this),hi(this);break e}}if(this.P){E=!0;let Sn;for(;!this.J&&this.C<ue.length;)if(Sn=md(this,ue),Sn==oo){vt==4&&(this.s=4,pt(14),E=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==Ha){this.s=4,pt(15),Hn(this.i,this.l,ue,"[Invalid Chunk]"),E=!1;break}else Hn(this.i,this.l,Sn,null),qa(this,Sn);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||ue.length!=0||this.h.h||(this.s=1,pt(16),E=!1),this.o=this.o&&E,!E)Hn(this.i,this.l,ue,"[Invalid Chunked Response]"),Rn(this),hi(this);else if(0<ue.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Za(Vt),Vt.M=!0,pt(11))}}else Hn(this.i,this.l,ue,null),qa(this,ue);vt==4&&Rn(this),this.o&&!this.J&&(vt==4?_o(this.j,this):(this.o=!1,Qe(this)))}else po(this.g),E==400&&0<ue.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Rn(this),hi(this)}}}catch{}finally{}};function Au(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function md(c,y){var E=c.C,S=y.indexOf(`
`,E);return S==-1?oo:(E=Number(y.substring(E,S)),isNaN(E)?Ha:(S+=1,S+E>y.length?oo:(y=y.slice(S,S+E),c.C=S+E,y)))}qn.prototype.cancel=function(){this.J=!0,Rn(this)};function Qe(c){c.S=Date.now()+c.I,ku(c,c.I)}function ku(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=$n(x(c.ba,c),y)}function fs(c){c.B&&(d.clearTimeout(c.B),c.B=null)}qn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?($a(this.i,this.A),this.L!=2&&(Fr(),pt(17)),Rn(this),this.s=2,hi(this)):ku(this,this.S-c)};function hi(c){c.j.G==0||c.J||_o(c.j,c)}function Rn(c){fs(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ma(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function qa(c,y){try{var E=c.j;if(E.G!=0&&(E.g==c||nn(E.h,c))){if(!c.K&&nn(E.h,c)&&E.G==3){try{var S=E.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var $=S;if($[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)vo(E),Xn(E);else break e;yo(E),pt(18)}}else E.za=$[1],0<E.za-E.T&&37500>$[2]&&E.F&&E.v==0&&!E.C&&(E.C=$n(x(E.Za,E),6e3));if(1>=Ru(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Hr(E,11)}else if((c.K||E.g==c)&&vo(E),!G(y))for($=E.Da.g.parse(y),y=0;y<$.length;y++){let Be=$[y];if(E.T=Be[0],Be=Be[1],E.G==2)if(Be[0]=="c"){E.K=Be[1],E.ia=Be[2];const Vt=Be[3];Vt!=null&&(E.la=Vt,E.j.info("VER="+E.la));const vt=Be[4];vt!=null&&(E.Aa=vt,E.j.info("SVER="+E.Aa));const Nn=Be[5];Nn!=null&&typeof Nn=="number"&&0<Nn&&(S=1.5*Nn,E.L=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const Sn=c.g;if(Sn){const ws=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var Q=S.h;Q.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ka(Q,Q.h),Q.h=null))}if(S.D){const Eo=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Eo&&(S.ya=Eo,Ge(S.I,S.D,Eo))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),S=E;var ue=c;if(S.qa=$u(S,S.J?S.ia:null,S.W),ue.K){bu(S.h,ue);var Ke=ue,kt=S.L;kt&&(Ke.I=kt),Ke.B&&(fs(Ke),Qe(Ke)),S.g=ue}else _s(S);0<E.i.length&&mr(E)}else Be[0]!="stop"&&Be[0]!="close"||Hr(E,7);else E.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Hr(E,7):Ft(E):Be[0]!="noop"&&E.l&&E.l.ta(Be),E.v=0)}}Fr(4)}catch{}}var Pu=class{constructor(c,y){this.g=c,this.map=y}};function ps(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function En(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ru(c){return c.h?1:c.g?c.g.size:0}function nn(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ka(c,y){c.g?c.g.add(y):c.h=y}function bu(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ps.prototype.cancel=function(){if(this.i=Nu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Nu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.D);return y}return D(c.i)}function lo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var y=[],E=c.length,S=0;S<E;S++)y.push(c[S]);return y}y=[],E=0;for(S in c)y[E++]=c[S];return y}function uo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var y=[];c=c.length;for(var E=0;E<c;E++)y.push(E);return y}y=[],E=0;for(const S in c)y[E++]=S;return y}}}function di(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var E=uo(c),S=lo(c),$=S.length,Q=0;Q<$;Q++)y.call(void 0,S[Q],E&&E[Q],c)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gd(c,y){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var S=c[E].indexOf("="),$=null;if(0<=S){var Q=c[E].substring(0,S);$=c[E].substring(S+1)}else Q=c[E];y(Q,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Ur(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ur){this.h=c.h,gs(this,c.j),this.o=c.o,this.g=c.g,fi(this,c.s),this.l=c.l;var y=c.i,E=new dr;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),pi(this,E),this.m=c.m}else c&&(y=String(c).match(ms))?(this.h=!1,gs(this,y[1]||"",!0),this.o=Fe(y[2]||""),this.g=Fe(y[3]||"",!0),fi(this,y[4]),this.l=Fe(y[5]||"",!0),pi(this,y[6]||"",!0),this.m=Fe(y[7]||"")):(this.h=!1,this.i=new dr(null,this.h))}Ur.prototype.toString=function(){var c=[],y=this.j;y&&c.push(gi(y,co,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(gi(y,co,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(gi(E,E.charAt(0)=="/"?Lu:Du,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",gi(E,Ga)),c.join("")};function xn(c){return new Ur(c)}function gs(c,y,E){c.j=E?Fe(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function fi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function pi(c,y,E){y instanceof dr?(c.i=y,fr(c.i,c.h)):(E||(y=gi(y,Mu)),c.i=new dr(y,c.h))}function Ge(c,y,E){c.i.set(y,E)}function mi(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Fe(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gi(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,Vu),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Vu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var co=/[#\/\?@]/g,Du=/[#\?:]/g,Lu=/[#\?]/g,Mu=/[#\?@]/g,Ga=/#/g;function dr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function jt(c){c.g||(c.g=new Map,c.h=0,c.i&&gd(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=dr.prototype,n.add=function(c,y){jt(this),this.i=null,c=bn(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Kn(c,y){jt(c),y=bn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Gn(c,y){return jt(c),y=bn(c,y),c.g.has(y)}n.forEach=function(c,y){jt(this),this.g.forEach(function(E,S){E.forEach(function($){c.call(y,$,S,this)},this)},this)},n.na=function(){jt(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let S=0;S<y.length;S++){const $=c[S];for(let Q=0;Q<$.length;Q++)E.push(y[S])}return E},n.V=function(c){jt(this);let y=[];if(typeof c=="string")Gn(this,c)&&(y=y.concat(this.g.get(bn(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)y=y.concat(c[E])}return y},n.set=function(c,y){return jt(this),this.i=null,c=bn(this,c),Gn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function yi(c,y,E){Kn(c,y),0<E.length&&(c.i=null,c.g.set(bn(c,y),D(E)),c.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var S=y[E];const Q=encodeURIComponent(String(S)),ue=this.V(S);for(S=0;S<ue.length;S++){var $=Q;ue[S]!==""&&($+="="+encodeURIComponent(String(ue[S]))),c.push($)}}return this.i=c.join("&")};function bn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function fr(c,y){y&&!c.j&&(jt(c),c.i=null,c.g.forEach(function(E,S){var $=S.toLowerCase();S!=$&&(Kn(this,S),yi(this,$,E))},c)),c.j=y}function yd(c,y){const E=new cs;if(d.Image){const S=new Image;S.onload=C(cn,E,"TestLoadImage: loaded",!0,y,S),S.onerror=C(cn,E,"TestLoadImage: error",!1,y,S),S.onabort=C(cn,E,"TestLoadImage: abort",!1,y,S),S.ontimeout=C(cn,E,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Ou(c,y){const E=new cs,S=new AbortController,$=setTimeout(()=>{S.abort(),cn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout($),Q.ok?cn(E,"TestPingServer: ok",!0,y):cn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),cn(E,"TestPingServer: error",!1,y)})}function cn(c,y,E,S,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),S(E)}catch{}}function vd(){this.g=new Fa}function ju(c,y,E){const S=E||"";try{di(c,function($,Q){let ue=$;p($)&&(ue=Oa($)),y.push(S+Q+"="+encodeURIComponent(ue))})}catch($){throw y.push(S+"type="+encodeURIComponent("_badmap")),$}}function Br(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Br,ls),Br.prototype.g=function(){return new ys(this.l,this.j)},Br.prototype.i=(function(c){return function(){return c}})({});function ys(c,y){Ct.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(ys,Ct),n=ys.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Yn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Qn(this):Yn(this),this.readyState==3&&Fu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Qn(this))},n.Qa=function(c){this.g&&(this.response=c,Qn(this))},n.ga=function(){this.g&&Qn(this)};function Qn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Yn(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zr(c){let y="";return re(c,function(E,S){y+=S,y+=":",y+=E,y+=`\r
`}),y}function vi(c,y,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=zr(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Ge(c,y,E))}function tt(c){Ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(tt,Ct);var _d=/^https?$/i,Qa=["POST","PUT"];n=tt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?eo(this.o):eo(Wn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){vs(this,Q);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var $ in S)E.set($,S[$]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())E.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),$=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Qa,y,void 0))||S||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of E)this.g.setRequestHeader(Q,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fo(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){vs(this,Q)}};function vs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ho(c),Tn(c)}function ho(c){c.A||(c.A=!0,At(c,"complete"),At(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,At(this,"complete"),At(this,"abort"),Tn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tn(this,!0)),tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ya(this):this.bb())},n.bb=function(){Ya(this)};function Ya(c){if(c.h&&typeof u<"u"&&(!c.v[1]||hn(c)!=4||c.Z()!=2)){if(c.u&&hn(c)==4)Da(c.Ea,0,c);else if(At(c,"readystatechange"),hn(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var S;if(S=ue===0){var $=String(c.D).match(ms)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),S=!_d.test($?$.toLowerCase():"")}E=S}if(E)At(c,"complete"),At(c,"success");else{c.m=6;try{var Q=2<hn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",ho(c)}}finally{Tn(c)}}}}function Tn(c,y){if(c.g){fo(c);const E=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||At(c,"ready");try{E.onreadystatechange=S}catch{}}}function fo(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function hn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ja(y)}};function Xa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function po(c){const y={};c=(c.g&&2<=hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(G(c[S]))continue;var E=O(c[S]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=y[$]||[];y[$]=Q,Q.push(E)}R(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pr(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Ja(c){this.Aa=0,this.i=[],this.j=new cs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pr("baseRetryDelayMs",5e3,c),this.cb=pr("retryDelaySeedMs",1e4,c),this.Wa=pr("forwardChannelMaxRetries",2,c),this.wa=pr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ps(c&&c.concurrentRequestLimit),this.Da=new vd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ja.prototype,n.la=8,n.G=1,n.connect=function(c,y,E,S){pt(0),this.W=c,this.H=y||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.I=$u(this,null,this.W),mr(this)};function Ft(c){if(mo(c),c.G==3){var y=c.U++,E=xn(c.I);if(Ge(E,"SID",c.K),Ge(E,"RID",y),Ge(E,"TYPE","terminate"),$r(c,E),y=new qn(c,c.j,y),y.L=2,y.v=mi(xn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=y.v,E=!0),E||(y.g=Hu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Qe(y)}zu(c)}function Xn(c){c.g&&(Za(c),c.g.cancel(),c.g=null)}function mo(c){Xn(c),c.u&&(d.clearTimeout(c.u),c.u=null),vo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function mr(c){if(!En(c.h)&&!c.s){c.s=!0;var y=c.Ga;Ce||he(),oe||(Ce(),oe=!0),ge.add(y,c),c.B=0}}function wd(c,y){return Ru(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=$n(x(c.Ga,c,y),Bu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const $=new qn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=I(Q),b(Q,this.S)):Q=this.S),this.m!==null||this.O||($.H=Q,Q=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=_i(this,$,y),E=xn(this.I),Ge(E,"RID",c),Ge(E,"CVER",22),this.D&&Ge(E,"X-HTTP-Session-Id",this.D),$r(this,E),Q&&(this.O?y="headers="+encodeURIComponent(String(zr(Q)))+"&"+y:this.m&&vi(E,this.m,Q)),Ka(this.h,$),this.Ua&&Ge(E,"TYPE","init"),this.P?(Ge(E,"$req",y),Ge(E,"SID","null"),$.T=!0,ao($,E,null)):ao($,E,y),this.G=2}}else this.G==3&&(c?go(this,c):this.i.length==0||En(this.h)||go(this))};function go(c,y){var E;y?E=y.l:E=c.U++;const S=xn(c.I);Ge(S,"SID",c.K),Ge(S,"RID",E),Ge(S,"AID",c.T),$r(c,S),c.m&&c.o&&vi(S,c.m,c.o),E=new qn(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),y&&(c.i=y.D.concat(c.i)),y=_i(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ka(c.h,E),ao(E,S,y)}function $r(c,y){c.H&&re(c.H,function(E,S){Ge(y,S,E)}),c.l&&di({},function(E,S){Ge(y,S,E)})}function _i(c,y,E){E=Math.min(c.i.length,E);var S=c.l?x(c.l.Na,c.l,c):null;e:{var $=c.i;let Q=-1;for(;;){const ue=["count="+E];Q==-1?0<E?(Q=$[0].g,ue.push("ofs="+Q)):Q=0:ue.push("ofs="+Q);let Ke=!0;for(let kt=0;kt<E;kt++){let Be=$[kt].g;const Vt=$[kt].map;if(Be-=Q,0>Be)Q=Math.max(0,$[kt].g-100),Ke=!1;else try{ju(Vt,ue,"req"+Be+"_")}catch{S&&S(Vt)}}if(Ke){S=ue.join("&");break e}}}return c=c.i.splice(0,E),y.D=c,S}function _s(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Ce||he(),oe||(Ce(),oe=!0),ge.add(y,c),c.v=0}}function yo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=$n(x(c.Fa,c),Bu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=$n(x(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Xn(this),Uu(this))};function Za(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Uu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=xn(c.qa);Ge(y,"RID","rpc"),Ge(y,"SID",c.K),Ge(y,"AID",c.T),Ge(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(y,"TO",c.ja),Ge(y,"TYPE","xmlhttp"),$r(c,y),c.m&&c.o&&vi(y,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=mi(xn(y)),E.m=null,E.P=!0,Wa(E,c)}n.Za=function(){this.C!=null&&(this.C=null,Xn(this),yo(this),pt(19))};function vo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function _o(c,y){var E=null;if(c.g==y){vo(c),Za(c),c.g=null;var S=2}else if(nn(c.h,y))E=y.D,bu(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var $=c.B;S=us(),At(S,new ro(S,E)),mr(c)}else _s(c);else if($=y.s,$==3||$==0&&0<y.X||!(S==1&&wd(c,y)||S==2&&yo(c)))switch(E&&0<E.length&&(y=c.h,y.i=y.i.concat(E)),$){case 1:Hr(c,5);break;case 4:Hr(c,10);break;case 3:Hr(c,6);break;default:Hr(c,2)}}}function Bu(c,y){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*y}function Hr(c,y){if(c.j.info("Error code "+y),y==2){var E=x(c.fb,c),S=c.Xa;const $=!S;S=new Ur(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||gs(S,"https"),mi(S),$?yd(S.toString(),E):Ou(S.toString(),E)}else pt(2);c.G=0,c.l&&c.l.sa(y),zu(c),mo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function zu(c){if(c.G=0,c.ka=[],c.l){const y=Nu(c.h);(y.length!=0||c.i.length!=0)&&(N(c.ka,y),N(c.ka,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.ra()}}function $u(c,y,E){var S=E instanceof Ur?xn(E):new Ur(E);if(S.g!="")y&&(S.g=y+"."+S.g),fi(S,S.s);else{var $=d.location;S=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var Q=new Ur(null);S&&gs(Q,S),y&&(Q.g=y),$&&fi(Q,$),E&&(Q.l=E),S=Q}return E=c.D,y=c.ya,E&&y&&Ge(S,E,y),Ge(S,"VER",c.la),$r(c,S),S}function Hu(c,y,E){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new tt(new Br({eb:E})):new tt(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function el(){}n=el.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wo(){}wo.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){Ct.call(this),this.g=new Ja(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!G(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!G(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new gr(this)}V(rn,Ct),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ft(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Oa(c),c=E);y.i.push(new Pu(y.Ya++,c)),y.G==3&&mr(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ft(this.g),delete this.g,rn.aa.N.call(this)};function Wu(c){cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(Wu,cr);function qu(){no.call(this),this.status=1}V(qu,no);function gr(c){this.g=c}V(gr,el),gr.prototype.ua=function(){At(this.g,"a")},gr.prototype.ta=function(c){At(this.g,new Wu(c))},gr.prototype.sa=function(c){At(this.g,new qu)},gr.prototype.ra=function(){At(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,$x=function(){return new wo},zx=function(){return us()},Bx=hr,Zp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},so.NO_ERROR=0,so.TIMEOUT=8,so.HTTP_ERROR=6,ah=so,Iu.COMPLETE="complete",Ux=Iu,to.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,Rl=to,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,Fx=tt}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const n_="@firebase/firestore",r_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ca="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new ig("@firebase/firestore");function zo(){return Ws.logLevel}function fe(n,...e){if(Ws.logLevel<=Me.DEBUG){const t=e.map(mg);Ws.debug(`Firestore (${Ca}): ${n}`,...t)}}function ai(n,...e){if(Ws.logLevel<=Me.ERROR){const t=e.map(mg);Ws.error(`Firestore (${Ca}): ${n}`,...t)}}function ua(n,...e){if(Ws.logLevel<=Me.WARN){const t=e.map(mg);Ws.warn(`Firestore (${Ca}): ${n}`,...t)}}function mg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Hx(n,r,t)}function Hx(n,e,t){let r=`FIRESTORE (${Ca}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ai(r),new Error(r)}function qe(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||Hx(e,o,r)}function Re(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Jt.UNAUTHENTICATED)))}shutdown(){}}class VV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class DV{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new qi,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},d=f=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qi)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string",31837,{l:r}),new Wx(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class LV{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MV{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new LV(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class i_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OV{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){qe(this.o===void 0,3512);const r=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new i_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new i_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=jV(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Oe(n,e){return n<e?-1:n>e?1:0}function em(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),a=e.charAt(r);if(o!==a)return gp(o)===gp(a)?Oe(o,a):gp(o)?1:-1}return Oe(n.length,e.length)}const FV=55296,UV=57343;function gp(n){const e=n.charCodeAt(0);return e>=FV&&e<=UV}function ca(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="__name__";class Er{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ie(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Er.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=Er.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Oe(e.length,t.length)}static compareSegments(e,t){const r=Er.isNumericId(e),o=Er.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Er.extractNumericId(e).compare(Er.extractNumericId(t)):em(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wi.fromString(e.substring(4,e.length-2))}}class at extends Er{construct(e,t,r){return new at(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new at(t)}static emptyPath(){return new at([])}}const BV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Er{construct(e,t,r){return new Ht(e,t,r)}static isValidIdentifier(e){return BV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s_}static keyField(){return new Ht([s_])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new _e(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new _e(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new _e(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(r+=d,o++):(a(),o++)}if(a(),u)throw new _e(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(t)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(at.fromString(e))}static fromName(e){return new Te(at.fromString(e).popFirst(5))}static empty(){return new Te(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return at.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new at(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(n,e,t){if(!t)throw new _e(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $V(n,e,t,r){if(e===!0&&r===!0)throw new _e(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function o_(n){if(!Te.isDocumentKey(n))throw new _e(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function yg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie(12329,{type:typeof n})}function Ar(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yg(n);throw new _e(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(n,e){const t={typeString:n};return e&&(t.value=e),t}function _u(n,e){if(!qx(n))throw new _e(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new _e(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=-62135596800,l_=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*l_);return new et(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<a_)throw new _e(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l_}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_u(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-a_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:xt("string",et._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new et(0,0))}static max(){return new Pe(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function HV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Pe.fromTimestamp(r===1e9?new et(t+1,0):new et(t,r));return new Qi(o,Te.empty(),e)}function WV(n){return new Qi(n.readTime,n.key,tu)}class Qi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Qi(Pe.min(),Te.empty(),tu)}static max(){return new Qi(Pe.max(),Te.empty(),tu)}}function qV(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==KV)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,r)=>{t(e)}))}static reject(e){return new J(((t,r)=>{r(e)}))}static waitFor(e){return new J(((t,r)=>{let o=0,a=0,u=!1;e.forEach((d=>{++o,d.next((()=>{++a,u&&a===o&&t()}),(f=>r(f)))})),u=!0,a===o&&t()}))}static or(e){let t=J.resolve(!1);for(const r of e)t=t.next((o=>o?J.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,a)=>{r.push(t.call(this,o,a))})),this.waitFor(r)}static mapArray(e,t){return new J(((r,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next((g=>{u[p]=g,++d,d===a&&r(u)}),(g=>o(g)))}}))}static doWhile(e,t){return new J(((r,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):r()};a()}))}}function QV(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ka(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=-1;function Jh(n){return n==null}function kh(n){return n===0&&1/n==-1/0}function YV(n){return typeof n=="number"&&Number.isInteger(n)&&!kh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="";function XV(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=u_(e)),e=JV(n.get(t),e);return u_(e)}function JV(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case Kx:t+="";break;default:t+=a}}return t}function u_(n){return n+Kx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function is(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Gx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||$t.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??$t.RED,this.left=o??$t.EMPTY,this.right=a??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new $t(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new $t(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new h_(this.data.getIterator())}getIteratorFrom(e){return new h_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class h_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new kn([])}unionWith(e){let t=new Nt(Ht.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ca(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Qx("Invalid base64 string: "+a):a}})(e);return new qt(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const ZV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(n){if(qe(!!n,39018),typeof n=="string"){let e=0;const t=ZV.exec(n);if(qe(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(n.seconds),nanos:yt(n.nanos)}}function yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xi(n){return typeof n=="string"?qt.fromBase64String(n):qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="server_timestamp",Xx="__type__",Jx="__previous_value__",Zx="__local_write_time__";function _g(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Xx])==null?void 0:r.stringValue)===Yx}function Zh(n){const e=n.mapValue.fields[Jx];return _g(e)?Zh(e):e}function nu(n){const e=Yi(n.mapValue.fields[Zx].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,t,r,o,a,u,d,f,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=g}}const Ph="(default)";class ru{constructor(e,t){this.projectId=e,this.database=t||Ph}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="__type__",t3="__max__",Kc={mapValue:{}},tT="__vector__",Rh="value";function Ji(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_g(n)?4:r3(n)?9007199254740991:n3(n)?10:11:Ie(28295,{value:n})}function Vr(n,e){if(n===e)return!0;const t=Ji(n);if(t!==Ji(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return nu(n).isEqual(nu(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Yi(o.timestampValue),d=Yi(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return Xi(o.bytesValue).isEqual(Xi(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return yt(o.geoPointValue.latitude)===yt(a.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return yt(o.integerValue)===yt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=yt(o.doubleValue),d=yt(a.doubleValue);return u===d?kh(u)===kh(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return ca(n.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(c_(u)!==c_(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Vr(u[f],d[f])))return!1;return!0})(n,e);default:return Ie(52216,{left:n})}}function iu(n,e){return(n.values||[]).find((t=>Vr(t,e)))!==void 0}function ha(n,e){if(n===e)return 0;const t=Ji(n),r=Ji(e);if(t!==r)return Oe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=yt(a.integerValue||a.doubleValue),f=yt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return d_(n.timestampValue,e.timestampValue);case 4:return d_(nu(n),nu(e));case 5:return em(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=Xi(a),f=Xi(u);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const g=Oe(d[p],f[p]);if(g!==0)return g}return Oe(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Oe(yt(a.latitude),yt(u.latitude));return d!==0?d:Oe(yt(a.longitude),yt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return f_(n.arrayValue,e.arrayValue);case 10:return(function(a,u){var x,C,V,D;const d=a.fields||{},f=u.fields||{},p=(x=d[Rh])==null?void 0:x.arrayValue,g=(C=f[Rh])==null?void 0:C.arrayValue,w=Oe(((V=p==null?void 0:p.values)==null?void 0:V.length)||0,((D=g==null?void 0:g.values)==null?void 0:D.length)||0);return w!==0?w:f_(p,g)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Kc.mapValue&&u===Kc.mapValue)return 0;if(a===Kc.mapValue)return 1;if(u===Kc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=u.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let w=0;w<f.length&&w<g.length;++w){const x=em(f[w],g[w]);if(x!==0)return x;const C=ha(d[f[w]],p[g[w]]);if(C!==0)return C}return Oe(f.length,g.length)})(n.mapValue,e.mapValue);default:throw Ie(23264,{he:t})}}function d_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);const t=Yi(n),r=Yi(e),o=Oe(t.seconds,r.seconds);return o!==0?o:Oe(t.nanos,r.nanos)}function f_(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=ha(t[o],r[o]);if(a)return a}return Oe(t.length,r.length)}function da(n){return tm(n)}function tm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Yi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Xi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Te.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=tm(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${tm(t.fields[u])}`;return o+"}"})(n.mapValue):Ie(61005,{value:n})}function lh(n){switch(Ji(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(n);return e?16+lh(e):16;case 5:return 2*n.stringValue.length;case 6:return Xi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+lh(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return is(r.fields,((a,u)=>{o+=a.length+lh(u)})),o})(n.mapValue);default:throw Ie(13486,{value:n})}}function nm(n){return!!n&&"integerValue"in n}function wg(n){return!!n&&"arrayValue"in n}function p_(n){return!!n&&"nullValue"in n}function m_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function uh(n){return!!n&&"mapValue"in n}function n3(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[eT])==null?void 0:r.stringValue)===tT}function Bl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return is(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Bl(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bl(n.arrayValue.values[t]);return e}return{...n}}function r3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===t3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!uh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(t)}setAll(e){let t=Ht.emptyPath(),r={},o=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=d.popLast()}u?r[d.lastSegment()]=Bl(u):o.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());uh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){is(t,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new _n(Bl(this.value))}}function nT(n){const e=[];return is(n.fields,((t,r)=>{const o=new Ht([t]);if(uh(r)){const a=nT(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,r,o,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Zt(e,0,Pe.min(),Pe.min(),Pe.min(),_n.empty(),0)}static newFoundDocument(e,t,r,o){return new Zt(e,1,t,Pe.min(),r,o,0)}static newNoDocument(e,t){return new Zt(e,2,t,Pe.min(),Pe.min(),_n.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,Pe.min(),Pe.min(),_n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t){this.position=e,this.inclusive=t}}function g_(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=Te.comparator(Te.fromName(u.referenceValue),t.key):r=ha(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function y_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t="asc"){this.field=e,this.dir=t}}function i3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{}class bt extends rT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new o3(e,t,r):t==="array-contains"?new u3(e,r):t==="in"?new c3(e,r):t==="not-in"?new h3(e,r):t==="array-contains-any"?new d3(e,r):new bt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new a3(e,r):new l3(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ha(t,this.value)):t!==null&&Ji(this.value)===Ji(t)&&this.matchesComparison(ha(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends rT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Dr(e,t)}matches(e){return iT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iT(n){return n.op==="and"}function sT(n){return s3(n)&&iT(n)}function s3(n){for(const e of n.filters)if(e instanceof Dr)return!1;return!0}function rm(n){if(n instanceof bt)return n.field.canonicalString()+n.op.toString()+da(n.value);if(sT(n))return n.filters.map((e=>rm(e))).join(",");{const e=n.filters.map((t=>rm(t))).join(",");return`${n.op}(${e})`}}function oT(n,e){return n instanceof bt?(function(r,o){return o instanceof bt&&r.op===o.op&&r.field.isEqual(o.field)&&Vr(r.value,o.value)})(n,e):n instanceof Dr?(function(r,o){return o instanceof Dr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,u,d)=>a&&oT(u,o.filters[d])),!0):!1})(n,e):void Ie(19439)}function aT(n){return n instanceof bt?(function(t){return`${t.field.canonicalString()} ${t.op} ${da(t.value)}`})(n):n instanceof Dr?(function(t){return t.op.toString()+" {"+t.getFilters().map(aT).join(" ,")+"}"})(n):"Filter"}class o3 extends bt{constructor(e,t,r){super(e,t,r),this.key=Te.fromName(r.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class a3 extends bt{constructor(e,t){super(e,"in",t),this.keys=lT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class l3 extends bt{constructor(e,t){super(e,"not-in",t),this.keys=lT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function lT(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>Te.fromName(r.referenceValue)))}class u3 extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wg(t)&&iu(t.arrayValue,this.value)}}class c3 extends bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&iu(this.value.arrayValue,t)}}class h3 extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!iu(this.value.arrayValue,t)}}class d3 extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>iu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,t=null,r=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function v_(n,e=null,t=[],r=[],o=null,a=null,u=null){return new f3(n,e,t,r,o,a,u)}function Eg(n){const e=Re(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>rm(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Jh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>da(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>da(r))).join(",")),e.Te=t}return e.Te}function xg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!i3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!oT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!y_(n.startAt,e.startAt)&&y_(n.endAt,e.endAt)}function im(n){return Te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t=null,r=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function p3(n,e,t,r,o,a,u,d){return new ed(n,e,t,r,o,a,u,d)}function td(n){return new ed(n)}function __(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function m3(n){return n.collectionGroup!==null}function zl(n){const e=Re(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Nt(Ht.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Nh(a,r))})),t.has(Ht.keyField().canonicalString())||e.Ie.push(new Nh(Ht.keyField(),r))}return e.Ie}function kr(n){const e=Re(n);return e.Ee||(e.Ee=g3(e,zl(n))),e.Ee}function g3(n,e){if(n.limitType==="F")return v_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Nh(o.field,a)}));const t=n.endAt?new bh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new bh(n.startAt.position,n.startAt.inclusive):null;return v_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function sm(n,e,t){return new ed(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nd(n,e){return xg(kr(n),kr(e))&&n.limitType===e.limitType}function uT(n){return`${Eg(kr(n))}|lt:${n.limitType}`}function $o(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>aT(o))).join(", ")}]`),Jh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>da(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>da(o))).join(",")),`Target(${r})`})(kr(n))}; limitType=${n.limitType})`}function rd(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Te.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of zl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(u,d,f){const p=g_(u,d,f);return u.inclusive?p<=0:p<0})(r.startAt,zl(r),o)||r.endAt&&!(function(u,d,f){const p=g_(u,d,f);return u.inclusive?p>=0:p>0})(r.endAt,zl(r),o))})(n,e)}function y3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cT(n){return(e,t)=>{let r=!1;for(const o of zl(n)){const a=v3(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function v3(n,e,t){const r=n.field.isKeyField()?Te.comparator(e.key,t.key):(function(a,u,d){const f=u.data.field(a),p=d.data.field(a);return f!==null&&p!==null?ha(f,p):Ie(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,((t,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return Gx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=new ut(Te.comparator);function li(){return _3}const hT=new ut(Te.comparator);function bl(...n){let e=hT;for(const t of n)e=e.insert(t.key,t);return e}function dT(n){let e=hT;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function js(){return $l()}function fT(){return $l()}function $l(){return new Gs((n=>n.toString()),((n,e)=>n.isEqual(e)))}const w3=new ut(Te.comparator),E3=new Nt(Te.comparator);function je(...n){let e=E3;for(const t of n)e=e.add(t);return e}const x3=new Nt(Oe);function T3(){return x3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function pT(n){return{integerValue:""+n}}function S3(n,e){return YV(e)?pT(e):Tg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this._=void 0}}function I3(n,e,t){return n instanceof Vh?(function(o,a){const u={fields:{[Xx]:{stringValue:Yx},[Zx]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&_g(a)&&(a=Zh(a)),a&&(u.fields[Jx]=a),{mapValue:u}})(t,e):n instanceof su?gT(n,e):n instanceof ou?yT(n,e):(function(o,a){const u=mT(o,a),d=w_(u)+w_(o.Ae);return nm(u)&&nm(o.Ae)?pT(d):Tg(o.serializer,d)})(n,e)}function C3(n,e,t){return n instanceof su?gT(n,e):n instanceof ou?yT(n,e):t}function mT(n,e){return n instanceof Dh?(function(r){return nm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Vh extends id{}class su extends id{constructor(e){super(),this.elements=e}}function gT(n,e){const t=vT(e);for(const r of n.elements)t.some((o=>Vr(o,r)))||t.push(r);return{arrayValue:{values:t}}}class ou extends id{constructor(e){super(),this.elements=e}}function yT(n,e){let t=vT(e);for(const r of n.elements)t=t.filter((o=>!Vr(o,r)));return{arrayValue:{values:t}}}class Dh extends id{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function w_(n){return yt(n.integerValue||n.doubleValue)}function vT(n){return wg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function A3(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof su&&o instanceof su||r instanceof ou&&o instanceof ou?ca(r.elements,o.elements,Vr):r instanceof Dh&&o instanceof Dh?Vr(r.Ae,o.Ae):r instanceof Vh&&o instanceof Vh})(n.transform,e.transform)}class k3{constructor(e,t){this.version=e,this.transformResults=t}}class Pr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pr}static exists(e){return new Pr(void 0,e)}static updateTime(e){return new Pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sd{}function _T(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ET(n.key,Pr.none()):new wu(n.key,n.data,Pr.none());{const t=n.data,r=_n.empty();let o=new Nt(Ht.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new ss(n.key,r,new kn(o.toArray()),Pr.none())}}function P3(n,e,t){n instanceof wu?(function(o,a,u){const d=o.value.clone(),f=x_(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof ss?(function(o,a,u){if(!ch(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=x_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(wT(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Hl(n,e,t,r){return n instanceof wu?(function(a,u,d,f){if(!ch(a.precondition,u))return d;const p=a.value.clone(),g=T_(a.fieldTransforms,f,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof ss?(function(a,u,d,f){if(!ch(a.precondition,u))return d;const p=T_(a.fieldTransforms,f,u),g=u.data;return g.setAll(wT(a)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(a,u,d){return ch(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function R3(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=mT(r.transform,o||null);a!=null&&(t===null&&(t=_n.empty()),t.set(r.field,a))}return t||null}function E_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ca(r,o,((a,u)=>A3(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class wu extends sd{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ss extends sd{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function wT(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function x_(n,e,t){const r=new Map;qe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);r.set(a.field,C3(u,d,t[o]))}return r}function T_(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,I3(a,u,e))}return r}class ET extends sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class b3 extends sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&P3(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Hl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Hl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=fT();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const f=_T(u,d);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Pe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),je())}isEqual(e){return this.batchId===e.batchId&&ca(this.mutations,e.mutations,((t,r)=>E_(t,r)))&&ca(this.baseMutations,e.baseMutations,((t,r)=>E_(t,r)))}}class Sg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return w3})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new Sg(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,ze;function L3(n){switch(n){case te.OK:return Ie(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ie(15467,{code:n})}}function xT(n){if(n===void 0)return ai("GRPC error has no .code"),te.UNKNOWN;switch(n){case wt.OK:return te.OK;case wt.CANCELLED:return te.CANCELLED;case wt.UNKNOWN:return te.UNKNOWN;case wt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case wt.INTERNAL:return te.INTERNAL;case wt.UNAVAILABLE:return te.UNAVAILABLE;case wt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case wt.NOT_FOUND:return te.NOT_FOUND;case wt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case wt.ABORTED:return te.ABORTED;case wt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case wt.DATA_LOSS:return te.DATA_LOSS;default:return Ie(39323,{code:n})}}(ze=wt||(wt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=new Wi([4294967295,4294967295],0);function S_(n){const e=M3().encode(n),t=new jx;return t.update(e),new Uint8Array(t.digest())}function I_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Wi([t,r],0),new Wi([o,a],0)]}class Ig{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Nl(`Invalid padding: ${t}`);if(r<0)throw new Nl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Wi.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(Wi.fromNumber(r)));return o.compare(O3)===1&&(o=new Wi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=S_(e),[r,o]=I_(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Ig(a,o,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=S_(e),[r,o]=I_(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new od(Pe.min(),o,new ut(Oe),li(),je())}}class Eu{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Eu(r,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class TT{constructor(e,t){this.targetId=e,this.Ce=t}}class ST{constructor(e,t,r=qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class C_{constructor(){this.ve=0,this.Fe=A_(),this.Me=qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),r=je();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Ie(38017,{changeType:a})}})),new Eu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=A_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class j3{constructor(e){this.Ge=e,this.ze=new Map,this.je=li(),this.Je=Gc(),this.He=Gc(),this.Ye=new ut(Oe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(im(a))if(r===0){const u=new Te(a.path);this.et(t,u,Zt.newNoDocument(u,Pe.min()))}else qe(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=Xi(r).toUint8Array()}catch(f){if(f instanceof Qx)return ua("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Ig(u,o,a)}catch(f){return ua(f instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&im(d.target)){const f=new Te(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Zt.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let r=je();this.He.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new od(e,t,this.Ye,this.je,r);return this.je=li(),this.Je=Gc(),this.He=Gc(),this.Ye=new ut(Oe),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new C_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Nt(Oe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Nt(Oe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new C_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Gc(){return new ut(Te.comparator)}function A_(){return new ut(Te.comparator)}const F3={asc:"ASCENDING",desc:"DESCENDING"},U3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B3={and:"AND",or:"OR"};class z3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function om(n,e){return n.useProto3Json||Jh(e)?e:{value:e}}function Lh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $3(n,e){return Lh(n,e.toTimestamp())}function Rr(n){return qe(!!n,49232),Pe.fromTimestamp((function(t){const r=Yi(t);return new et(r.seconds,r.nanos)})(n))}function Cg(n,e){return am(n,e).canonicalString()}function am(n,e){const t=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function CT(n){const e=at.fromString(n);return qe(bT(e),10190,{key:e.toString()}),e}function lm(n,e){return Cg(n.databaseId,e.path)}function yp(n,e){const t=CT(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Te(kT(t))}function AT(n,e){return Cg(n.databaseId,e)}function H3(n){const e=CT(n);return e.length===4?at.emptyPath():kT(e)}function um(n){return new at(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kT(n){return qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function k_(n,e,t){return{name:lm(n,e),fields:t.value.mapValue.fields}}function W3(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ie(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(p,g){return p.useProto3Json?(qe(g===void 0||typeof g=="string",58123),qt.fromBase64String(g||"")):(qe(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),qt.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(p){const g=p.code===void 0?te.UNKNOWN:xT(p.code);return new _e(g,p.message||"")})(u);t=new ST(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=yp(n,r.document.name),a=Rr(r.document.updateTime),u=r.document.createTime?Rr(r.document.createTime):Pe.min(),d=new _n({mapValue:{fields:r.document.fields}}),f=Zt.newFoundDocument(o,a,u,d),p=r.targetIds||[],g=r.removedTargetIds||[];t=new hh(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=yp(n,r.document),a=r.readTime?Rr(r.readTime):Pe.min(),u=Zt.newNoDocument(o,a),d=r.removedTargetIds||[];t=new hh([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=yp(n,r.document),a=r.removedTargetIds||[];t=new hh([],a,o,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new D3(o,a),d=r.targetId;t=new TT(d,u)}}return t}function q3(n,e){let t;if(e instanceof wu)t={update:k_(n,e.key,e.value)};else if(e instanceof ET)t={delete:lm(n,e.key)};else if(e instanceof ss)t={update:k_(n,e.key,e.data),updateMask:tD(e.fieldMask)};else{if(!(e instanceof b3))return Ie(16599,{Vt:e.type});t={verify:lm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const d=u.transform;if(d instanceof Vh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof su)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ou)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Dh)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ie(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:$3(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ie(27497)})(n,e.precondition)),t}function K3(n,e){return n&&n.length>0?(qe(e!==void 0,14353),n.map((t=>(function(o,a){let u=o.updateTime?Rr(o.updateTime):Rr(a);return u.isEqual(Pe.min())&&(u=Rr(a)),new k3(u,o.transformResults||[])})(t,e)))):[]}function G3(n,e){return{documents:[AT(n,e.path)]}}function Q3(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=AT(n,o);const a=(function(p){if(p.length!==0)return RT(Dr.create(p,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(p){if(p.length!==0)return p.map((g=>(function(x){return{field:Ho(x.field),direction:J3(x.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=om(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:o}}function Y3(n){let e=H3(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){qe(r===1,65062);const g=t.from[0];g.allDescendants?o=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(w){const x=PT(w);return x instanceof Dr&&sT(x)?x.getFilters():[x]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((x=>(function(V){return new Nh(Wo(V.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(x)))})(t.orderBy));let d=null;t.limit&&(d=(function(w){let x;return x=typeof w=="object"?w.value:w,Jh(x)?null:x})(t.limit));let f=null;t.startAt&&(f=(function(w){const x=!!w.before,C=w.values||[];return new bh(C,x)})(t.startAt));let p=null;return t.endAt&&(p=(function(w){const x=!w.before,C=w.values||[];return new bh(C,x)})(t.endAt)),p3(e,o,u,a,d,"F",f,p)}function X3(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function PT(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Wo(t.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Wo(t.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Wo(t.unaryFilter.field);return bt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Wo(t.unaryFilter.field);return bt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(n):n.fieldFilter!==void 0?(function(t){return bt.create(Wo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Dr.create(t.compositeFilter.filters.map((r=>PT(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(t.compositeFilter.op))})(n):Ie(30097,{filter:n})}function J3(n){return F3[n]}function Z3(n){return U3[n]}function eD(n){return B3[n]}function Ho(n){return{fieldPath:n.canonicalString()}}function Wo(n){return Ht.fromServerFormat(n.fieldPath)}function RT(n){return n instanceof bt?(function(t){if(t.op==="=="){if(m_(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NAN"}};if(p_(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(m_(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NAN"}};if(p_(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(t.field),op:Z3(t.op),value:t.value}}})(n):n instanceof Dr?(function(t){const r=t.getFilters().map((o=>RT(o)));return r.length===1?r[0]:{compositeFilter:{op:eD(t.op),filters:r}}})(n):Ie(54877,{filter:n})}function tD(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function bT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,t,r,o,a=Pe.min(),u=Pe.min(),d=qt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.yt=e}}function rD(n){const e=Y3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.Cn=new sD}addToCollectionParentIndex(e,t){return this.Cn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(Qi.min())}updateCollectionGroup(e,t,r){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class sD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Nt(at.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Nt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NT=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(NT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fa(0)}static cr(){return new fa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="LruGarbageCollector",oD=1048576;function b_([n,e],[t,r]){const o=Oe(n,t);return o===0?Oe(e,r):o}class aD{constructor(e){this.Ir=e,this.buffer=new Nt(b_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();b_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(R_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ka(t)?fe(R_,"Ignoring IndexedDB error during garbage collection: ",t):await Aa(t)}await this.Vr(3e5)}))}}class uD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Xh.ce);const r=new aD(t);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(P_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,a,u,d,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,d=Date.now(),this.removeTargets(e,r,t)))).next((w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(p=Date.now(),zo()<=Me.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w}))))}}function cD(n,e){return new uD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.changes=new Gs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?J.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&Hl(r.mutation,o,kn.empty(),et.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=je()){const o=js();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((a=>{let u=bl();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=js();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,je())))}populateOverlays(e,t,r){const o=[];return r.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,o){let a=li();const u=$l(),d=(function(){return $l()})();return t.forEach(((f,p)=>{const g=r.get(p.key);o.has(p.key)&&(g===void 0||g.mutation instanceof ss)?a=a.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),Hl(g.mutation,p,g.mutation.getFieldMask(),et.now())):u.set(p.key,kn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,g)=>u.set(p,g))),t.forEach(((p,g)=>d.set(p,new dD(g,u.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=$l();let o=new ut(((u,d)=>u-d)),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((f=>{const p=t.get(f);if(p===null)return;let g=r.get(f)||kn.empty();g=d.applyToLocalView(p,g),r.set(f,g);const w=(o.get(d.batchId)||je()).add(f);o=o.insert(d.batchId,w)}))})).next((()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,g=f.value,w=fT();g.forEach((x=>{if(!a.has(x)){const C=_T(t.get(x),r.get(x));C!==null&&w.set(x,C),a=a.add(x)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return J.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):m3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):J.resolve(js());let d=tu,f=a;return u.next((p=>J.forEach(p,((g,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(g)?J.resolve():this.remoteDocumentCache.getEntry(e,g).next((x=>{f=f.insert(g,x)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,je()))).next((g=>({batchId:d,changes:dT(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next((r=>{let o=bl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=bl();return this.indexManager.getCollectionParents(e,a).next((d=>J.forEach(d,(f=>{const p=(function(w,x){return new ed(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next((g=>{g.forEach(((w,x)=>{u=u.insert(w,x)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o)))).next((u=>{a.forEach(((f,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,Zt.newInvalidDocument(g)))}));let d=bl();return u.forEach(((f,p)=>{const g=a.get(f);g!==void 0&&Hl(g.mutation,p,kn.empty(),et.now()),rd(t,p)&&(d=d.insert(f,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return J.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Rr(o.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:rD(o.bundledQuery),readTime:Rr(o.readTime)}})(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.overlays=new ut(Te.comparator),this.qr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const r=js();return J.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,a)=>{this.St(e,t,a)})),J.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,t,r){const o=js(),a=t.length+1,u=new Te(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new ut(((p,g)=>p-g));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=js(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=js(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,g)=>d.set(p,g))),!(d.size()>=o)););return J.resolve(d)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new V3(t,r));let a=this.qr.get(t);a===void 0&&(a=je(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(){this.Qr=new Nt(Ot.$r),this.Ur=new Nt(Ot.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Ot(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Ot(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Te(new at([])),r=new Ot(t,e),o=new Ot(t,e+1),a=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Te(new at([])),r=new Ot(t,e),o=new Ot(t,e+1);let a=je();return this.Ur.forEachInRange([r,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Ot(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ot{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Te.comparator(e.key,t.key)||Oe(e.Yr,t.Yr)}static Kr(e,t){return Oe(e.Yr,t.Yr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(Ot.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new N3(a,t,r,o);this.mutationQueue.push(u);for(const d of o)this.Zr=this.Zr.add(new Ot(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return J.resolve(u)}lookupMutationBatch(e,t){return J.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),a=o<0?0:o;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?vg:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ot(t,0),o=new Ot(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(u=>{const d=this.Xr(u.Yr);a.push(d)})),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nt(Oe);return t.forEach((o=>{const a=new Ot(o,0),u=new Ot(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(d=>{r=r.add(d.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;Te.isDocumentKey(a)||(a=a.child(""));const u=new Ot(new Te(a),0);let d=new Nt(Oe);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(d=d.add(f.Yr)),!0)}),u),J.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){qe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(t.mutations,(o=>{const a=new Ot(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Ot(t,0),o=this.Zr.firstAfterOrEqual(r);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.ri=e,this.docs=(function(){return new ut(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return J.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let r=li();return t.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Zt.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=li();const u=t.path,d=new Te(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||qV(WV(g),r)<=0||(o.has(g.key)||rd(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Ie(9500)}ii(e,t){return J.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new _D(this)}getSize(e){return J.resolve(this.size)}}class _D extends hD{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),J.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.persistence=e,this.si=new Gs((t=>Eg(t)),xg),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Ag,this.targetCount=0,this.ai=fa.ur()}forEachTarget(e,t){return this.si.forEach(((r,o)=>t(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),J.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new fa(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Pr(t),J.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),J.waitFor(a).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return J.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),J.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return J.resolve(r)}containsKey(e,t){return J.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,t){this.ui={},this.overlays={},this.ci=new Xh(0),this.li=!1,this.li=!0,this.hi=new gD,this.referenceDelegate=e(this),this.Pi=new wD(this),this.indexManager=new iD,this.remoteDocumentCache=(function(o){return new vD(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new nD(t),this.Ii=new pD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new yD(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){fe("MemoryPersistence","Starting transaction:",e);const o=new ED(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,t){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class ED extends GV{constructor(e){super(),this.currentSequenceNumber=e}}class kg{constructor(e){this.persistence=e,this.Ri=new Ag,this.Vi=null}static mi(e){return new kg(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),J.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const o=Te.fromPath(r);return this.gi(e,o).next((a=>{a||t.removeEntry(o,Pe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return J.or([()=>J.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Mh{constructor(e,t){this.persistence=e,this.pi=new Gs((r=>XV(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=cD(this,t)}static mi(e,t){return new Mh(e,t)}Ei(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return J.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?J.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((d=>{d||(r++,a.removeEntry(u,Pe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=lh(e.data.value)),t}br(e,t,r){return J.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=je(),o=je();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Pg(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JR()?8:QV(tn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,o,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new xD;return this.Ss(e,t,u).next((d=>{if(a.result=d,this.Vs)return this.bs(e,t,u,d.size)}))})).next((()=>a.result))}bs(e,t,r,o){return r.documentReadCount<this.fs?(zo()<=Me.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",$o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(zo()<=Me.DEBUG&&fe("QueryEngine","Query:",$o(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(zo()<=Me.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",$o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(t))):J.resolve())}ys(e,t){if(__(t))return J.resolve(null);let r=kr(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=sm(t,null,"F"),r=kr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=je(...a);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.Ds(t,d);return this.Cs(t,p,u,f.readTime)?this.ys(e,sm(t,null,"F")):this.vs(e,p,t,f)}))))})))))}ws(e,t,r,o){return __(t)||o.isEqual(Pe.min())?J.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,o)?J.resolve(null):(zo()<=Me.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$o(t)),this.vs(e,u,t,HV(o,tu)).next((d=>d)))}))}Ds(e,t){let r=new Nt(cT(e));return t.forEach(((o,a)=>{rd(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,r){return zo()<=Me.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",$o(t)),this.ps.getDocumentsMatchingQuery(e,t,Qi.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="LocalStore",SD=3e8;class ID{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ut(Oe),this.xs=new Gs((a=>Eg(a)),xg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function CD(n,e,t,r){return new ID(n,e,t,r)}async function DT(n,e){const t=Re(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],d=[];let f=je();for(const p of o){u.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){d.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:d})))}))}))}function AD(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,g){const w=p.batch,x=w.keys();let C=J.resolve();return x.forEach((V=>{C=C.next((()=>g.getEntry(f,V))).next((D=>{const N=p.docVersions.get(V);qe(N!==null,48541),D.version.compareTo(N)<0&&(w.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),g.addEntry(D)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(f,w)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=je();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function LT(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function kD(n,e){const t=Re(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach(((g,w)=>{const x=o.get(w);if(!x)return;d.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(a,g.addedDocuments,w))));let C=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(qt.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):g.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(g.resumeToken,r)),o=o.insert(w,C),(function(D,N,z){return D.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=SD?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(x,C,g)&&d.push(t.Pi.updateTargetData(a,C))}));let f=li(),p=je();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),d.push(PD(a,u,e.documentUpdates).next((g=>{f=g.ks,p=g.qs}))),!r.isEqual(Pe.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next((w=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(g)}return J.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(t.Ms=o,a)))}function PD(n,e,t){let r=je(),o=je();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=li();return t.forEach(((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Pe.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):fe(Rg,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{ks:u,qs:o}}))}function RD(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=vg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function bD(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.Pi.getTargetData(r,e).next((a=>a?(o=a,J.resolve(o)):t.Pi.allocateTargetId(r).next((u=>(o=new Ui(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function cm(n,e,t){const r=Re(n),o=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!ka(u))throw u;fe(Rg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function N_(n,e,t){const r=Re(n);let o=Pe.min(),a=je();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,p,g){const w=Re(f),x=w.xs.get(g);return x!==void 0?J.resolve(w.Ms.get(x)):w.Pi.getTargetData(p,g)})(r,u,kr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?o:Pe.min(),t?a:je()))).next((d=>(ND(r,y3(e),d),{documents:d,Qs:a})))))}function ND(n,e,t){let r=n.Os.get(e)||Pe.min();t.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class V_{constructor(){this.activeTargetIds=T3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VD{constructor(){this.Mo=new V_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new V_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="ConnectivityMonitor";class L_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(D_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(D_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function hm(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="RestConnection",LD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Ph?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,a){const u=hm(),d=this.zo(e,t.toUriEncodedString());fe(vp,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:p}=new URL(d),g=xa(p);return this.Jo(e,d,f,r,g).then((w=>(fe(vp,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw ua(vp,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",r),w}))}Ho(e,t,r,o,a,u){return this.Go(e,t,r,o,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ca})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,t){const r=LD[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class jD extends MD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,a){const u=hm();return new Promise(((d,f)=>{const p=new Fx;p.setWithCredentials(!0),p.listenOnce(Ux.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case ah.NO_ERROR:const w=p.getResponseJson();fe(Xt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case ah.TIMEOUT:fe(Xt,`RPC '${e}' ${u} timed out`),f(new _e(te.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const x=p.getStatus();if(fe(Xt,`RPC '${e}' ${u} failed with status:`,x,"response text:",p.getResponseText()),x>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const V=C==null?void 0:C.error;if(V&&V.status&&V.message){const D=(function(z){const G=z.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(G)>=0?G:te.UNKNOWN})(V.status);f(new _e(D,V.message))}else f(new _e(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new _e(te.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(Xt,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(o);fe(Xt,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,r,15)}))}T_(e,t,r){const o=hm(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=$x(),d=zx(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");fe(Xt,`Creating RPC '${e}' stream ${o}: ${g}`,f);const w=u.createWebChannel(g,f);this.I_(w);let x=!1,C=!1;const V=new OD({Yo:N=>{C?fe(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(x||(fe(Xt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),x=!0),fe(Xt,`RPC '${e}' stream ${o} sending:`,N),w.send(N))},Zo:()=>w.close()}),D=(N,z,G)=>{N.listen(z,(M=>{try{G(M)}catch(Y){setTimeout((()=>{throw Y}),0)}}))};return D(w,Rl.EventType.OPEN,(()=>{C||(fe(Xt,`RPC '${e}' stream ${o} transport opened.`),V.o_())})),D(w,Rl.EventType.CLOSE,(()=>{C||(C=!0,fe(Xt,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(w))})),D(w,Rl.EventType.ERROR,(N=>{C||(C=!0,ua(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,N.name,"Message:",N.message),V.a_(new _e(te.UNAVAILABLE,"The operation could not be completed")))})),D(w,Rl.EventType.MESSAGE,(N=>{var z;if(!C){const G=N.data[0];qe(!!G,16349);const M=G,Y=(M==null?void 0:M.error)||((z=M[0])==null?void 0:z.error);if(Y){fe(Xt,`RPC '${e}' stream ${o} received error:`,Y);const Z=Y.status;let re=(function(A){const b=wt[A];if(b!==void 0)return xT(b)})(Z),R=Y.message;re===void 0&&(re=te.INTERNAL,R="Unknown error status: "+Z+" with message "+Y.message),C=!0,V.a_(new _e(re,R)),w.close()}else fe(Xt,`RPC '${e}' stream ${o} received:`,G),V.u_(G)}})),D(d,Bx.STAT_EVENT,(N=>{N.stat===Zp.PROXY?fe(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===Zp.NOPROXY&&fe(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function _p(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(n){return new z3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="PersistentStream";class OT{constructor(e,t,r,o,a,u,d,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(ai(t.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new _e(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(M_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(fe(M_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FD extends OT{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=W3(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Pe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Pe.min():u.readTime?Rr(u.readTime):Pe.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=um(this.serializer),t.addTarget=(function(a,u){let d;const f=u.target;if(d=im(f)?{documents:G3(a,f)}:{query:Q3(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=IT(a,u.resumeToken);const p=om(a,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Pe.min())>0){d.readTime=Lh(a,u.snapshotVersion.toTimestamp());const p=om(a,u.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=X3(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=um(this.serializer),t.removeTarget=e,this.q_(t)}}class UD extends OT{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=K3(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=um(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>q3(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{}class zD extends BD{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new _e(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,am(t,r),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(te.UNKNOWN,a.toString())}))}Ho(e,t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,am(t,r),o,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(te.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $D{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ai(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="RemoteStore";class HD{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Qs(this)&&(fe(qs,"Restarting streams for network reachability change."),await(async function(f){const p=Re(f);p.Ea.add(4),await xu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await ld(p)})(this))}))})),this.Ra=new $D(r,o)}}async function ld(n){if(Qs(n))for(const e of n.da)await e(!0)}async function xu(n){for(const e of n.da)await e(!1)}function jT(n,e){const t=Re(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Dg(t)?Vg(t):Pa(t).O_()&&Ng(t,e))}function bg(n,e){const t=Re(n),r=Pa(t);t.Ia.delete(e),r.O_()&&FT(t,e),t.Ia.size===0&&(r.O_()?r.L_():Qs(t)&&t.Ra.set("Unknown"))}function Ng(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pa(n).Y_(e)}function FT(n,e){n.Va.Ue(e),Pa(n).Z_(e)}function Vg(n){n.Va=new j3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Pa(n).start(),n.Ra.ua()}function Dg(n){return Qs(n)&&!Pa(n).x_()&&n.Ia.size>0}function Qs(n){return Re(n).Ea.size===0}function UT(n){n.Va=void 0}async function WD(n){n.Ra.set("Online")}async function qD(n){n.Ia.forEach(((e,t)=>{Ng(n,e)}))}async function KD(n,e){UT(n),Dg(n)?(n.Ra.ha(e),Vg(n)):n.Ra.set("Unknown")}async function GD(n,e,t){if(n.Ra.set("Online"),e instanceof ST&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ia.delete(d),o.Va.removeTarget(d))})(n,e)}catch(r){fe(qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Oh(n,r)}else if(e instanceof hh?n.Va.Ze(e):e instanceof TT?n.Va.st(e):n.Va.tt(e),!t.isEqual(Pe.min()))try{const r=await LT(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,p)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(qt.EMPTY_BYTE_STRING,g.snapshotVersion)),FT(a,f);const w=new Ui(g.target,f,p,g.sequenceNumber);Ng(a,w)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){fe(qs,"Failed to raise snapshot:",r),await Oh(n,r)}}async function Oh(n,e,t){if(!ka(e))throw e;n.Ea.add(1),await xu(n),n.Ra.set("Offline"),t||(t=()=>LT(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{fe(qs,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await ld(n)}))}function BT(n,e){return e().catch((t=>Oh(n,t,e)))}async function ud(n){const e=Re(n),t=Zi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vg;for(;QD(e);)try{const o=await RD(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,YD(e,o)}catch(o){await Oh(e,o)}zT(e)&&$T(e)}function QD(n){return Qs(n)&&n.Ta.length<10}function YD(n,e){n.Ta.push(e);const t=Zi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function zT(n){return Qs(n)&&!Zi(n).x_()&&n.Ta.length>0}function $T(n){Zi(n).start()}async function XD(n){Zi(n).ra()}async function JD(n){const e=Zi(n);for(const t of n.Ta)e.ea(t.mutations)}async function ZD(n,e,t){const r=n.Ta.shift(),o=Sg.from(r,e,t);await BT(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await ud(n)}async function eL(n,e){e&&Zi(n).X_&&await(async function(r,o){if((function(u){return L3(u)&&u!==te.ABORTED})(o.code)){const a=r.Ta.shift();Zi(r).B_(),await BT(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await ud(r)}})(n,e),zT(n)&&$T(n)}async function O_(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),fe(qs,"RemoteStore received new credentials");const r=Qs(t);t.Ea.add(3),await xu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ld(t)}async function tL(n,e){const t=Re(n);e?(t.Ea.delete(2),await ld(t)):e||(t.Ea.add(2),await xu(t),t.Ra.set("Unknown"))}function Pa(n){return n.ma||(n.ma=(function(t,r,o){const a=Re(t);return a.sa(),new FD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:WD.bind(null,n),t_:qD.bind(null,n),r_:KD.bind(null,n),H_:GD.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Dg(n)?Vg(n):n.Ra.set("Unknown")):(await n.ma.stop(),UT(n))}))),n.ma}function Zi(n){return n.fa||(n.fa=(function(t,r,o){const a=Re(t);return a.sa(),new UD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:XD.bind(null,n),r_:eL.bind(null,n),ta:JD.bind(null,n),na:ZD.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await ud(n)):(await n.fa.stop(),n.Ta.length>0&&(fe(qs,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,d=new Lg(e,t,u,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mg(n,e){if(ai("AsyncQueue",`${e}: ${n}`),ka(n))return new _e(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{static emptySet(e){return new na(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Te.comparator(t.key,r.key):(t,r)=>Te.comparator(t.key,r.key),this.keyedMap=bl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof na)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new na;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this.ga=new ut(Te.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class pa{constructor(e,t,r,o,a,u,d,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new pa(e,t,na.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class rL{constructor(){this.queries=F_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=Re(t),a=o.queries;o.queries=F_(),a.forEach(((u,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new _e(te.ABORTED,"Firestore shutting down"))}}function F_(){return new Gs((n=>uT(n)),nd)}async function HT(n,e){const t=Re(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new nL,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=Mg(u,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Og(t)}async function WT(n,e){const t=Re(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function iL(n,e){const t=Re(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.Sa)d.Fa(o)&&(r=!0);u.wa=o}}r&&Og(t)}function sL(n,e,t){const r=Re(n),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);r.queries.delete(e)}function Og(n){n.Ca.forEach((e=>{e.next()}))}var dm,U_;(U_=dm||(dm={})).Ma="default",U_.Cache="cache";class qT{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.key=e}}class GT{constructor(e){this.key=e}}class oL{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=cT(e),this.tu=new na(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new j_,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((g,w)=>{const x=o.get(g),C=rd(this.query,w)?w:null,V=!!x&&this.mutatedKeys.has(x.key),D=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let N=!1;x&&C?x.data.isEqual(C.data)?V!==D&&(r.track({type:3,doc:C}),N=!0):this.su(x,C)||(r.track({type:2,doc:C}),N=!0,(f&&this.eu(C,f)>0||p&&this.eu(C,p)<0)&&(d=!0)):!x&&C?(r.track({type:0,doc:C}),N=!0):x&&!C&&(r.track({type:1,doc:x}),N=!0,(f||p)&&(d=!0)),N&&(C?(u=u.add(C),a=D?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,w)=>(function(C,V){const D=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:N})}};return D(C)-D(V)})(g.type,w.type)||this.eu(g.doc,w.doc))),this.ou(r),o=o??!1;const d=t&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,p=f!==this.Za;return this.Za=f,u.length!==0||p?{snapshot:new pa(this.query,e.tu,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new j_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new GT(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new KT(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return pa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jg="SyncEngine";class aL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class lL{constructor(e){this.key=e,this.hu=!1}}class uL{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Gs((d=>uT(d)),nd),this.Iu=new Map,this.Eu=new Set,this.du=new ut(Te.comparator),this.Au=new Map,this.Ru=new Ag,this.Vu={},this.mu=new Map,this.fu=fa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cL(n,e,t=!0){const r=e2(n);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await QT(r,e,t,!0),o}async function hL(n,e){const t=e2(n);await QT(t,e,!0,!1)}async function QT(n,e,t,r){const o=await bD(n.localStore,kr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await dL(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&jT(n.remoteStore,o),d}async function dL(n,e,t,r,o){n.pu=(w,x,C)=>(async function(D,N,z,G){let M=N.view.ru(z);M.Cs&&(M=await N_(D.localStore,N.query,!1).then((({documents:R})=>N.view.ru(R,M))));const Y=G&&G.targetChanges.get(N.targetId),Z=G&&G.targetMismatches.get(N.targetId)!=null,re=N.view.applyChanges(M,D.isPrimaryClient,Y,Z);return z_(D,N.targetId,re.au),re.snapshot})(n,w,x,C);const a=await N_(n.localStore,e,!0),u=new oL(e,a.Qs),d=u.ru(a.documents),f=Eu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),p=u.applyChanges(d,n.isPrimaryClient,f);z_(n,t,p.au);const g=new aL(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function fL(n,e,t){const r=Re(n),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((u=>!nd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await cm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&bg(r.remoteStore,o.targetId),fm(r,o.targetId)})).catch(Aa)):(fm(r,o.targetId),await cm(r.localStore,o.targetId,!0))}async function pL(n,e){const t=Re(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),bg(t.remoteStore,r.targetId))}async function mL(n,e,t){const r=xL(n);try{const o=await(function(u,d){const f=Re(u),p=et.now(),g=d.reduce(((C,V)=>C.add(V.key)),je());let w,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let V=li(),D=je();return f.Ns.getEntries(C,g).next((N=>{V=N,V.forEach(((z,G)=>{G.isValidDocument()||(D=D.add(z))}))})).next((()=>f.localDocuments.getOverlayedDocuments(C,V))).next((N=>{w=N;const z=[];for(const G of d){const M=R3(G,w.get(G.key).overlayedDocument);M!=null&&z.push(new ss(G.key,M,nT(M.value.mapValue),Pr.exists(!0)))}return f.mutationQueue.addMutationBatch(C,p,z,d)})).next((N=>{x=N;const z=N.applyToLocalDocumentSet(w,D);return f.documentOverlayCache.saveOverlays(C,N.batchId,z)}))})).then((()=>({batchId:x.batchId,changes:dT(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,d,f){let p=u.Vu[u.currentUser.toKey()];p||(p=new ut(Oe)),p=p.insert(d,f),u.Vu[u.currentUser.toKey()]=p})(r,o.batchId,t),await Tu(r,o.changes),await ud(r.remoteStore)}catch(o){const a=Mg(o,"Failed to persist write");t.reject(a)}}async function YT(n,e){const t=Re(n);try{const r=await kD(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=t.Au.get(a);u&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?qe(u.hu,14607):o.removedDocuments.size>0&&(qe(u.hu,42227),u.hu=!1))})),await Tu(t,r,e)}catch(r){await Aa(r)}}function B_(n,e,t){const r=Re(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(u,d){const f=Re(u);f.onlineState=d;let p=!1;f.queries.forEach(((g,w)=>{for(const x of w.Sa)x.va(d)&&(p=!0)})),p&&Og(f)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gL(n,e,t){const r=Re(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),a=o&&o.key;if(a){let u=new ut(Te.comparator);u=u.insert(a,Zt.newNoDocument(a,Pe.min()));const d=je().add(a),f=new od(Pe.min(),new Map,new ut(Oe),u,d);await YT(r,f),r.du=r.du.remove(a),r.Au.delete(e),Fg(r)}else await cm(r.localStore,e,!1).then((()=>fm(r,e,t))).catch(Aa)}async function yL(n,e){const t=Re(n),r=e.batch.batchId;try{const o=await AD(t.localStore,e);JT(t,r,null),XT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Tu(t,o)}catch(o){await Aa(o)}}async function vL(n,e,t){const r=Re(n);try{const o=await(function(u,d){const f=Re(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return f.mutationQueue.lookupMutationBatch(p,d).next((w=>(qe(w!==null,37113),g=w.keys(),f.mutationQueue.removeMutationBatch(p,w)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>f.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);JT(r,e,t),XT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Tu(r,o)}catch(o){await Aa(o)}}function XT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function JT(n,e,t){const r=Re(n);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function fm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||ZT(n,r)}))}function ZT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(bg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Fg(n))}function z_(n,e,t){for(const r of t)r instanceof KT?(n.Ru.addReference(r.key,e),_L(n,r)):r instanceof GT?(fe(jg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||ZT(n,r.key)):Ie(19791,{wu:r})}function _L(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(fe(jg,"New document in limbo: "+t),n.Eu.add(r),Fg(n))}function Fg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Te(at.fromString(e)),r=n.fu.next();n.Au.set(r,new lL(t)),n.du=n.du.insert(t,r),jT(n.remoteStore,new Ui(kr(td(t.path)),r,"TargetPurposeLimboResolution",Xh.ce))}}async function Tu(n,e,t){const r=Re(n),o=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{u.push(r.pu(f,e,t).then((p=>{var g;if((p||t)&&r.isPrimaryClient){const w=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))==null?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(p){o.push(p);const w=Pg.As(f.targetId,p);a.push(w)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(f,p){const g=Re(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(p,(x=>J.forEach(x.Es,(C=>g.persistence.referenceDelegate.addReference(w,x.targetId,C))).next((()=>J.forEach(x.ds,(C=>g.persistence.referenceDelegate.removeReference(w,x.targetId,C)))))))))}catch(w){if(!ka(w))throw w;fe(Rg,"Failed to update sequence numbers: "+w)}for(const w of p){const x=w.targetId;if(!w.fromCache){const C=g.Ms.get(x),V=C.snapshotVersion,D=C.withLastLimboFreeSnapshotVersion(V);g.Ms=g.Ms.insert(x,D)}}})(r.localStore,a))}async function wL(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){fe(jg,"User change. New user:",e.toKey());const r=await DT(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new _e(te.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tu(t,r.Ls)}}function EL(n,e){const t=Re(n),r=t.Au.get(e);if(r&&r.hu)return je().add(r.key);{let o=je();const a=t.Iu.get(e);if(!a)return o;for(const u of a){const d=t.Tu.get(u);o=o.unionWith(d.view.nu)}return o}}function e2(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=YT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gL.bind(null,e),e.Pu.H_=iL.bind(null,e.eventManager),e.Pu.yu=sL.bind(null,e.eventManager),e}function xL(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vL.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ad(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return CD(this.persistence,new TD,e.initialUser,this.serializer)}Cu(e){return new VT(kg.mi,this.serializer)}Du(e){return new VD}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class TL extends jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){qe(this.persistence.referenceDelegate instanceof Mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lD(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new VT((r=>Mh.mi(r,t)),this.serializer)}}class pm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>B_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wL.bind(null,this.syncEngine),await tL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rL})()}createDatastore(e){const t=ad(e.databaseInfo.databaseId),r=(function(a){return new jD(a)})(e.databaseInfo);return(function(a,u,d,f){return new zD(a,u,d,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,a,u,d){return new HD(r,o,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>B_(this.syncEngine,t,0)),(function(){return L_.v()?new L_:new DD})())}createSyncEngine(e,t){return(function(o,a,u,d,f,p,g){const w=new uL(o,a,u,d,f,p);return g&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const a=Re(o);fe(qs,"RemoteStore shutting down."),a.Ea.add(5),await xu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}pm.provider={build:()=>new pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="FirestoreClient";class SL{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=gg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{fe(es,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(fe(es,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Mg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function wp(n,e){n.asyncQueue.verifyOperationInProgress(),fe(es,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await DT(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function $_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await IL(n);fe(es,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>O_(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>O_(e.remoteStore,o))),n._onlineComponents=e}async function IL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(es,"Using user provided OfflineComponentProvider");try{await wp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;ua("Error using user provided cache. Falling back to memory cache: "+t),await wp(n,new jh)}}else fe(es,"Using default OfflineComponentProvider"),await wp(n,new TL(void 0));return n._offlineComponents}async function n2(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(es,"Using user provided OnlineComponentProvider"),await $_(n,n._uninitializedComponentsProvider._online)):(fe(es,"Using default OnlineComponentProvider"),await $_(n,new pm))),n._onlineComponents}function CL(n){return n2(n).then((e=>e.syncEngine))}async function mm(n){const e=await n2(n),t=e.eventManager;return t.onListen=cL.bind(null,e.syncEngine),t.onUnlisten=fL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pL.bind(null,e.syncEngine),t}function AL(n,e,t={}){const r=new qi;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,p){const g=new t2({next:x=>{g.Nu(),u.enqueueAndForget((()=>WT(a,w)));const C=x.docs.has(d);!C&&x.fromCache?p.reject(new _e(te.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&x.fromCache&&f&&f.source==="server"?p.reject(new _e(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),w=new qT(td(d.path),g,{includeMetadataChanges:!0,qa:!0});return HT(a,w)})(await mm(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="firestore.googleapis.com",W_=!0;class q_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=i2,this.ssl=W_}else this.host=e.host,this.ssl=e.ssl??W_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oD)throw new _e(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$V("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r2(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ug{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new NV;switch(r.type){case"firstParty":return new MV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=H_.get(t);r&&(fe("ComponentProvider","Removing Datastore"),H_.delete(t),r.terminate())})(this),Promise.resolve()}}function kL(n,e,t,r={}){var p;n=Ar(n,Ug);const o=xa(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(XE(`https://${d}`),JE("Firestore",!0)),a.host!==i2&&a.host!==d&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:o,emulatorOptions:r};if(!zs(f,u)&&(n._setSettings(f),r.mockUserToken)){let g,w;if(typeof r.mockUserToken=="string")g=r.mockUserToken,w=Jt.MOCK_USER;else{g=$R(r.mockUserToken,(p=n._app)==null?void 0:p.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new _e(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Jt(x)}n._authCredentials=new VV(new Wx(g,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cd(this.firestore,e,this._query)}}class Tt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new au(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(_u(t,Tt._jsonSchema))return new Tt(e,r||null,new Te(at.fromString(t.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:xt("string",Tt._jsonSchemaVersion),referencePath:xt("string")};class au extends cd{constructor(e,t,r){super(e,t,td(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new Te(e))}withConverter(e){return new au(this.firestore,e,this._path)}}function an(n,e,...t){if(n=Wt(n),arguments.length===1&&(e=gg.newId()),zV("doc","path",e),n instanceof Ug){const r=at.fromString(e,...t);return o_(r),new Tt(n,null,new Te(r))}{if(!(n instanceof Tt||n instanceof au))throw new _e(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(at.fromString(e,...t));return o_(r),new Tt(n.firestore,n instanceof au?n.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="AsyncQueue";class G_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MT(this,"async_queue_retry"),this._c=()=>{const r=_p();r&&fe(K_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=_p();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=_p();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new qi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ka(e))throw e;fe(K_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ai("INTERNAL UNHANDLED ERROR: ",Q_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Lg.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Ie(47125,{Pc:Q_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Q_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1})(n,["next","error","complete"])}class ma extends Ug{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new G_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G_(e),this._firestoreClient=void 0,await e}}}function PL(n,e){const t=typeof n=="object"?n:nx(),r=typeof n=="string"?n:Ph,o=og(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=BR("firestore");a&&kL(o,...a)}return o}function Bg(n){if(n._terminated)throw new _e(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||RL(n),n._firestoreClient}function RL(n){var r,o,a;const e=n._freezeSettings(),t=(function(d,f,p,g){return new e3(d,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,r2(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new SL(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(qt.fromBase64String(e))}catch(t){throw new _e(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bn(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_u(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:xt("string",Bn._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:br._jsonSchemaVersion}}static fromJSON(e){if(_u(e,br._jsonSchema))return new br(e.latitude,e.longitude)}}br._jsonSchemaVersion="firestore/geoPoint/1.0",br._jsonSchema={type:xt("string",br._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_u(e,Nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Nr(e.vectorValues);throw new _e(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nr._jsonSchemaVersion="firestore/vectorValue/1.0",Nr._jsonSchema={type:xt("string",Nr._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=/^__.*__$/;class NL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ss(e,this.data,this.fieldMask,t,this.fieldTransforms):new wu(e,this.data,t,this.fieldTransforms)}}class s2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ss(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function o2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:n})}}class $g{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $g({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(o2(this.Ac)&&bL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ad(e)}Cc(e,t,r,o=!1){return new $g({Ac:e,methodName:t,Dc:r,path:Ht.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function a2(n){const e=n._freezeSettings(),t=ad(n._databaseId);return new VL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function DL(n,e,t,r,o,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);Hg("Data must be an object, but it was:",u,r);const d=l2(r,u);let f,p;if(a.merge)f=new kn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const w of a.mergeFields){const x=gm(e,w,t);if(!u.contains(x))throw new _e(te.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);c2(g,x)||g.push(x)}f=new kn(g),p=u.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,p=u.fieldTransforms;return new NL(new _n(d),f,p)}class dd extends zg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dd}}function LL(n,e,t,r){const o=n.Cc(1,e,t);Hg("Data must be an object, but it was:",o,r);const a=[],u=_n.empty();is(r,((f,p)=>{const g=Wg(e,f,t);p=Wt(p);const w=o.yc(g);if(p instanceof dd)a.push(g);else{const x=fd(p,w);x!=null&&(a.push(g),u.set(g,x))}}));const d=new kn(a);return new s2(u,d,o.fieldTransforms)}function ML(n,e,t,r,o,a){const u=n.Cc(1,e,t),d=[gm(e,r,t)],f=[o];if(a.length%2!=0)throw new _e(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)d.push(gm(e,a[x])),f.push(a[x+1]);const p=[],g=_n.empty();for(let x=d.length-1;x>=0;--x)if(!c2(p,d[x])){const C=d[x];let V=f[x];V=Wt(V);const D=u.yc(C);if(V instanceof dd)p.push(C);else{const N=fd(V,D);N!=null&&(p.push(C),g.set(C,N))}}const w=new kn(p);return new s2(g,w,u.fieldTransforms)}function fd(n,e){if(u2(n=Wt(n)))return Hg("Unsupported field value:",e,n),l2(n,e);if(n instanceof zg)return(function(r,o){if(!o2(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let u=0;for(const d of r){let f=fd(d,o.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=Wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return S3(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=et.fromDate(r);return{timestampValue:Lh(o.serializer,a)}}if(r instanceof et){const a=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lh(o.serializer,a)}}if(r instanceof br)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bn)return{bytesValue:IT(o.serializer,r._byteString)};if(r instanceof Tt){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Cg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Nr)return(function(u,d){return{mapValue:{fields:{[eT]:{stringValue:tT},[Rh]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return Tg(d.serializer,p)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${yg(r)}`)})(n,e)}function l2(n,e){const t={};return Gx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(n,((r,o)=>{const a=fd(o,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function u2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof et||n instanceof br||n instanceof Bn||n instanceof Tt||n instanceof zg||n instanceof Nr)}function Hg(n,e,t){if(!u2(t)||!qx(t)){const r=yg(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function gm(n,e,t){if((e=Wt(e))instanceof hd)return e._internalPath;if(typeof e=="string")return Wg(n,e);throw Fh("Field path arguments must be of type string or ",n,!1,void 0,t)}const OL=new RegExp("[~\\*/\\[\\]]");function Wg(n,e,t){if(e.search(OL)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hd(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Fh(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new _e(te.INVALID_ARGUMENT,d+n+f)}function c2(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(d2("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class jL extends h2{data(){return super.data()}}function d2(n,e){return typeof e=="string"?Wg(n,e):e instanceof hd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UL{convertValue(e,t="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return is(e,((o,a)=>{r[o]=this.convertValue(a,t)})),r}convertVectorValue(e){var r,o,a;const t=(a=(o=(r=e.fields)==null?void 0:r[Rh].arrayValue)==null?void 0:o.values)==null?void 0:a.map((u=>yt(u.doubleValue)));return new Nr(t)}convertGeoPoint(e){return new br(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Zh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const t=Yi(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=at.fromString(e);qe(bT(r),9688,{name:e});const o=new ru(r.get(1),r.get(3)),a=new Te(r.popFirst(5));return o.isEqual(t)||ai(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Vl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bs extends h2{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(d2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Bs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bs._jsonSchema={type:xt("string",Bs._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class dh extends Bs{data(e={}){return super.data(e)}}class ra{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Vl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new dh(this._firestore,this._userDataWriter,r.key,r,new Vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((d=>{const f=new dh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Vl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new dh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Vl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,g=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),g=u.indexOf(d.doc.key)),{type:zL(d.type),doc:f,oldIndex:p,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(n){n=Ar(n,Tt);const e=Ar(n.firestore,ma);return AL(Bg(e),n._key).then((t=>m2(e,n,t)))}ra._jsonSchemaVersion="firestore/querySnapshot/1.0",ra._jsonSchema={type:xt("string",ra._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class f2 extends UL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}function fh(n,e,t){n=Ar(n,Tt);const r=Ar(n.firestore,ma),o=BL(n.converter,e,t);return p2(r,[DL(a2(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Pr.none())])}function X_(n,e,t,...r){n=Ar(n,Tt);const o=Ar(n.firestore,ma),a=a2(o);let u;return u=typeof(e=Wt(e))=="string"||e instanceof hd?ML(a,"updateDoc",n._key,e,t,r):LL(a,"updateDoc",n._key,e),p2(o,[u.toMutation(n._key,Pr.exists(!0))])}function ym(n,...e){var f,p,g;n=Wt(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Y_(e[r])||(t=e[r++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Y_(e[r])){const w=e[r];e[r]=(f=w.next)==null?void 0:f.bind(w),e[r+1]=(p=w.error)==null?void 0:p.bind(w),e[r+2]=(g=w.complete)==null?void 0:g.bind(w)}let a,u,d;if(n instanceof Tt)u=Ar(n.firestore,ma),d=td(n._key.path),a={next:w=>{e[r]&&e[r](m2(u,n,w))},error:e[r+1],complete:e[r+2]};else{const w=Ar(n,cd);u=Ar(w.firestore,ma),d=w._query;const x=new f2(u);a={next:C=>{e[r]&&e[r](new ra(u,x,w,C))},error:e[r+1],complete:e[r+2]},FL(n._query)}return(function(x,C,V,D){const N=new t2(D),z=new qT(C,N,V);return x.asyncQueue.enqueueAndForget((async()=>HT(await mm(x),z))),()=>{N.Nu(),x.asyncQueue.enqueueAndForget((async()=>WT(await mm(x),z)))}})(Bg(u),d,o,a)}function p2(n,e){return(function(r,o){const a=new qi;return r.asyncQueue.enqueueAndForget((async()=>mL(await CL(r),o,a))),a.promise})(Bg(n),e)}function m2(n,e,t){const r=t.docs.get(e._key),o=new f2(n);return new Bs(n,o,e._key,r,new Vl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Ca=o})(Ta),aa(new $s("firestore",((r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new ma(new DV(r.getProvider("auth-internal")),new OV(u,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(p.options.projectId,g)})(u,o),u);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),$i(n_,r_,e),$i(n_,r_,"esm2020")})();const $L={apiKey:"AIzaSyDbbQhZm7hlnYgAXu-svIw9TLcDKnsCzrY",authDomain:"artiseek-5be0e.firebaseapp.com",projectId:"artiseek-5be0e",storageBucket:"artiseek-5be0e.firebasestorage.app",messagingSenderId:"861683370384",appId:"1:861683370384:web:9973e5d14d740ea3d18b15"},g2=tx($L),Ep=kV(g2),ln=PL(g2),y2=U.createContext(),qg=()=>{const n=U.useContext(y2);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},HL=({children:n})=>{const[e,t]=U.useState(null),[r,o]=U.useState(!0),a=(f,p)=>fN(Ep,f,p),u=()=>yN(Ep);U.useEffect(()=>gN(Ep,p=>{t(p),o(!1)}),[]);const d={currentUser:e,login:a,logout:u};return _.jsx(y2.Provider,{value:d,children:!r&&n})},WL="/assets/logoNew-8GSe2MZx.png",qL=()=>{const[n,e]=U.useState(!1);return _.jsx(ce.header,{initial:{y:-100},animate:{y:0},transition:{duration:.8},className:"fixed top-0 left-0 right-0 z-50 bg-black bg-opacity-20 backdrop-blur-md border-b border-white border-opacity-20",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"flex justify-between items-center py-4",children:[_.jsxs(ce.div,{whileHover:{scale:1.05},className:"flex items-center",children:[_.jsx("img",{src:WL,alt:"logo",className:"w-20 h-12 object-contain"}),_.jsx("h1",{className:"text-2xl font-bold text-white",children:"Autonique"})]}),_.jsxs("nav",{className:"hidden md:flex flex-row gap-8",children:[_.jsx(ce.a,{href:"#home",whileHover:{scale:1.05},className:"text-white hover:text-blue-300 transition-colors duration-300 font-medium",children:""}),_.jsx(ce.a,{href:"#solutions",whileHover:{scale:1.05},className:"text-white hover:text-blue-300 transition-colors duration-300 font-medium",children:" "}),_.jsx(ce.a,{href:"#services",whileHover:{scale:1.05},className:"text-white hover:text-blue-300 transition-colors duration-300 font-medium",children:""}),_.jsx(ce.a,{href:"#about",whileHover:{scale:1.05},className:"text-white hover:text-blue-300 transition-colors duration-300 font-medium",children:" "}),_.jsx(ce.a,{href:"#contact",whileHover:{scale:1.05},className:"text-white hover:text-blue-300 transition-colors duration-300 font-medium",children:" "})]}),_.jsx("div",{className:"hidden lg:flex items-center space-x-6 space-x-reverse"}),_.jsx(ce.button,{whileTap:{scale:.95},onClick:()=>e(!n),className:"md:hidden text-white p-2",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),n&&_.jsx(ce.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"md:hidden bg-black bg-opacity-90 backdrop-blur-md rounded-lg mt-4 p-4",children:_.jsxs("nav",{className:"flex flex-col space-y-4",children:[_.jsx("a",{href:"#home",className:"text-white hover:text-blue-300 transition-colors font-medium",children:""}),_.jsx("a",{href:"#solutions",className:"text-white hover:text-blue-300 transition-colors font-medium",children:" "}),_.jsx("a",{href:"#services",className:"text-white hover:text-blue-300 transition-colors font-medium",children:""}),_.jsx("a",{href:"#about",className:"text-white hover:text-blue-300 transition-colors font-medium",children:" "}),_.jsx("a",{href:"#contact",className:"text-white hover:text-blue-300 transition-colors font-medium",children:" "})]})})]})})},KL=()=>{const n=U.useRef(null),[e,t]=U.useState("loading");return U.useEffect(()=>{n.current&&(n.current.load(),n.current.addEventListener("loadstart",()=>{console.log("Video loading started"),t("loading")}),n.current.addEventListener("loadeddata",()=>{console.log("Video data loaded"),t("loaded")}),n.current.addEventListener("canplay",()=>{console.log("Video can play"),t("playing")}),n.current.addEventListener("error",r=>{console.error("Video error:",r),t("error")}))},[]),_.jsxs("section",{className:"relative min-h-screen overflow-hidden",children:[_.jsxs("video",{ref:n,className:"absolute inset-0 w-full h-full object-cover",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"auto",children:[_.jsx("source",{src:"/assets/isbannerar.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),!1,_.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/60 via-black/40 to-blue-900/50"}),e==="error"&&_.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900 via-purple-900 to-black"}),_.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center h-full text-center px-4",children:_.jsxs(ce.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,delay:.3},className:"max-w-5xl mx-auto",children:[_.jsxs(ce.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},className:"text-5xl md:text-7xl mt-24 lg:text-8xl font-black mb-6 leading-tight",style:{background:"linear-gradient(135deg, #ffffff 0%, #60a5fa 50%, #3b82f6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",textShadow:"0 0 30px rgba(59, 130, 246, 0.5)",filter:"drop-shadow(0 0 20px rgba(255, 255, 255, 0.3))"},children:["  ",_.jsx("span",{className:"block text-6xl md:text-8xl lg:text-9xl mt-2",style:{background:"linear-gradient(135deg, #ffffff 0%, #60a5fa 50%, #3b82f6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",textShadow:"0 0 30px rgba(59, 130, 246, 0.5)",filter:"drop-shadow(0 0 20px rgba(255, 255, 255, 0.3))"},children:"Autonique"})]}),_.jsx(ce.h2,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.7},className:"text-2xl md:text-3xl lg:text-4xl font-bold mb-8 text-white",style:{textShadow:"0 0 20px rgba(59, 130, 246, 0.8), 0 0 40px rgba(59, 130, 246, 0.4)",filter:"drop-shadow(0 0 10px rgba(255, 255, 255, 0.2))"},children:"    "}),_.jsx(ce.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.9},className:"text-lg md:text-xl lg:text-2xl text-gray-100 mb-12 leading-relaxed max-w-4xl mx-auto",style:{textShadow:"0 0 15px rgba(0, 0, 0, 0.8), 0 0 30px rgba(0, 0, 0, 0.6)",filter:"drop-shadow(0 0 5px rgba(255, 255, 255, 0.1))"},children:"       .          .            .    !"})]})}),_.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:1.5},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20",children:_.jsxs(ce.a,{href:"#services",whileHover:{scale:1.1},className:"flex flex-col items-center text-white hover:text-yellow-300 transition-colors cursor-pointer",style:{textShadow:"0 0 15px rgba(255, 255, 255, 0.5)"},children:[_.jsx("span",{className:"text-sm font-medium mb-2",children:" "}),_.jsx(ce.div,{animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0},className:"w-6 h-6 border-2 border-white rounded-full flex items-center justify-center",style:{boxShadow:"0 0 15px rgba(255, 255, 255, 0.3)"},children:_.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})})]})})]})},GL=()=>{const n=[{id:1,title:"  ",description:"        .",icon:_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})},{id:2,title:"   OT/ICS",description:"         .",icon:_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})},{id:3,title:"  ",description:"       .",icon:_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})},{id:4,title:"    (CISO)",description:"        .",icon:_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})},{id:5,title:"  ",description:"       .",icon:_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{id:6,title:"   ",description:"          .",icon:_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},{id:7,title:"  ",description:"       .",icon:_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})},{id:8,title:"  ",description:"        .",icon:_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}],e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},t={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return _.jsx("section",{id:"services",className:"py-20 bg-gradient-to-br from-gray-50 via-white to-gray-100",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[_.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-6",style:{textShadow:"0 0 20px rgba(31, 41, 55, 0.1)"},children:""}),_.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",style:{textShadow:"0 0 10px rgba(75, 85, 99, 0.1)"},children:"         "})]}),_.jsx(ce.div,{variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.map(r=>_.jsxs(ce.div,{variants:t,whileHover:{scale:1.05,boxShadow:"0 0 30px rgba(59, 130, 246, 0.2)"},className:"bg-white rounded-2xl p-6 border border-gray-200 hover:border-blue-300 transition-all duration-300 shadow-lg hover:shadow-xl",style:{boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[_.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mb-6 text-white",style:{boxShadow:"0 4px 20px rgba(59, 130, 246, 0.3)"},children:r.icon}),_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",style:{textShadow:"0 0 10px rgba(31, 41, 55, 0.1)"},children:r.title}),_.jsx("p",{className:"text-gray-600 leading-relaxed",children:r.description}),_.jsx(ce.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"mt-4 text-blue-600 hover:text-blue-700 font-semibold transition-colors",children:"..."})]},r.id))})]})})},QL=()=>{const n=[{id:1,title:"  ",description:'             " ".',icon:_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})},{id:2,title:"  ",description:"             .",icon:_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},{id:3,title:"  ",description:"          .",icon:_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})},{id:4,title:"  ",description:"           .",icon:_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})},{id:5,title:"  ",description:"            .",icon:_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})},{id:6,title:"  ",description:"         .",icon:_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})},{id:7,title:"   ",description:"         .",icon:_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})},{id:8,title:"  ",description:"         .",icon:_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}],e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},t={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return _.jsx("section",{id:"solutions",className:"py-20 bg-[#011A38]",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[_.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[#01ACE4] mb-6",style:{textShadow:"0 0 20px rgba(31, 41, 55, 0.1)"},children:""}),_.jsx("p",{className:"text-xl text-white max-w-3xl mx-auto leading-relaxed",style:{textShadow:"0 0 10px rgba(75, 85, 99, 0.1)"},children:"       "})]}),_.jsx(ce.div,{variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.map(r=>_.jsxs(ce.div,{variants:t,whileHover:{scale:1.05,boxShadow:"0 0 30px rgba(59, 130, 246, 0.2)"},className:"bg-white rounded-2xl p-6 border border-gray-200 hover:border-blue-300 transition-all duration-300 shadow-lg hover:shadow-xl",style:{boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[_.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mb-6 text-white",style:{boxShadow:"0 4px 20px rgba(59, 130, 246, 0.3)"},children:r.icon}),_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",style:{textShadow:"0 0 10px rgba(31, 41, 55, 0.1)"},children:r.title}),_.jsx("p",{className:"text-gray-600 leading-relaxed",children:r.description}),_.jsx(ce.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"mt-4 text-blue-600 cursor-pointer hover:text-blue-700 font-semibold transition-colors",children:"..."})]},r.id))})]})})},YL=()=>{const n=[{number:"500+",label:" "},{number:"50+",label:" "},{number:"24/7",label:" "},{number:"99.9%",label:" "}],e=[{title:" 15+ ",description:"          ",icon:_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{title:" ",description:"      ",icon:_.jsxs("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})},{title:"  ",description:"          ",icon:_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M12 2.25a9.75 9.75 0 109.75 9.75A9.75 9.75 0 0012 2.25z"})})}];return _.jsx("section",{id:"about",className:"py-20 bg-gradient-to-br from-gray-50 via-white to-gray-100",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[_.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-6",style:{textShadow:"0 0 20px rgba(31, 41, 55, 0.1)"},children:" "}),_.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",style:{textShadow:"0 0 10px rgba(75, 85, 99, 0.1)"},children:"         "})]}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center mb-16",children:[_.jsxs(ce.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:[_.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-6",style:{textShadow:"0 0 15px rgba(31, 41, 55, 0.1)"},children:"    "}),_.jsx("p",{className:"text-lg text-gray-600 mb-6 leading-relaxed",children:"  Autonique            .             ."}),_.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"                  ."})]}),_.jsx(ce.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"grid grid-cols-2 gap-6",children:n.map((t,r)=>_.jsxs(ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:r*.1},className:"bg-white rounded-2xl p-6 text-center border border-gray-200 shadow-lg hover:shadow-xl transition-all duration-300",children:[_.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",style:{textShadow:"0 0 10px rgba(59, 130, 246, 0.2)"},children:t.number}),_.jsx("div",{className:"text-gray-600 font-medium",children:t.label})]},r))})]}),_.jsx(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((t,r)=>_.jsxs(ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:r*.1},whileHover:{scale:1.05,boxShadow:"0 0 30px rgba(59, 130, 246, 0.2)"},className:"bg-white rounded-2xl p-6 border border-gray-200 shadow-lg hover:shadow-xl transition-all duration-300",children:[_.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mb-6 text-white",style:{boxShadow:"0 4px 20px rgba(59, 130, 246, 0.3)"},children:t.icon}),_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",style:{textShadow:"0 0 10px rgba(31, 41, 55, 0.1)"},children:t.title}),_.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description})]},r))})]})})},XL=()=>{const[n,e]=U.useState([{title:"",value:"+971 50 123 4567",icon:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})},{title:" ",value:"info@autonique.ae",icon:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})},{title:"",value:"   ",icon:_.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}]),[t,r]=U.useState([{id:1,label:" - ",value:"8:00  - 6:00 "},{id:2,label:"",value:"9:00  - 1:00 "},{id:3,label:"",value:""},{id:4,label:" ",value:"   24/7"}]),[o,a]=U.useState(!0),[u,d]=U.useState([{id:1,name:"firstName",label:" ",type:"text",required:!0,placeholder:"  "},{id:2,name:"lastName",label:" ",type:"text",required:!0,placeholder:"  "},{id:3,name:"email",label:" ",type:"email",required:!0,placeholder:"  "},{id:4,name:"phone",label:" ",type:"tel",required:!0,placeholder:"  "},{id:5,name:"company",label:"",type:"text",required:!1,placeholder:"  "},{id:6,name:"message",label:"",type:"textarea",required:!0,placeholder:"   "}]),[f,p]=U.useState({}),[g,w]=U.useState({type:"",message:""}),[x,C]=U.useState(!1),[V,D]=U.useState([]);U.useEffect(()=>{const M=ym(an(ln,"settings","contact"),Z=>{if(Z.exists()){const re=Z.data();if(re.contactInfo&&Array.isArray(re.contactInfo)){const R=re.contactInfo.map(I=>{const A=b=>{switch(b){case"phone":return _.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})});case"email":return _.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})});case"location":return _.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]});case"clock":return _.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})});case"user":return _.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})});case"building":return _.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})});case"globe":return _.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});case"whatsapp":return _.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})});case"info":return _.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return _.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}};return{title:I.label,value:I.value,icon:A(I.icon||"phone")}});e(R)}else e(R=>{var I,A,b;return[{title:"",value:re.phone||"+971 50 123 4567",icon:((I=R[0])==null?void 0:I.icon)||"phone"},{title:" ",value:re.email||"info@autonique.ae",icon:((A=R[1])==null?void 0:A.icon)||"email"},{title:"",value:re.address||"   ",icon:((b=R[2])==null?void 0:b.icon)||"location"}]});if(re.formFields&&Array.isArray(re.formFields)){d(re.formFields);const R={};re.formFields.forEach(I=>{R[I.name]=""}),p(R)}}},Z=>{console.error("Error listening to contact info:",Z)}),Y=ym(an(ln,"settings","workingHours"),Z=>{if(Z.exists()){const re=Z.data();re.workingHours&&Array.isArray(re.workingHours)?r(re.workingHours):r([{id:1,label:" - ",value:re.sundayThursday||"8:00  - 6:00 "},{id:2,label:"",value:re.friday||"9:00  - 1:00 "},{id:3,label:"",value:re.saturday||""},{id:4,label:" ",value:re.support||"     24/7"}]),re.showWorkingHours!==void 0&&a(re.showWorkingHours)}},Z=>{console.error("Error listening to working hours:",Z)});return()=>{M(),Y()}},[]);const N=M=>{const{name:Y,value:Z}=M.target;p(re=>({...re,[Y]:Z}))},z=async M=>{M.preventDefault(),w({type:"loading",message:"  ..."});try{const Y=f.firstName||f.first_name||"",Z=f.lastName||f.last_name||"",re=`   ${Y} ${Z}`;let R="";u.forEach(A=>{const b=f[A.name]||"";b&&(R+=`${A.label}: ${b}
`)});const I=[{name:"Gmail",url:`https://mail.google.com/mail/?view=cm&fs=1&to=Info@Autoniqueit.com&su=${encodeURIComponent(re)}&body=${encodeURIComponent(R)}`,icon:""},{name:"Outlook",url:`https://outlook.live.com/mail/0/deeplink/compose?to=Info@Autoniqueit.com&subject=${encodeURIComponent(re)}&body=${encodeURIComponent(R)}`,icon:""},{name:"Yahoo Mail",url:`https://compose.mail.yahoo.com/?to=Info@Autoniqueit.com&subject=${encodeURIComponent(re)}&body=${encodeURIComponent(R)}`,icon:""},{name:"Default Email Client",url:`mailto:Info@Autoniqueit.com?subject=${encodeURIComponent(re)}&body=${encodeURIComponent(R)}`,icon:""}];D(I),C(!0),w({type:"",message:""})}catch{w({type:"error",message:"    "})}},G=M=>{window.open(M,"_blank"),C(!1),D([]),w({type:"success",message:"    !"});const Y={};u.forEach(Z=>{Y[Z.name]=""}),p(Y),setTimeout(()=>{w({type:"",message:""})},3e3)};return _.jsxs("section",{id:"contact",className:"py-20 bg-gradient-to-br from-gray-100 via-white to-gray-50",children:[_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[_.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-6",style:{textShadow:"0 0 20px rgba(31, 41, 55, 0.1)"},children:" "}),_.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",style:{textShadow:"0 0 10px rgba(75, 85, 99, 0.1)"},children:"      "})]}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[_.jsxs(ce.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-200",children:[_.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",style:{textShadow:"0 0 15px rgba(31, 41, 55, 0.1)"},children:"  "}),_.jsxs("form",{onSubmit:z,className:"space-y-6",children:[g.message&&_.jsx(ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`p-4 rounded-lg ${g.type==="success"?"bg-green-50 border border-green-200 text-green-700":g.type==="error"?"bg-red-50 border border-red-200 text-red-700":"bg-blue-50 border border-blue-200 text-blue-700"}`,children:g.message}),u.map((M,Y)=>{const Z=Y<2;return _.jsx("div",{className:Z?"grid grid-cols-1 md:grid-cols-2 gap-6":"",children:_.jsxs("div",{className:Z?"":"w-full",children:[_.jsxs("label",{htmlFor:M.name,className:"block text-gray-700 font-medium mb-2",children:[M.label," ",M.required&&_.jsx("span",{className:"text-red-500",children:"*"})]}),M.type==="textarea"?_.jsx("textarea",{id:M.name,name:M.name,value:f[M.name]||"",onChange:N,required:M.required,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 resize-none",placeholder:M.placeholder}):_.jsx("input",{id:M.name,type:M.type,name:M.name,value:f[M.name]||"",onChange:N,required:M.required,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:M.placeholder})]})},M.id)}),_.jsx(ce.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:g.type==="loading",className:"w-full bg-gradient-to-r cursor-pointer from-blue-600 to-blue-700 text-white py-3 px-6 rounded-lg font-semibold hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",style:{boxShadow:"0 4px 20px rgba(59, 130, 246, 0.3)"},children:g.type==="loading"?" ...":" "})]})]}),_.jsxs(ce.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"space-y-8",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",style:{textShadow:"0 0 15px rgba(31, 41, 55, 0.1)"},children:" "}),_.jsx("p",{className:"text-gray-600 leading-relaxed mb-8",children:"           ."})]}),_.jsx("div",{className:"space-y-6",children:n.map((M,Y)=>_.jsx(ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:Y*.1},whileHover:{scale:1.02,boxShadow:"0 0 20px rgba(59, 130, 246, 0.1)"},className:"bg-white rounded-xl p-6 border border-gray-200 shadow-lg hover:shadow-xl transition-all duration-300",children:_.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[_.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center text-white",style:{boxShadow:"0 4px 15px rgba(59, 130, 246, 0.3)"},children:M.icon}),_.jsxs("div",{children:[_.jsx("h4",{className:"text-lg font-semibold mr-3 text-gray-800 mb-1",children:M.title}),_.jsx("p",{className:"text-gray-600 mr-3",children:M.value})]})]})},Y))}),o&&_.jsxs(ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.4},className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 border border-blue-200",children:[_.jsx("h4",{className:"text-xl font-bold text-gray-800 mb-4",children:" "}),_.jsx("div",{className:"space-y-2 text-gray-600",children:t.map((M,Y)=>_.jsxs("p",{className:M.label.includes("")?"text-blue-600 font-semibold mt-4":"",children:[M.label,": ",M.value]},M.id||Y))})]})]})]})]}),x&&_.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>C(!1),children:_.jsxs(ce.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",onClick:M=>M.stopPropagation(),children:[_.jsxs("div",{className:"text-center mb-6",children:[_.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"  "}),_.jsx("p",{className:"text-gray-600",children:"      "})]}),_.jsx("div",{className:"space-y-3",children:V.map((M,Y)=>_.jsxs(ce.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>G(M.url),className:"w-full flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-all duration-300",children:[_.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[_.jsx("span",{className:"text-2xl",children:M.icon}),_.jsx("span",{className:"font-medium text-gray-800",children:M.name})]}),_.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},Y))}),_.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:_.jsx(ce.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>C(!1),className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-200 transition-colors duration-300",children:""})})]})})]})},JL=()=>{var r,o,a,u,d,f,p,g,w,x,C,V,D,N,z,G,M,Y,Z,re,R,I,A,b,O;const[n,e]=U.useState({companyInfo:{name:"Autonique",description:"    .         .",copyright:"  ."},sections:{services:{title:"",links:[{name:"  ",href:"#"},{name:"  ",href:"#"},{name:"  ",href:"#"},{name:"   ",href:"#"}]},solutions:{title:"",links:[{name:"  ",href:"#"},{name:"  ",href:"#"},{name:" ",href:"#"},{name:"  ",href:"#"}]},company:{title:"",links:[{name:" ",href:"#about"},{name:" ",href:"#"}]},support:{title:"",links:[{name:" ",href:"#"},{name:" ",href:"#"},{name:" ",href:"#contact"},{name:"",href:"#"}]}},socialLinks:[{name:"LinkedIn",href:"#",icon:"linkedin"},{name:"Twitter",href:"#",icon:"twitter"},{name:"Facebook",href:"#",icon:"facebook"}]});U.useEffect(()=>{const F=ym(an(ln,"settings","footer"),k=>{if(k.exists()){const We=k.data();e(We)}},k=>{console.error("Error listening to footer data:",k)});return()=>{F()}},[]);const t=F=>{switch(F){case"linkedin":return _.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})});case"twitter":return _.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})});case"facebook":return _.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})});case"instagram":return _.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})});case"youtube":return _.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})});default:return _.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}};return _.jsx("footer",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-gray-800 text-white",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:[_.jsx("div",{className:"lg:col-span-2",children:_.jsxs(ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[_.jsx("h3",{className:"text-2xl font-bold mb-4",style:{textShadow:"0 0 15px rgba(59, 130, 246, 0.3)"},children:((r=n.companyInfo)==null?void 0:r.name)||"Autonique"}),_.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:((o=n.companyInfo)==null?void 0:o.description)||"    .         ."}),_.jsx("div",{className:"flex space-x-4 space-x-reverse",children:(a=n.socialLinks)==null?void 0:a.map((F,k)=>_.jsx(ce.a,{href:F.href,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},className:"w-10 h-10 bg-blue-600 mr-3 rounded-lg flex items-center justify-center hover:bg-blue-700 transition-colors duration-300",style:{boxShadow:"0 4px 15px rgba(59, 130, 246, 0.3)"},children:t(F.icon)},k))})]})}),_.jsxs(ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},children:[_.jsx("h4",{className:"text-lg font-semibold mb-4 text-blue-300",children:((d=(u=n.sections)==null?void 0:u.services)==null?void 0:d.title)||""}),_.jsx("ul",{className:"space-y-2",children:(g=(p=(f=n.sections)==null?void 0:f.services)==null?void 0:p.links)==null?void 0:g.map((F,k)=>_.jsx("li",{children:_.jsx("a",{href:F.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-blue-300 transition-colors duration-300",children:F.name})},k))})]}),_.jsxs(ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},children:[_.jsx("h4",{className:"text-lg font-semibold mb-4 text-blue-300",children:((x=(w=n.sections)==null?void 0:w.solutions)==null?void 0:x.title)||""}),_.jsx("ul",{className:"space-y-2",children:(D=(V=(C=n.sections)==null?void 0:C.solutions)==null?void 0:V.links)==null?void 0:D.map((F,k)=>_.jsx("li",{children:_.jsx("a",{href:F.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-blue-300 transition-colors duration-300",children:F.name})},k))})]}),_.jsxs(ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.3},className:"space-y-8",children:[_.jsxs("div",{children:[_.jsx("h4",{className:"text-lg font-semibold mb-4 text-blue-300",children:((z=(N=n.sections)==null?void 0:N.company)==null?void 0:z.title)||""}),_.jsx("ul",{className:"space-y-2",children:(Y=(M=(G=n.sections)==null?void 0:G.company)==null?void 0:M.links)==null?void 0:Y.map((F,k)=>_.jsx("li",{children:_.jsx("a",{href:F.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-blue-300 transition-colors duration-300",children:F.name})},k))})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"text-lg font-semibold mb-4 text-blue-300",children:((re=(Z=n.sections)==null?void 0:Z.support)==null?void 0:re.title)||""}),_.jsx("ul",{className:"space-y-4",children:(A=(I=(R=n.sections)==null?void 0:R.support)==null?void 0:I.links)==null?void 0:A.map((F,k)=>_.jsx("li",{children:_.jsx("a",{href:F.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-blue-300 transition-colors duration-300",children:F.name})},k))})]})]})]}),_.jsx(ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.4},className:"border-t border-gray-700 mt-12 pt-8",children:_.jsx("div",{className:"flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0",children:_.jsx("div",{className:"text-center",children:_.jsxs("div",{className:"text-gray-400 text-sm bg-gradient-to-r from-gray-700 to-gray-800 px-6 py-3 rounded-full border border-gray-600 shadow-lg",children:[_.jsx("span",{className:"text-gray-300",children:((b=n.companyInfo)==null?void 0:b.copyright)||"  "}),_.jsxs("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent font-semibold",children:[" ",new Date().getFullYear()," ",((O=n.companyInfo)==null?void 0:O.name)||"Autonique"]})]})})})})]})})},ZL=()=>{const[n,e]=U.useState(""),[t,r]=U.useState(""),[o,a]=U.useState(!1),[u,d]=U.useState(!1),[f,p]=U.useState(""),[g,w]=U.useState(!1),{login:x}=qg(),C=Bh(),V=async D=>{D.preventDefault();try{p(""),w(!0),await x(n,t),C("/admin/dashboard")}catch{p("   .       .")}w(!1)};return _.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 via-white to-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:_.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8",children:[_.jsxs("div",{children:[_.jsx(ce.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"  "}),_.jsx(ce.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-2 text-center text-sm text-gray-600",children:"    "})]}),_.jsxs(ce.form,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-8 space-y-6",onSubmit:V,children:[_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),_.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"  ",value:n,onChange:D=>e(D.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{id:"password",name:"password",type:o?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"  ",value:t,onChange:D=>r(D.target.value)}),_.jsx("button",{type:"button",className:"absolute cursor-pointer inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!o),children:o?_.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):_.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),_.jsx("div",{className:"flex items-center justify-between",children:_.jsxs("div",{className:"flex items-center",children:[_.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:u,onChange:D=>d(D.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),_.jsx("label",{htmlFor:"remember-me",className:"mr-2 block text-sm text-gray-900",children:""})]})})]}),f&&_.jsx(ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm",children:f}),_.jsx("div",{children:_.jsx(ce.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:g,className:"group relative cursor-pointer w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"  ...":" "})})]})]})})},e5=()=>{var be,Ve,Le,Ue;const{currentUser:n,logout:e}=qg(),t=Bh(),[r,o]=U.useState([{id:1,type:"phone",label:" ",value:"+971 50 123 4567",placeholder:"  "},{id:2,type:"email",label:" ",value:"info@autonique.ae",placeholder:"  "},{id:3,type:"address",label:"",value:"   ",placeholder:" "}]),[a,u]=U.useState([{id:1,label:" - ",value:"8:00  - 6:00 "},{id:2,label:"",value:"9:00  - 1:00 "},{id:3,label:"",value:""},{id:4,label:" ",value:"   24/7"}]),[d,f]=U.useState(!0),[p,g]=U.useState([{id:1,name:"firstName",label:" ",type:"text",required:!0,placeholder:"  "},{id:2,name:"lastName",label:" ",type:"text",required:!0,placeholder:"  "},{id:3,name:"email",label:" ",type:"email",required:!0,placeholder:"  "},{id:4,name:"phone",label:" ",type:"tel",required:!0,placeholder:"  "},{id:5,name:"company",label:"",type:"text",required:!1,placeholder:"  "},{id:6,name:"message",label:"",type:"textarea",required:!0,placeholder:"   "}]),[w,x]=U.useState({companyInfo:{name:"Autonique",description:"    .         .",copyright:"  ."},sections:{services:{title:"",links:[{id:1,name:"  ",href:"#"},{id:2,name:"  ",href:"#"},{id:3,name:"  ",href:"#"},{id:4,name:"   ",href:"#"}]},solutions:{title:"",links:[{id:1,name:"  ",href:"#"},{id:2,name:"  ",href:"#"},{id:3,name:" ",href:"#"},{id:4,name:"  ",href:"#"}]},company:{title:"",links:[{id:1,name:" ",href:"#about"},{id:2,name:" ",href:"#"}]},support:{title:"",links:[{id:1,name:" ",href:"#"},{id:2,name:" ",href:"#"},{id:3,name:" ",href:"#contact"},{id:4,name:"",href:"#"}]}},socialLinks:[{id:1,name:"LinkedIn",href:"#",icon:"linkedin"},{id:2,name:"Twitter",href:"#",icon:"twitter"},{id:3,name:"Facebook",href:"#",icon:"facebook"}]}),[C,V]=U.useState(!0),[D,N]=U.useState(!1),[z,G]=U.useState("");U.useEffect(()=>{M()},[]);const M=async()=>{try{const q=an(ln,"settings","contact"),le=await ia(q);if(le.exists()){const ct=le.data();ct.contactInfo&&Array.isArray(ct.contactInfo)&&o(ct.contactInfo),ct.formFields&&Array.isArray(ct.formFields)&&g(ct.formFields)}const ie=an(ln,"settings","footer"),Ne=await ia(ie);if(Ne.exists()){const ct=Ne.data();x(ct)}const Xe=an(ln,"settings","workingHours"),It=await ia(Xe);if(It.exists()){const ct=It.data();ct.workingHours&&Array.isArray(ct.workingHours)&&u(ct.workingHours),ct.showWorkingHours!==void 0&&f(ct.showWorkingHours)}}catch(q){console.error("Error loading data:",q)}finally{V(!1)}},Y=async()=>{try{N(!0),G("");const q=an(ln,"settings","contact");await X_(q,{contactInfo:r,formFields:p});const le=an(ln,"settings","footer");await fh(le,w,{merge:!0});const ie=an(ln,"settings","workingHours");await X_(ie,{workingHours:a,showWorkingHours:d}),G("   !"),setTimeout(()=>G(""),3e3)}catch(q){G("    "),console.error("Error saving data:",q)}finally{N(!1)}},Z=()=>{const le={id:Math.max(...r.map(ie=>ie.id))+1,type:"text",label:" ",value:"",placeholder:" ",icon:"phone"};o([...r,le])},re=q=>{o(r.filter(le=>le.id!==q))},R=(q,le,ie)=>{o(r.map(Ne=>Ne.id===q?{...Ne,[le]:ie}:Ne))},I=()=>{const le={id:Math.max(...a.map(ie=>ie.id))+1,label:" ",value:""};u([...a,le])},A=q=>{u(a.filter(le=>le.id!==q))},b=(q,le,ie)=>{u(a.map(Ne=>Ne.id===q?{...Ne,[le]:ie}:Ne))},O=()=>{const q=Math.max(...p.map(ie=>ie.id))+1,le={id:q,name:`field_${q}`,label:" ",type:"text",required:!1,placeholder:"  "};g([...p,le])},F=q=>{g(p.filter(le=>le.id!==q))},k=(q,le,ie)=>{g(p.map(Ne=>Ne.id===q?{...Ne,[le]:ie}:Ne))},We=(q,le)=>{x(ie=>({...ie,companyInfo:{...ie.companyInfo,[q]:le}}))},ft=(q,le)=>{x(ie=>({...ie,sections:{...ie.sections,[q]:{...ie.sections[q],title:le}}}))},St=q=>{const le=w.sections[q],Ne={id:Math.max(...le.links.map(Xe=>Xe.id))+1,name:" ",href:"#"};x(Xe=>({...Xe,sections:{...Xe.sections,[q]:{...Xe.sections[q],links:[...le.links,Ne]}}}))},Ce=(q,le)=>{x(ie=>({...ie,sections:{...ie.sections,[q]:{...ie.sections[q],links:ie.sections[q].links.filter(Ne=>Ne.id!==le)}}}))},oe=(q,le,ie,Ne)=>{x(Xe=>({...Xe,sections:{...Xe.sections,[q]:{...Xe.sections[q],links:Xe.sections[q].links.map(It=>It.id===le?{...It,[ie]:Ne}:It)}}}))},ge=()=>{const le={id:Math.max(...w.socialLinks.map(ie=>ie.id))+1,name:" ",href:"#",icon:"linkedin"};x(ie=>({...ie,socialLinks:[...ie.socialLinks,le]}))},he=q=>{x(le=>({...le,socialLinks:le.socialLinks.filter(ie=>ie.id!==q)}))},B=(q,le,ie)=>{x(Ne=>({...Ne,socialLinks:Ne.socialLinks.map(Xe=>Xe.id===q?{...Xe,[le]:ie}:Xe)}))},X=()=>[{value:"phone",label:"",icon:""},{value:"email",label:" ",icon:""},{value:"location",label:"",icon:""},{value:"clock",label:"",icon:""},{value:"user",label:"",icon:""},{value:"building",label:"",icon:""},{value:"globe",label:" ",icon:""},{value:"whatsapp",label:"",icon:""},{value:"info",label:"",icon:""}],we=async()=>{try{await e(),t("/admin/login")}catch(q){console.error("Error logging out:",q)}};return C?_.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),_.jsx("p",{className:"mt-4 text-gray-600",children:" ..."})]})}):_.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50",children:[_.jsx("header",{className:"bg-white shadow-lg border-b border-gray-200",children:_.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"flex justify-between items-center py-6",children:[_.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[_.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:_.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),_.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r mr-2 from-gray-900 to-blue-600 bg-clip-text text-transparent",children:"  "})]}),_.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[_.jsxs("div",{className:"text-right",children:[_.jsx("span",{className:"text-gray-600 text-base",children:""}),_.jsx("p",{className:"text-gray-900 font-medium",children:n==null?void 0:n.email})]}),_.jsx(ce.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:we,className:"bg-gradient-to-r from-red-500 mr-4 cursor-pointer to-red-600 text-white px-6 py-2 rounded-lg hover:from-red-600 hover:to-red-700 transition-all duration-300 shadow-lg",children:" "})]})]})})}),_.jsxs("main",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[_.jsxs(ce.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[_.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse mb-6",children:[_.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:_.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),_.jsx("h2",{className:"text-2xl font-bold text-gray-700 mr-2",children:" "})]}),z&&_.jsx(ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`mb-6 p-4 rounded-lg ${z.includes("")?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:z}),_.jsxs("div",{className:"space-y-6",children:[r.map((q,le)=>_.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:le*.1},className:"relative border border-gray-200 rounded-lg p-4 bg-gray-50",children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("input",{type:"text",value:q.label,onChange:ie=>R(q.id,"label",ie.target.value),className:"text-sm font-medium text-gray-700 bg-transparent border-none focus:outline-none",placeholder:" "}),r.length>1&&_.jsx(ce.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>re(q.id),className:"text-red-500 hover:text-red-700 transition-colors",children:_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:" "}),_.jsxs("select",{value:q.type,onChange:ie=>R(q.id,"type",ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[_.jsx("option",{value:"text",children:""}),_.jsx("option",{value:"email",children:" "}),_.jsx("option",{value:"tel",children:""}),_.jsx("option",{value:"address",children:""}),_.jsx("option",{value:"url",children:""})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:""}),_.jsx("select",{value:q.icon||"phone",onChange:ie=>R(q.id,"icon",ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:X().map(ie=>_.jsxs("option",{value:ie.value,children:[ie.icon," ",ie.label]},ie.value))})]})]}),q.type==="address"?_.jsx("textarea",{value:q.value,onChange:ie=>R(q.id,"value",ie.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none transition-all duration-300",placeholder:q.placeholder}):_.jsx("input",{type:q.type,value:q.value,onChange:ie=>R(q.id,"value",ie.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:q.placeholder})]},q.id)),_.jsxs(ce.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Z,className:"w-full border-2 border-dashed border-blue-300 text-blue-600 py-3 px-4 rounded-lg hover:border-blue-500 hover:text-blue-700 transition-all duration-300 flex items-center justify-center space-x-2 space-x-reverse",children:[_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),_.jsx("span",{children:"   "})]}),_.jsx("div",{className:"flex justify-center pt-4",children:_.jsx(ce.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Y,disabled:D,className:"bg-gradient-to-r cursor-pointer from-blue-600 to-blue-700 text-white py-3 px-8 rounded-lg font-semibold hover:from-blue-700 hover:to-blue-800 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:D?" ...":" "})})]}),_.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:" "}),_.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 rounded-xl p-6 space-y-4 border border-gray-100",children:r.map(q=>{const le=X().find(ie=>ie.value===(q.icon||"phone"));return _.jsxs("div",{className:"flex items-start space-x-3 space-x-reverse",children:[_.jsx("div",{className:"w-8 h-8 ml-3 bg-blue-100 rounded-lg flex items-center justify-center mt-1",children:_.jsx("span",{className:"text-lg",children:(le==null?void 0:le.icon)||""})}),_.jsxs("div",{children:[_.jsx("span",{className:"text-gray-600 text-sm",children:q.label}),_.jsx("p",{className:"text-gray-900 font-medium",children:q.value||"   "})]})]},q.id)})})]})]}),_.jsxs(ce.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[_.jsxs("div",{className:"flex items-center justify-between mb-6",children:[_.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[_.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:_.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),_.jsx("h2",{className:"text-2xl font-bold text-gray-700 mr-2",children:" "})]}),_.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[_.jsx("span",{className:"text-base text-gray-700 ml-8 font-medium",children:" "}),_.jsxs(ce.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>f(!d),className:`relative cursor-pointer inline-flex h-7 w-14 items-center rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 shadow-md ${d?"bg-gradient-to-r from-green-500 to-green-600 shadow-green-200":"bg-gradient-to-r from-gray-300 to-gray-400 shadow-gray-200"}`,children:[_.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow-lg transition-all duration-300 ${d?"-translate-x-2":"-translate-x-8"}`}),_.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-1.5",children:[_.jsx("svg",{className:`w-3 h-3 transition-opacity duration-300 ${d?"opacity-0":"opacity-100"}`,fill:"currentColor",viewBox:"0 0 20 20",children:_.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),_.jsx("svg",{className:`w-3 h-3 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,fill:"currentColor",viewBox:"0 0 20 20",children:_.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]})]})]})]}),d&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"space-y-6",children:[a.map((q,le)=>_.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:le*.1},className:"relative border border-gray-200 rounded-lg p-4 bg-gray-50",children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("input",{type:"text",value:q.label,onChange:ie=>b(q.id,"label",ie.target.value),className:"text-sm font-medium text-gray-700 bg-transparent border-none focus:outline-none",placeholder:"   "}),a.length>1&&_.jsx(ce.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>A(q.id),className:"text-red-500 hover:text-red-700 transition-colors",children:_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),_.jsx("input",{type:"text",value:q.value,onChange:ie=>b(q.id,"value",ie.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300",placeholder:": 8:00  - 6:00 "})]},q.id)),_.jsxs(ce.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:I,className:"w-full border-2 border-dashed border-green-300 text-green-600 py-3 px-4 rounded-lg hover:border-green-500 hover:text-green-700 transition-all duration-300 flex items-center justify-center space-x-2 space-x-reverse",children:[_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),_.jsx("span",{children:"   "})]})]}),_.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"  "}),_.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 space-y-4 border border-green-100",children:a.map(q=>_.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[_.jsx("div",{className:"w-8 h-8 ml-3 bg-green-100 rounded-lg flex items-center justify-center",children:_.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),_.jsxs("div",{children:[_.jsx("span",{className:"text-gray-600 text-sm",children:q.label}),_.jsx("p",{className:"text-gray-900 font-medium",children:q.value||"   "})]})]},q.id))})]})]}),_.jsx("div",{className:"flex justify-center pt-4",children:_.jsx(ce.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Y,disabled:D,className:"bg-gradient-to-r cursor-pointer from-green-600 to-green-700 text-white py-3 px-8 rounded-lg font-semibold hover:from-green-700 hover:to-green-800 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:D?" ...":"  "})})]})]}),_.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mt-8 bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[_.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse mb-6",children:[_.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:_.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),_.jsx("h2",{className:"text-2xl font-bold text-gray-700 mr-2",children:"  "})]}),_.jsxs("div",{className:"space-y-6",children:[p.map((q,le)=>_.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:le*.1},className:"relative border border-gray-200 rounded-lg p-4 bg-gray-50",children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("input",{type:"text",value:q.label,onChange:ie=>k(q.id,"label",ie.target.value),className:"text-sm font-medium text-gray-700 bg-transparent border-none focus:outline-none",placeholder:" "}),p.length>1&&_.jsx(ce.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>F(q.id),className:"text-red-500 hover:text-red-700 transition-colors",children:_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:" "}),_.jsxs("select",{value:q.type,onChange:ie=>k(q.id,"type",ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",children:[_.jsx("option",{value:"text",children:""}),_.jsx("option",{value:"email",children:" "}),_.jsx("option",{value:"tel",children:""}),_.jsx("option",{value:"textarea",children:" "})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:" "}),_.jsx("input",{type:"text",value:q.placeholder,onChange:ie=>k(q.id,"placeholder",ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",placeholder:" "})]}),_.jsx("div",{className:"flex items-center",children:_.jsxs("label",{className:"flex items-center space-x-2 space-x-reverse",children:[_.jsx("input",{type:"checkbox",checked:q.required,onChange:ie=>k(q.id,"required",ie.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),_.jsx("span",{className:"text-sm text-gray-700",children:""})]})})]})]},q.id)),_.jsxs(ce.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:O,className:"w-full border-2 border-dashed border-purple-300 text-purple-600 py-3 px-4 rounded-lg hover:border-purple-500 hover:text-purple-700 transition-all duration-300 flex items-center justify-center space-x-2 space-x-reverse",children:[_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),_.jsx("span",{children:"  "})]}),_.jsx("div",{className:"flex justify-center pt-4",children:_.jsx(ce.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Y,disabled:D,className:"bg-gradient-to-r cursor-pointer from-purple-600 to-purple-700 text-white py-3 px-8 rounded-lg font-semibold hover:from-purple-700 hover:to-purple-800 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:D?" ...":"  "})})]}),_.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:" "}),_.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl p-6 space-y-4 border border-purple-100",children:p.map(q=>_.jsxs("div",{className:"space-y-2",children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[q.label," ",q.required&&_.jsx("span",{className:"text-red-500",children:"*"})]}),q.type==="textarea"?_.jsx("textarea",{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm resize-none",placeholder:q.placeholder,disabled:!0}):_.jsx("input",{type:q.type,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm",placeholder:q.placeholder,disabled:!0})]},q.id))})]})]}),_.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"mt-8 bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[_.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse mb-6",children:[_.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:_.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),_.jsx("h2",{className:"text-2xl font-bold text-gray-700 mr-2",children:" "})]}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[_.jsxs("div",{className:"space-y-6",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:" "}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:" "}),_.jsx("input",{type:"text",value:((be=w.companyInfo)==null?void 0:be.name)||"",onChange:q=>We("name",q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300",placeholder:" "})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:" "}),_.jsx("textarea",{value:((Ve=w.companyInfo)==null?void 0:Ve.description)||"",onChange:q=>We("description",q.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300 resize-none",placeholder:" "})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"  "}),_.jsx("input",{type:"text",value:((Le=w.companyInfo)==null?void 0:Le.copyright)||"",onChange:q=>We("copyright",q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300",placeholder:"  ."})]})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"  "}),_.jsx(ce.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ge,className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-300",children:" "})]}),_.jsx("div",{className:"space-y-4",children:(Ue=w.socialLinks)==null?void 0:Ue.map((q,le)=>_.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:le*.1},className:"relative border border-gray-200 rounded-lg p-4 bg-gray-50",children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("input",{type:"text",value:q.name,onChange:ie=>B(q.id,"name",ie.target.value),className:"text-sm font-medium text-gray-700 bg-transparent border-none focus:outline-none",placeholder:" "}),w.socialLinks.length>1&&_.jsx(ce.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>he(q.id),className:"text-red-500 hover:text-red-700 transition-colors",children:_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:""}),_.jsx("input",{type:"url",value:q.href,onChange:ie=>B(q.id,"href",ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm",placeholder:"https://"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:""}),_.jsxs("select",{value:q.icon,onChange:ie=>B(q.id,"icon",ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm",children:[_.jsx("option",{value:"linkedin",children:"LinkedIn"}),_.jsx("option",{value:"twitter",children:"Twitter"}),_.jsx("option",{value:"facebook",children:"Facebook"}),_.jsx("option",{value:"instagram",children:"Instagram"}),_.jsx("option",{value:"youtube",children:"YouTube"})]})]})]})]},q.id))})]})]}),_.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-6",children:" "}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:Object.entries(w.sections||{}).map(([q,le])=>{var ie;return _.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"border border-gray-200 rounded-lg p-6 bg-gray-50",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsx("input",{type:"text",value:le.title,onChange:Ne=>ft(q,Ne.target.value),className:"text-lg font-semibold text-gray-700 bg-transparent border-none focus:outline-none",placeholder:" "}),_.jsx(ce.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>St(q),className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white px-3 py-1 rounded text-sm font-medium hover:from-orange-600 hover:to-orange-700 transition-all duration-300",children:" "})]}),_.jsx("div",{className:"space-y-3",children:(ie=le.links)==null?void 0:ie.map((Ne,Xe)=>_.jsxs(ce.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:Xe*.1},className:"flex items-center space-x-3 space-x-reverse",children:[_.jsx("input",{type:"text",value:Ne.name,onChange:It=>oe(q,Ne.id,"name",It.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm",placeholder:" "}),_.jsx("input",{type:"text",value:Ne.href,onChange:It=>oe(q,Ne.id,"href",It.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm",placeholder:"#"}),le.links.length>1&&_.jsx(ce.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Ce(q,Ne.id),className:"text-red-500 hover:text-red-700 transition-colors",children:_.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},Ne.id))})]},q)})})]}),_.jsx("div",{className:"flex justify-center pt-6",children:_.jsx(ce.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Y,disabled:D,className:"bg-gradient-to-r cursor-pointer from-orange-600 to-orange-700 text-white py-3 px-8 rounded-lg font-semibold hover:from-orange-700 hover:to-orange-800 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:D?" ...":" "})})]})]})]})},t5=({children:n})=>{const{currentUser:e}=qg();return e?n:_.jsx(wI,{to:"/admin/login",replace:!0})};function n5(){return _.jsx(HL,{children:_.jsx(WI,{children:_.jsxs(xI,{children:[_.jsx(Yc,{path:"/",element:_.jsxs(ce.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen bg-gray-50",children:[_.jsx(qL,{}),_.jsx(KL,{}),_.jsx(GL,{}),_.jsx(QL,{}),_.jsx(YL,{}),_.jsx(XL,{}),_.jsx(JL,{})]})}),_.jsx(Yc,{path:"/admin/login",element:_.jsx(ZL,{})}),_.jsx(Yc,{path:"/admin/dashboard",element:_.jsx(t5,{children:_.jsx(e5,{})})})]})})})}const r5=async()=>{try{const n={contactInfo:[{id:1,type:"phone",label:" ",value:"+971 50 123 4567",placeholder:"  "},{id:2,type:"email",label:" ",value:"info@autonique.ae",placeholder:"  "},{id:3,type:"address",label:"",value:"   ",placeholder:" "}]};try{(await ia(an(ln,"settings","contact"))).exists()?console.log("Contact information already exists, skipping initialization"):(await fh(an(ln,"settings","contact"),n),console.log("Contact information initialized successfully"))}catch(r){console.log("Error checking/creating contact info:",r.message)}const e={workingHours:[{id:1,label:" - ",value:"8:00  - 6:00 "},{id:2,label:"",value:"9:00  - 1:00 "},{id:3,label:"",value:""},{id:4,label:" ",value:"   24/7"}]};try{(await ia(an(ln,"settings","workingHours"))).exists()?console.log("Working hours already exists, skipping initialization"):(await fh(an(ln,"settings","workingHours"),e),console.log("Working hours initialized successfully"))}catch(r){console.log("Error checking/creating working hours:",r.message)}const t={companyInfo:{name:"Autonique",description:"    .         .",copyright:"  ."},sections:{services:{title:"",links:[{id:1,name:"  ",href:"#"},{id:2,name:"  ",href:"#"},{id:3,name:"  ",href:"#"},{id:4,name:"   ",href:"#"}]},solutions:{title:"",links:[{id:1,name:"  ",href:"#"},{id:2,name:"  ",href:"#"},{id:3,name:" ",href:"#"},{id:4,name:"  ",href:"#"}]},company:{title:"",links:[{id:1,name:" ",href:"#about"},{id:2,name:" ",href:"#"}]},support:{title:"",links:[{id:1,name:" ",href:"#"},{id:2,name:" ",href:"#"},{id:3,name:" ",href:"#contact"},{id:4,name:"",href:"#"}]}},socialLinks:[{id:1,name:"LinkedIn",href:"#",icon:"linkedin"},{id:2,name:"Twitter",href:"#",icon:"twitter"},{id:3,name:"Facebook",href:"#",icon:"facebook"}]};try{(await ia(an(ln,"settings","footer"))).exists()?console.log("Footer data already exists, skipping initialization"):(await fh(an(ln,"settings","footer"),t),console.log("Footer data initialized successfully"))}catch(r){console.log("Error checking/creating footer data:",r.message)}console.log("Firebase initialized. Admin user should be created manually in Firebase Console.")}catch(n){console.error("Error initializing Firebase:",n)}};r5();bS.createRoot(document.getElementById("root")).render(_.jsx(SS.StrictMode,{children:_.jsx(n5,{})}));
